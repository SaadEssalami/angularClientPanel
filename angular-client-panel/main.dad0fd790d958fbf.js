var LM=Object.defineProperty,VM=Object.defineProperties,UM=Object.getOwnPropertyDescriptors,IA=Object.getOwnPropertySymbols,BM=Object.prototype.hasOwnProperty,jM=Object.prototype.propertyIsEnumerable,CA=(pt,ae,j)=>ae in pt?LM(pt,ae,{enumerable:!0,configurable:!0,writable:!0,value:j}):pt[ae]=j,DA=(pt,ae)=>{for(var j in ae||(ae={}))BM.call(ae,j)&&CA(pt,j,ae[j]);if(IA)for(var j of IA(ae))jM.call(ae,j)&&CA(pt,j,ae[j]);return pt},TA=(pt,ae)=>VM(pt,UM(ae));(self.webpackChunkangularClientPanel=self.webpackChunkangularClientPanel||[]).push([[179],{2011:(pt,ae,j)=>{"use strict";j.d(ae,{hO:()=>Ye,xv:()=>xe,Dh:()=>pe,GT:()=>De,cc:()=>Ee,on:()=>Q,pX:()=>ce});var C=j(5e3),h=j(127),V=j(5813);pt=j.hmd(pt);const he=["ngOnDestroy"],ce=(Te,Ve,Je,ze={})=>new Proxy(Te,{get:(We,Be)=>Je.runOutsideAngular(()=>{var it;if(Te[Be])return(null===(it=null==ze?void 0:ze.spy)||void 0===it?void 0:it.get)&&ze.spy.get(Be,Te[Be]),Te[Be];if(he.indexOf(Be)>-1)return()=>{};const fe=Ve.toPromise().then(Ae=>{const Oe=Ae&&Ae[Be];return"function"==typeof Oe?Oe.bind(Ae):Oe&&Oe.then?Oe.then(re=>Je.run(()=>re)):Je.run(()=>Oe)});return new Proxy(()=>{},{get:(Ae,Oe)=>fe[Oe],apply:(Ae,Oe,re)=>fe.then(le=>{var me;const Re=le&&le(...re);return(null===(me=null==ze?void 0:ze.spy)||void 0===me?void 0:me.apply)&&ze.spy.apply(Be,re,Re),Re})})})}),De=(Te,Ve)=>{Ve.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(ze=>{Object.defineProperty(Te.prototype,ze,Object.getOwnPropertyDescriptor(Je.prototype||Je,ze))})})};class _e{constructor(Ve){return Ve}}const pe=new C.InjectionToken("angularfire2.app.options"),xe=new C.InjectionToken("angularfire2.app.name");function Q(Te,Ve,Je){const We="object"==typeof Je&&Je||{};We.name=We.name||"string"==typeof Je&&Je||"[DEFAULT]";const it=h.Z.apps.filter(fe=>fe&&fe.name===We.name)[0]||Ve.runOutsideAngular(()=>h.Z.initializeApp(Te,We));try{JSON.stringify(Te)!==JSON.stringify(it.options)&&Y("error",`${it.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(fe){}return new _e(it)}const Y=(Te,...Ve)=>{(0,C.isDevMode)()&&"undefined"!=typeof console&&console[Te](...Ve)},ue={provide:_e,useFactory:Q,deps:[pe,C.NgZone,[new C.Optional,xe]]};let Ye=(()=>{class Te{constructor(Je){h.Z.registerVersion("angularfire",V.q4.full,"core"),h.Z.registerVersion("angularfire",V.q4.full,"app-compat"),h.Z.registerVersion("angular",C.VERSION.full,Je.toString())}static initializeApp(Je,ze){return{ngModule:Te,providers:[{provide:pe,useValue:Je},{provide:xe,useValue:ze}]}}}return Te.\u0275fac=function(Je){return new(Je||Te)(C.\u0275\u0275inject(C.PLATFORM_ID))},Te.\u0275mod=C.\u0275\u0275defineNgModule({type:Te}),Te.\u0275inj=C.\u0275\u0275defineInjector({providers:[ue]}),Te})();function Ee(Te,Ve,Je,ze,We){const[,Be,it]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===Te)||[];if(Be)return function Me(Te,Ve){try{return Te.toString()===Ve.toString()}catch(Je){return Te===Ve}}(We,it)||(ye("error",`${Ve} was already initialized on the ${Je} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:We,was:it})),Be;{const fe=ze();return globalThis.\u0275AngularfireInstanceCache.push([Te,fe,We]),fe}}const Fe=!!pt.hot,ye=(Te,...Ve)=>{(0,C.isDevMode)()&&"undefined"!=typeof console&&console[Te](...Ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,ae,j)=>{"use strict";j.d(ae,{q4:()=>rh,iC:()=>Cr,HU:()=>Vs,vb:()=>tc,JM:()=>Ho});var C=j(5e3),h=j(5867),V=j(5861),he=j(9681),ce=j(2090),De=j(4859),_e=j(1877),pe=j(8766);const xe="@firebase/installations",Q="0.5.15",ue=`w:${Q}`,Ye="FIS_v2",Ve=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(A){return A instanceof ce.ZR&&A.code.includes("request-failed")}function ze({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function We(A){return{token:A.token,requestStatus:2,expiresIn:le(A.expiresIn),creationTime:Date.now()}}function Be(A,D){return it.apply(this,arguments)}function it(){return(it=(0,V.Z)(function*(A,D){const W=(yield D.json()).error;return Ve.create("request-failed",{requestName:A,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function fe({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ae(A,{refreshToken:D}){const P=fe(A);return P.append("Authorization",function me(A){return`${Ye} ${A}`}(D)),P}function Oe(A){return re.apply(this,arguments)}function re(){return(re=(0,V.Z)(function*(A){const D=yield A();return D.status>=500&&D.status<600?A():D})).apply(this,arguments)}function le(A){return Number(A.replace("s","000"))}function Re(A,D){return be.apply(this,arguments)}function be(){return(be=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:D},{fid:P}){const W=ze(A),se=fe(A),te=D.getImmediate({optional:!0});if(te){const oe=yield te.getHeartbeatsHeader();oe&&se.append("x-firebase-client",oe)}const dt={method:"POST",headers:se,body:JSON.stringify({fid:P,authVersion:Ye,appId:A.appId,sdkVersion:ue})},Ue=yield Oe(()=>fetch(W,dt));if(Ue.ok){const oe=yield Ue.json();return{fid:oe.fid||P,registrationStatus:2,refreshToken:oe.refreshToken,authToken:We(oe.authToken)}}throw yield Be("Create Installation",Ue)})).apply(this,arguments)}function Ge(A){return new Promise(D=>{setTimeout(D,A)})}const hn=/^[cdef][\w-]{21}$/;function lt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const P=function cn(A){return function It(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return hn.test(P)?P:""}catch(A){return""}}function Fn(A){return`${A.appName}!${A.appId}`}const sn=new Map;function Lt(A,D){const P=Fn(A);nn(P,D),function mr(A,D){const P=function Hn(){return!kr&&"BroadcastChannel"in self&&(kr=new BroadcastChannel("[Firebase] FID Change"),kr.onmessage=A=>{nn(A.data.key,A.data.fid)}),kr}();P&&P.postMessage({key:A,fid:D}),function Wt(){0===sn.size&&kr&&(kr.close(),kr=null)}()}(P,D)}function nn(A,D){const P=sn.get(A);if(P)for(const W of P)W(D)}let kr=null;const jn="firebase-installations-store";let Ln=null;function mt(){return Ln||(Ln=(0,pe.X3)("firebase-installations-database",1,{upgrade:(A,D)=>{0===D&&A.createObjectStore(jn)}})),Ln}function yr(A,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,V.Z)(function*(A,D){const P=Fn(A),se=(yield mt()).transaction(jn,"readwrite"),te=se.objectStore(jn),Ie=yield te.get(P);return yield te.put(D,P),yield se.done,(!Ie||Ie.fid!==D.fid)&&Lt(A,D.fid),D})).apply(this,arguments)}function Zt(A){return vr.apply(this,arguments)}function vr(){return(vr=(0,V.Z)(function*(A){const D=Fn(A),W=(yield mt()).transaction(jn,"readwrite");yield W.objectStore(jn).delete(D),yield W.done})).apply(this,arguments)}function Ar(A,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,V.Z)(function*(A,D){const P=Fn(A),se=(yield mt()).transaction(jn,"readwrite"),te=se.objectStore(jn),Ie=yield te.get(P),dt=D(Ie);return void 0===dt?yield te.delete(P):yield te.put(dt,P),yield se.done,dt&&(!Ie||Ie.fid!==dt.fid)&&Lt(A,dt.fid),dt})).apply(this,arguments)}function Pn(A){return an.apply(this,arguments)}function an(){return(an=(0,V.Z)(function*(A){let D;const P=yield Ar(A.appConfig,W=>{const se=wr(W),te=ht(A,se);return D=te.registrationPromise,te.installationEntry});return""===P.fid?{installationEntry:yield D}:{installationEntry:P,registrationPromise:D}})).apply(this,arguments)}function wr(A){return Fr(A||{fid:lt(),registrationStatus:0})}function ht(A,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ve.create("app-offline"))};const P={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},W=function Tt(A,D){return yt.apply(this,arguments)}(A,P);return{installationEntry:P,registrationPromise:W}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Hr(A)}:{installationEntry:D}}function yt(){return(yt=(0,V.Z)(function*(A,D){try{const P=yield Re(A,D);return yr(A.appConfig,P)}catch(P){throw Je(P)&&409===P.customData.serverCode?yield Zt(A.appConfig):yield yr(A.appConfig,{fid:D.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Hr(A){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,V.Z)(function*(A){let D=yield un(A.appConfig);for(;1===D.registrationStatus;)yield Ge(100),D=yield un(A.appConfig);if(0===D.registrationStatus){const{installationEntry:P,registrationPromise:W}=yield Pn(A);return W||P}return D})).apply(this,arguments)}function un(A){return Ar(A,D=>{if(!D)throw Ve.create("installation-not-found");return Fr(D)})}function Fr(A){return function Xn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Vn(A,D){return At.apply(this,arguments)}function At(){return(At=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:D},P){const W=Jr(A,P),se=Ae(A,P),te=D.getImmediate({optional:!0});if(te){const oe=yield te.getHeartbeatsHeader();oe&&se.append("x-firebase-client",oe)}const dt={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:ue,appId:A.appId}})},Ue=yield Oe(()=>fetch(W,dt));if(Ue.ok)return We(yield Ue.json());throw yield Be("Generate Auth Token",Ue)})).apply(this,arguments)}function Jr(A,{fid:D}){return`${ze(A)}/${D}/authTokens:generate`}function tn(A){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,V.Z)(function*(A,D=!1){let P;const W=yield Ar(A.appConfig,te=>{if(!gn(te))throw Ve.create("not-registered");const Ie=te.authToken;if(!D&&J(Ie))return te;if(1===Ie.requestStatus)return P=ct(A,D),te;{if(!navigator.onLine)throw Ve.create("app-offline");const dt=ne(te);return P=kt(A,dt),dt}});return P?yield P:W.authToken})).apply(this,arguments)}function ct(A,D){return $e.apply(this,arguments)}function $e(){return($e=(0,V.Z)(function*(A,D){let P=yield st(A.appConfig);for(;1===P.authToken.requestStatus;)yield Ge(100),P=yield st(A.appConfig);const W=P.authToken;return 0===W.requestStatus?tn(A,D):W})).apply(this,arguments)}function st(A){return Ar(A,D=>{if(!gn(D))throw Ve.create("not-registered");return function q(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function kt(A,D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,V.Z)(function*(A,D){try{const P=yield Vn(A,D),W=Object.assign(Object.assign({},D),{authToken:P});return yield yr(A.appConfig,W),P}catch(P){if(!Je(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const W=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield yr(A.appConfig,W)}else yield Zt(A.appConfig);throw P}})).apply(this,arguments)}function gn(A){return void 0!==A&&2===A.registrationStatus}function J(A){return 2===A.requestStatus&&!function Z(A){const D=Date.now();return D<A.creationTime||A.creationTime+A.expiresIn<D+36e5}(A)}function ne(A){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:D})}function z(){return(z=(0,V.Z)(function*(A){const D=A,{installationEntry:P,registrationPromise:W}=yield Pn(D);return W?W.catch(console.error):tn(D).catch(console.error),P.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*(A,D=!1){const P=A;return yield Xe(P),(yield tn(P,D)).token})).apply(this,arguments)}function Xe(A){return Et.apply(this,arguments)}function Et(){return(Et=(0,V.Z)(function*(A){const{registrationPromise:D}=yield Pn(A);D&&(yield D)})).apply(this,arguments)}function Ji(A){return Ve.create("missing-app-config-values",{valueName:A})}const St="installations",jt=A=>{const D=A.getProvider("app").getImmediate(),P=function $t(A){if(!A||!A.options)throw Ji("App Configuration");if(!A.name)throw Ji("App Name");const D=["projectId","apiKey","appId"];for(const P of D)if(!A.options[P])throw Ji(P);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(D);return{app:D,appConfig:P,heartbeatServiceProvider:(0,he._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},vn=A=>{const D=A.getProvider("app").getImmediate(),P=(0,he._getProvider)(D,St).getImmediate();return{getId:()=>function U(A){return z.apply(this,arguments)}(P),getToken:se=>function we(A){return Qe.apply(this,arguments)}(P,se)}};(function $r(){(0,he._registerComponent)(new De.wA(St,jt,"PUBLIC")),(0,he._registerComponent)(new De.wA("installations-internal",vn,"PRIVATE"))})(),(0,he.registerVersion)(xe,Q),(0,he.registerVersion)(xe,Q,"esm2017");const Ai="@firebase/remote-config",Mn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yi{constructor(D,P,W,se){this.client=D,this.storage=P,this.storageCache=W,this.logger=se}isCachedDataFresh(D,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-P,se=W<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${se}.`),se}fetch(D){var P=this;return(0,V.Z)(function*(){const[W,se]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(se&&P.isCachedDataFresh(D.cacheMaxAgeMillis,W))return se;D.eTag=se&&se.eTag;const te=yield P.client.fetch(D),Ie=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Ie.push(P.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Ie),te})()}}function To(A=navigator){return A.languages&&A.languages[0]||A.language}class rr{constructor(D,P,W,se,te,Ie){this.firebaseInstallations=D,this.sdkVersion=P,this.namespace=W,this.projectId=se,this.apiKey=te,this.appId=Ie}fetch(D){var P=this;return(0,V.Z)(function*(){var W,se,te;const[Ie,dt]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},gt={sdk_version:P.sdkVersion,app_instance_id:Ie,app_instance_id_token:dt,app_id:P.appId,language_code:To()},dr={method:"POST",headers:Se,body:JSON.stringify(gt)},di=fetch(oe,dr),Ja=new Promise((gs,Bs)=>{D.signal.addEventListener(()=>{const Su=new Error("The operation was aborted.");Su.name="AbortError",Bs(Su)})});let $o;try{yield Promise.race([di,Ja]),$o=yield di}catch(gs){let Bs="fetch-client-network";throw"AbortError"===(null===(W=gs)||void 0===W?void 0:W.name)&&(Bs="fetch-timeout"),Mn.create(Bs,{originalErrorMessage:null===(se=gs)||void 0===se?void 0:se.message})}let po=$o.status;const nc=$o.headers.get("ETag")||void 0;let Xa,eu;if(200===$o.status){let gs;try{gs=yield $o.json()}catch(Bs){throw Mn.create("fetch-client-parse",{originalErrorMessage:null===(te=Bs)||void 0===te?void 0:te.message})}Xa=gs.entries,eu=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===eu?po=500:"NO_CHANGE"===eu?po=304:("NO_TEMPLATE"===eu||"EMPTY_CONFIG"===eu)&&(Xa={}),304!==po&&200!==po)throw Mn.create("fetch-status",{httpStatus:po});return{status:po,eTag:nc,config:Xa}})()}}class zr{constructor(D,P){this.client=D,this.storage=P}fetch(D){var P=this;return(0,V.Z)(function*(){const W=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(D,W)})()}attemptFetch(D,{throttleEndTimeMillis:P,backoffCount:W}){var se=this;return(0,V.Z)(function*(){yield function ta(A,D){return new Promise((P,W)=>{const se=Math.max(D-Date.now(),0),te=setTimeout(P,se);A.addEventListener(()=>{clearTimeout(te),W(Mn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,P);try{const te=yield se.client.fetch(D);return yield se.storage.deleteThrottleMetadata(),te}catch(te){if(!function La(A){if(!(A instanceof ce.ZR&&A.customData))return!1;const D=Number(A.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const Ie={throttleEndTimeMillis:Date.now()+(0,ce.$s)(W),backoffCount:W+1};return yield se.storage.setThrottleMetadata(Ie),se.attemptFetch(D,Ie)}})()}}class So{constructor(D,P,W,se,te){this.app=D,this._client=P,this._storageCache=W,this._storage=se,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cs(A,D){var P;const W=A.target.error||void 0;return Mn.create(D,{originalErrorMessage:W&&(null===(P=W)||void 0===P?void 0:P.message)})}const Si="app_namespace_store";class Va{constructor(D,P,W,se=function na(){return new Promise((A,D)=>{var P;try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=se=>{D(Cs(se,"storage-open"))},W.onsuccess=se=>{A(se.target.result)},W.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Si,{keyPath:"compositeKey"})}}catch(W){D(Mn.create("storage-open",{originalErrorMessage:null===(P=W)||void 0===P?void 0:P.message}))}})}()){this.appId=D,this.appName=P,this.namespace=W,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var P=this;return(0,V.Z)(function*(){const W=yield P.openDbPromise;return new Promise((se,te)=>{var Ie;const Ue=W.transaction([Si],"readonly").objectStore(Si),oe=P.createCompositeKey(D);try{const Se=Ue.get(oe);Se.onerror=gt=>{te(Cs(gt,"storage-get"))},Se.onsuccess=gt=>{const dr=gt.target.result;se(dr?dr.value:void 0)}}catch(Se){te(Mn.create("storage-get",{originalErrorMessage:null===(Ie=Se)||void 0===Ie?void 0:Ie.message}))}})})()}set(D,P){var W=this;return(0,V.Z)(function*(){const se=yield W.openDbPromise;return new Promise((te,Ie)=>{var dt;const oe=se.transaction([Si],"readwrite").objectStore(Si),Se=W.createCompositeKey(D);try{const gt=oe.put({compositeKey:Se,value:P});gt.onerror=dr=>{Ie(Cs(dr,"storage-set"))},gt.onsuccess=()=>{te()}}catch(gt){Ie(Mn.create("storage-set",{originalErrorMessage:null===(dt=gt)||void 0===dt?void 0:dt.message}))}})})()}delete(D){var P=this;return(0,V.Z)(function*(){const W=yield P.openDbPromise;return new Promise((se,te)=>{var Ie;const Ue=W.transaction([Si],"readwrite").objectStore(Si),oe=P.createCompositeKey(D);try{const Se=Ue.delete(oe);Se.onerror=gt=>{te(Cs(gt,"storage-delete"))},Se.onsuccess=()=>{se()}}catch(Se){te(Mn.create("storage-delete",{originalErrorMessage:null===(Ie=Se)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ns{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,V.Z)(function*(){const P=D.storage.getLastFetchStatus(),W=D.storage.getLastSuccessfulFetchTimestampMillis(),se=D.storage.getActiveConfig(),te=yield P;te&&(D.lastFetchStatus=te);const Ie=yield W;Ie&&(D.lastSuccessfulFetchTimestampMillis=Ie);const dt=yield se;dt&&(D.activeConfig=dt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Mo(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,V.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Ts(){(0,he._registerComponent)(new De.wA("remote-config",function A(D,{instanceIdentifier:P}){const W=D.getProvider("app").getImmediate(),se=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,ce.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:te,apiKey:Ie,appId:dt}=W.options;if(!te)throw Mn.create("registration-project-id");if(!Ie)throw Mn.create("registration-api-key");if(!dt)throw Mn.create("registration-app-id");const Ue=new Va(dt,W.name,P=P||"firebase"),oe=new ns(Ue),Se=new _e.Yd(Ai);Se.logLevel=_e.in.ERROR;const gt=new rr(se,he.SDK_VERSION,P,te,Ie,dt),dr=new zr(gt,Ue),di=new yi(dr,Ue,oe,Se),Ja=new So(W,di,oe,Ue,Se);return function mn(A){const D=(0,ce.m9)(A);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ja),Ja},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Ai,"0.3.14"),(0,he.registerVersion)(Ai,"0.3.14","esm2017")}();const _i="/firebase-messaging-sw.js",xr="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",is="google.c.a.c_id",Ua="google.c.a.c_l",mu="google.c.a.ts",wi="google.c.a.e";var Ei=(()=>{return(A=Ei||(Ei={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Ei;var A})();function Mr(A){const D=new Uint8Array(A);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ra(A){const P=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(P),se=new Uint8Array(W.length);for(let te=0;te<W.length;++te)se[te]=W.charCodeAt(te);return se}const tr="fcm_token_details_db",ia="fcm_token_object_Store";function As(A){return ni.apply(this,arguments)}function ni(){return ni=(0,V.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(tr))return null;let D=null;return(yield(0,pe.X3)(tr,5,{upgrade:(W=(0,V.Z)(function*(se,te,Ie,dt){var Ue;if(te<2||!se.objectStoreNames.contains(ia))return;const oe=dt.objectStore(ia),Se=yield oe.index("fcmSenderId").get(A);if(yield oe.clear(),Se)if(2===te){const gt=Se;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;D={token:gt.fcmToken,createTime:null!==(Ue=gt.createTime)&&void 0!==Ue?Ue:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:Mr(gt.vapidKey)}}}else if(3===te){const gt=Se;D={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Mr(gt.auth),p256dh:Mr(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Mr(gt.vapidKey)}}}else if(4===te){const gt=Se;D={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Mr(gt.auth),p256dh:Mr(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Mr(gt.vapidKey)}}}}),function(te,Ie,dt,Ue){return W.apply(this,arguments)})})).close(),yield(0,pe.Lj)(tr),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Ys(D)?D:null;var W}),ni.apply(this,arguments)}function Ys(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:D}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const ei="firebase-messaging-store";let ss=null;function bn(){return ss||(ss=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(A,D)=>{0===D&&A.createObjectStore(ei)}})),ss}function M(A){return L.apply(this,arguments)}function L(){return(L=(0,V.Z)(function*(A){const D=qe(A),W=yield(yield bn()).transaction(ei).objectStore(ei).get(D);if(W)return W;{const se=yield As(A.appConfig.senderId);if(se)return yield S(A,se),se}})).apply(this,arguments)}function S(A,D){return B.apply(this,arguments)}function B(){return(B=(0,V.Z)(function*(A,D){const P=qe(A),se=(yield bn()).transaction(ei,"readwrite");return yield se.objectStore(ei).put(D,P),yield se.done,D})).apply(this,arguments)}function ee(A){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,V.Z)(function*(A){const D=qe(A),W=(yield bn()).transaction(ei,"readwrite");yield W.objectStore(ei).delete(D),yield W.done})).apply(this,arguments)}function qe({appConfig:A}){return A.appId}const Bt=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yn(A,D){return qt.apply(this,arguments)}function qt(){return(qt=(0,V.Z)(function*(A,D){var P;const W=yield Ur(A),se=Bi(D),te={method:"POST",headers:W,body:JSON.stringify(se)};let Ie;try{Ie=yield(yield fetch(li(A.appConfig),te)).json()}catch(dt){throw Bt.create("token-subscribe-failed",{errorInfo:null===(P=dt)||void 0===P?void 0:P.toString()})}if(Ie.error)throw Bt.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Bt.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Qt(A,D){return $n.apply(this,arguments)}function $n(){return($n=(0,V.Z)(function*(A,D){var P;const W=yield Ur(A),se=Bi(D.subscriptionOptions),te={method:"PATCH",headers:W,body:JSON.stringify(se)};let Ie;try{Ie=yield(yield fetch(`${li(A.appConfig)}/${D.token}`,te)).json()}catch(dt){throw Bt.create("token-update-failed",{errorInfo:null===(P=dt)||void 0===P?void 0:P.toString()})}if(Ie.error)throw Bt.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Bt.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Yt(A,D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,V.Z)(function*(A,D){var P;const se={method:"DELETE",headers:yield Ur(A)};try{const Ie=yield(yield fetch(`${li(A.appConfig)}/${D}`,se)).json();if(Ie.error)throw Bt.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(te){throw Bt.create("token-unsubscribe-failed",{errorInfo:null===(P=te)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function li({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Ur(A){return xt.apply(this,arguments)}function xt(){return(xt=(0,V.Z)(function*({appConfig:A,installations:D}){const P=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Bi({p256dh:A,auth:D,endpoint:P,vapidKey:W}){const se={web:{endpoint:P,auth:D,p256dh:A}};return W!==Wr&&(se.web.applicationPubKey=W),se}const Ss=6048e5;function sa(A){return ji.apply(this,arguments)}function ji(){return(ji=(0,V.Z)(function*(A){const D=yield qn(A.swRegistration,A.vapidKey),P={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:D.endpoint,auth:Mr(D.getKey("auth")),p256dh:Mr(D.getKey("p256dh"))},W=yield M(A.firebaseDependencies);if(W){if(Ms(W.subscriptionOptions,P))return Date.now()>=W.createTime+Ss?Wu(A,{token:W.token,createTime:Date.now(),subscriptionOptions:P}):W.token;try{yield Yt(A.firebaseDependencies,W.token)}catch(se){console.warn(se)}return rn(A.firebaseDependencies,P)}return rn(A.firebaseDependencies,P)})).apply(this,arguments)}function oa(A){return xs.apply(this,arguments)}function xs(){return(xs=(0,V.Z)(function*(A){const D=yield M(A.firebaseDependencies);D&&(yield Yt(A.firebaseDependencies,D.token),yield ee(A.firebaseDependencies));const P=yield A.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Wu(A,D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,V.Z)(function*(A,D){try{const P=yield Qt(A.firebaseDependencies,D),W=Object.assign(Object.assign({},D),{token:P,createTime:Date.now()});return yield S(A.firebaseDependencies,W),P}catch(P){throw yield oa(A),P}})).apply(this,arguments)}function rn(A,D){return Po.apply(this,arguments)}function Po(){return(Po=(0,V.Z)(function*(A,D){const W={token:yield yn(A,D),createTime:Date.now(),subscriptionOptions:D};return yield S(A,W),W.token})).apply(this,arguments)}function qn(A,D){return os.apply(this,arguments)}function os(){return(os=(0,V.Z)(function*(A,D){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ra(D)})})).apply(this,arguments)}function Ms(A,D){return D.vapidKey===A.vapidKey&&D.endpoint===A.endpoint&&D.auth===A.auth&&D.p256dh===A.p256dh}function Kr(A){const D={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function yu(A,D){if(!D.notification)return;A.notification={};const P=D.notification.title;P&&(A.notification.title=P);const W=D.notification.body;W&&(A.notification.body=W);const se=D.notification.image;se&&(A.notification.image=se)}(D,A),function Xs(A,D){!D.data||(A.data=D.data)}(D,A),function vu(A,D){var P,W,se,te,Ie;if(!D.fcmOptions&&!(null===(P=D.notification)||void 0===P?void 0:P.click_action))return;A.fcmOptions={};const dt=null!==(se=null===(W=D.fcmOptions)||void 0===W?void 0:W.link)&&void 0!==se?se:null===(te=D.notification)||void 0===te?void 0:te.click_action;dt&&(A.fcmOptions.link=dt);const Ue=null===(Ie=D.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Ue&&(A.fcmOptions.analyticsLabel=Ue)}(D,A),D}function aa(A){return"object"==typeof A&&!!A&&is in A}function Oo(A,D){const P=[];for(let W=0;W<A.length;W++)P.push(A.charAt(W)),W<D.length&&P.push(D.charAt(W));return P.join("")}function Br(A){return Bt.create("missing-app-config-values",{valueName:A})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xi{constructor(D,P,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function as(A){if(!A||!A.options)throw Br("App Configuration Object");if(!A.name)throw Br("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:P}=A;for(const W of D)if(!P[W])throw Br(W);return{appName:A.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:se,installations:P,analyticsProvider:W}}_delete(){return Promise.resolve()}}function us(A){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,V.Z)(function*(A){var D;try{A.swRegistration=yield navigator.serviceWorker.register(_i,{scope:xr}),A.swRegistration.update().catch(()=>{})}catch(P){throw Bt.create("failed-service-worker-registration",{browserErrorMessage:null===(D=P)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function ls(A,D){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,V.Z)(function*(A,D){if(!D&&!A.swRegistration&&(yield us(A)),D||!A.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Bt.create("invalid-sw-registration");A.swRegistration=D}})).apply(this,arguments)}function _u(A,D){return cs.apply(this,arguments)}function cs(){return(cs=(0,V.Z)(function*(A,D){D?A.vapidKey=D:A.vapidKey||(A.vapidKey=Wr)})).apply(this,arguments)}function Ri(){return(Ri=(0,V.Z)(function*(A,D){if(!navigator)throw Bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bt.create("permission-blocked");return yield _u(A,null==D?void 0:D.vapidKey),yield ls(A,null==D?void 0:D.serviceWorkerRegistration),sa(A)})).apply(this,arguments)}function ja(A,D,P){return lr.apply(this,arguments)}function lr(){return(lr=(0,V.Z)(function*(A,D,P){const W=ua(D);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:P[is],message_name:P[Ua],message_time:P[mu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ua(A){switch(A){case Ei.NOTIFICATION_CLICKED:return"notification_open";case Ei.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rs(){return(Rs=(0,V.Z)(function*(A,D){const P=D.data;if(!P.isFirebaseMessaging)return;A.onMessageHandler&&P.messageType===Ei.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Kr(P)):A.onMessageHandler.next(Kr(P)));const W=P.data;aa(W)&&"1"===W[wi]&&(yield ja(A,P.messageType,W))})).apply(this,arguments)}const Ns="@firebase/messaging",Ps=A=>{const D=new xi(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function eo(A,D){return Rs.apply(this,arguments)}(D,P)),D},ca=A=>{const D=A.getProvider("messaging").getImmediate();return{getToken:W=>function Ba(A,D){return Ri.apply(this,arguments)}(D,W)}};function to(){return da.apply(this,arguments)}function da(){return(da=(0,V.Z)(function*(){try{yield(0,ce.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ko(){(0,he._registerComponent)(new De.wA("messaging",Ps,"PUBLIC")),(0,he._registerComponent)(new De.wA("messaging-internal",ca,"PRIVATE")),(0,he.registerVersion)(Ns,"0.9.19"),(0,he.registerVersion)(Ns,"0.9.19","esm2017")}();const Ha="analytics",Ku="firebase_id",Gi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fo="https://www.googletagmanager.com/gtag/js",ir=new _e.Yd("@firebase/analytics");function Lo(A){return Promise.all(A.map(D=>D.catch(P=>P)))}function ri(A,D){const P=document.createElement("script");P.src=`${Fo}?l=${A}&id=${D}`,P.async=!0,document.head.appendChild(P)}function Os(A,D,P,W,se,te){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,V.Z)(function*(A,D,P,W,se,te){const Ie=W[se];try{if(Ie)yield D[Ie];else{const Ue=(yield Lo(P)).find(oe=>oe.measurementId===se);Ue&&(yield D[Ue.appId])}}catch(dt){ir.error(dt)}A("config",se,te)})).apply(this,arguments)}function hs(A,D,P,W,se){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(A,D,P,W,se){try{let te=[];if(se&&se.send_to){let Ie=se.send_to;Array.isArray(Ie)||(Ie=[Ie]);const dt=yield Lo(P);for(const Ue of Ie){const oe=dt.find(gt=>gt.measurementId===Ue),Se=oe&&D[oe.appId];if(!Se){te=[];break}te.push(Se)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),A("event",W,se||{})}catch(te){ir.error(te)}})).apply(this,arguments)}function ks(A){const D=window.document.getElementsByTagName("script");for(const P of Object.values(D))if(P.src&&P.src.includes(Fo)&&P.src.includes(A))return P;return null}const Yn=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),K=new class N{constructor(D={},P=1e3){this.throttleMetadata=D,this.intervalMillis=P}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,P){this.throttleMetadata[D]=P}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Pe(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function vt(A){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,V.Z)(function*(A){var D;const{appId:P,apiKey:W}=A,se={method:"GET",headers:Pe(W)},te=Gi.replace("{app-id}",P),Ie=yield fetch(te,se);if(200!==Ie.status&&304!==Ie.status){let dt="";try{const Ue=yield Ie.json();(null===(D=Ue.error)||void 0===D?void 0:D.message)&&(dt=Ue.error.message)}catch(Ue){}throw Yn.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:dt})}return Ie.json()})).apply(this,arguments)}function ti(A){return sr.apply(this,arguments)}function sr(){return(sr=(0,V.Z)(function*(A,D=K,P){const{appId:W,apiKey:se,measurementId:te}=A.options;if(!W)throw Yn.create("no-app-id");if(!se){if(te)return{measurementId:te,appId:W};throw Yn.create("no-api-key")}const Ie=D.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new Kl;return setTimeout((0,V.Z)(function*(){dt.abort()}),void 0!==P?P:6e4),zi({appId:W,apiKey:se,measurementId:te},Ie,dt,D)})).apply(this,arguments)}function zi(A,D,P){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,V.Z)(function*(A,{throttleEndTimeMillis:D,backoffCount:P},W,se=K){var te,Ie;const{appId:dt,measurementId:Ue}=A;try{yield $a(W,D)}catch(oe){if(Ue)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${null===(te=oe)||void 0===te?void 0:te.message}]`),{appId:dt,measurementId:Ue};throw oe}try{const oe=yield vt(A);return se.deleteThrottleMetadata(dt),oe}catch(oe){const Se=oe;if(!so(Se)){if(se.deleteThrottleMetadata(dt),Ue)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${null==Se?void 0:Se.message}]`),{appId:dt,measurementId:Ue};throw oe}const gt=503===Number(null===(Ie=null==Se?void 0:Se.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ce.$s)(P,se.intervalMillis,30):(0,ce.$s)(P,se.intervalMillis),dr={throttleEndTimeMillis:Date.now()+gt,backoffCount:P+1};return se.setThrottleMetadata(dt,dr),ir.debug(`Calling attemptFetch again in ${gt} millis`),zi(A,dr,W,se)}})).apply(this,arguments)}function $a(A,D){return new Promise((P,W)=>{const se=Math.max(D-Date.now(),0),te=setTimeout(P,se);A.addEventListener(()=>{clearTimeout(te),W(Yn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function so(A){if(!(A instanceof ce.ZR&&A.customData))return!1;const D=Number(A.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Kl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Qu,Cu;function fs(){return(fs=(0,V.Z)(function*(A,D,P,W,se){if(se&&se.global)A("event",P,W);else{const te=yield D;A("event",P,Object.assign(Object.assign({},W),{send_to:te}))}})).apply(this,arguments)}function Zl(A){Cu=A}function ga(A){Qu=A}function Xu(){return el.apply(this,arguments)}function el(){return(el=(0,V.Z)(function*(){var A;if(!(0,ce.hl)())return ir.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return ir.warn(Yn.create("indexeddb-unavailable",{errorInfo:null===(A=D)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function ma(){return(ma=(0,V.Z)(function*(A,D,P,W,se,te,Ie){var dt;const Ue=ti(A);Ue.then(di=>{P[di.measurementId]=di.appId,A.options.measurementId&&di.measurementId!==A.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(di=>ir.error(di)),D.push(Ue);const oe=Xu().then(di=>{if(di)return W.getId()}),[Se,gt]=yield Promise.all([Ue,oe]);ks(te)||ri(te,Se.measurementId),Cu&&(se("consent","default",Cu),Zl(void 0)),se("js",new Date);const dr=null!==(dt=null==Ie?void 0:Ie.config)&&void 0!==dt?dt:{};return dr.origin="firebase",dr.update=!0,null!=gt&&(dr[Ku]=gt),se("config",Se.measurementId,dr),Qu&&(se("set",Qu),ga(void 0)),Se.measurementId})).apply(this,arguments)}class Fs{constructor(D){this.app=D}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},Ga=[];const za={};let ya,dn,bi="dataLayer",Wa=!1;function tl(A,D,P){!function Bo(){const A=[];if((0,ce.ru)()&&A.push("This is a browser extension environment."),(0,ce.zI)()||A.push("Cookies are not available."),A.length>0){const D=A.map((W,se)=>`(${se+1}) ${W}`).join(" "),P=Yn.create("invalid-analytics-context",{errorInfo:D});ir.warn(P.message)}}();const W=A.options.appId;if(!W)throw Yn.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Yn.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[W])throw Yn.create("already-exists",{id:W});if(!Wa){!function Rr(A){let D=[];Array.isArray(window[A])?D=window[A]:window[A]=D}(bi);const{wrappedGtag:te,gtagCore:Ie}=function io(A,D,P,W,se){let te=function(...Ie){window[W].push(arguments)};return window[se]&&"function"==typeof window[se]&&(te=window[se]),window[se]=function ql(A,D,P,W){function te(){return(te=(0,V.Z)(function*(Ie,dt,Ue){try{"event"===Ie?yield hs(A,D,P,dt,Ue):"config"===Ie?yield Os(A,D,P,W,dt,Ue):"consent"===Ie?A("consent","update",Ue):A("set",dt)}catch(oe){ir.error(oe)}})).apply(this,arguments)}return function se(Ie,dt,Ue){return te.apply(this,arguments)}}(te,A,D,P),{gtagCore:te,wrappedGtag:window[se]}}(ci,Ga,za,bi,"gtag");dn=te,ya=Ie,Wa=!0}return ci[W]=function Gc(A,D,P,W,se,te,Ie){return ma.apply(this,arguments)}(A,Ga,za,D,ya,bi,P),new Fs(A)}function Ql(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,V.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(A){return!1}})).apply(this,arguments)}const lo="@firebase/analytics";!function Yl(){(0,he._registerComponent)(new De.wA(Ha,(D,{options:P})=>tl(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,he._registerComponent)(new De.wA("analytics-internal",function A(D){try{const P=D.getProvider(Ha).getImmediate();return{logEvent:(W,se,te)=>function qa(A,D,P,W){A=(0,ce.m9)(A),function oo(A,D,P,W,se){return fs.apply(this,arguments)}(dn,ci[A.app.options.appId],D,P,W).catch(se=>ir.error(se))}(P,W,se,te)}}catch(P){throw Yn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,he.registerVersion)(lo,"0.8.3"),(0,he.registerVersion)(lo,"0.8.3","esm2017")}();var nl=j(4408),Ci=j(7565);const Tu=new class jo extends Ci.v{}(class Ii extends nl.o{constructor(D,P){super(D,P),this.scheduler=D,this.work=P}schedule(D,P=0){return P>0?super.schedule(D,P):(this.delay=P,this.state=D,this.scheduler.flush(this),this)}execute(D,P){return P>0||this.closed?super.execute(D,P):this._execute(D,P)}requestAsyncId(D,P,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(D,P,W):(D.flush(this),0)}});var rl=j(4986),ho=j(8505),il=j(9468),Jl=j(5363);const rh=new C.Version("7.4.1"),Au="__angularfire_symbol__analyticsIsSupportedValue",or="__angularfire_symbol__analyticsIsSupported",_a="__angularfire_symbol__remoteConfigIsSupportedValue",fo="__angularfire_symbol__remoteConfigIsSupported",Xl="__angularfire_symbol__messagingIsSupportedValue",wa="__angularfire_symbol__messagingIsSupported";function Ho(A,D,P){if(D){if(1===D.length)return D[0];const te=D.filter(Ie=>Ie.app===P);if(1===te.length)return te[0]}return P.container.getProvider(A).getImmediate({optional:!0})}globalThis[or]||(globalThis[or]=Ql().then(A=>globalThis[Au]=A).catch(()=>globalThis[Au]=!1)),globalThis[wa]||(globalThis[wa]=to().then(A=>globalThis[Xl]=A).catch(()=>globalThis[Xl]=!1)),globalThis[fo]||(globalThis[fo]=Mo().then(A=>globalThis[_a]=A).catch(()=>globalThis[_a]=!1));const tc=(A,D)=>{const P=D?[D]:(0,h.C6)(),W=[];return P.forEach(se=>{se.container.getProvider(A).instances.forEach(Ie=>{W.includes(Ie)||W.push(Ie)})}),W};function Wi(){}class Ea{constructor(D,P=Tu){this.zone=D,this.delegate=P}now(){return this.delegate.now()}schedule(D,P,W){const se=this.zone;return this.delegate.schedule(function(Ie){se.runGuarded(()=>{D.apply(this,[Ie])})},P,W)}}class Hf{constructor(D){this.zone=D,this.task=null}call(D,P){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)),P.pipe((0,ho.b)({next:W,complete:W,error:W})).subscribe(D).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vs=(()=>{class A{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Ea(Zone.current)),this.insideAngular=P.run(()=>new Ea(Zone.current,rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(P){return new(P||A)(C.\u0275\u0275inject(C.NgZone))},A.\u0275prov=C.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function qi(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Cr(A){return qi(),function Qa(A){return function(P){return(P=P.lift(new Hf(A.ngZone))).pipe((0,il.R)(A.outsideAngular),(0,Jl.Q)(A.insideAngular))}}(qi())(A)}},7573:(pt,ae,j)=>{"use strict";j.d(ae,{$:()=>li,A:()=>Y,B:()=>Ee,G:()=>vn,H:()=>_n,J:()=>zr,L:()=>J,M:()=>Qs,N:()=>rs,P:()=>rl,Q:()=>is,R:()=>nh,T:()=>Ua,U:()=>Wr,V:()=>Ei,W:()=>Mr,X:()=>As,Y:()=>bt,Z:()=>yn,_:()=>Qt,a:()=>I,a0:()=>sa,a1:()=>oa,a2:()=>Wu,a3:()=>rn,a4:()=>qn,a5:()=>Ms,a6:()=>yu,a7:()=>Xs,a8:()=>aa,a9:()=>Oo,aA:()=>di,aB:()=>Ue,aC:()=>sh,aD:()=>Us,aE:()=>tt,aI:()=>Pe,aL:()=>wi,aa:()=>us,ab:()=>ls,ac:()=>_u,af:()=>ja,ag:()=>ua,ah:()=>eo,ak:()=>ei,al:()=>cr,an:()=>Fo,ao:()=>Eu,ap:()=>fn,aq:()=>Oe,ar:()=>rt,as:()=>Xe,at:()=>Je,au:()=>ms,av:()=>nc,aw:()=>ze,ax:()=>fe,ay:()=>le,az:()=>Z,b:()=>Yn,c:()=>Xl,d:()=>ih,e:()=>Ka,f:()=>Qa,g:()=>W,h:()=>A,i:()=>el,j:()=>Ie,k:()=>Wf,l:()=>co,m:()=>lm,o:()=>pe,r:()=>nl,s:()=>jr,u:()=>Tu});var C=j(5861),h=j(2090),V=j(9681),he=j(1877),ce=j(655),De=j(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new he.Yd("@firebase/auth");function Ve(v,...p){Te.logLevel<=he.in.ERROR&&Te.error(`Auth (${V.SDK_VERSION}): ${v}`,...p)}function Je(v,...p){throw it(v,...p)}function ze(v,...p){return it(v,...p)}function We(v,p,g){const E=Object.assign(Object.assign({},Me()),{[p]:g});return new h.LL("auth","Firebase",E).create(p,{appName:v.name})}function Be(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Je(v,"argument-error"),We(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(v,...p){if("string"!=typeof v){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return Fe.create(v,...p)}function fe(v,p,...g){if(!v)throw it(p,...g)}function Ae(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ve(p),new Error(p)}function Oe(v,p){v||Ae(p)}const re=new Map;function le(v){Oe(v instanceof Function,"Expected a class definition");let p=re.get(v);return p?(Oe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,re.set(v,p),p)}function be(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ge(){return"http:"===It()||"https:"===It()}function It(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class lt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function hn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(v,p){Oe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Fn{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new lt(3e4,6e4);function Ft(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function on(v,p,g,E){return nn.apply(this,arguments)}function nn(){return(nn=(0,C.Z)(function*(v,p,g,E,O={}){return mr(v,O,(0,C.Z)(function*(){let H={},ge={};E&&("GET"===p?ge=E:H={body:JSON.stringify(E)});const Le=(0,h.xO)(Object.assign({key:v.config.apiKey},ge)).slice(1),wt=yield v._getAdditionalHeaders();return wt["Content-Type"]="application/json",v.languageCode&&(wt["X-Firebase-Locale"]=v.languageCode),Fn.fetch()(Kn(v,v.config.apiHost,g,Le),Object.assign({method:p,headers:wt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function mr(v,p,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,C.Z)(function*(v,p,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},sn),p);try{const O=new Zn(v),H=yield Promise.race([g(),O.promise]);O.clearNetworkTimeout();const ge=yield H.json();if("needConfirmation"in ge)throw jn(v,"account-exists-with-different-credential",ge);if(H.ok&&!("errorMessage"in ge))return ge;{const Le=H.ok?ge.errorMessage:ge.error.message,[wt,Ct]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw jn(v,"credential-already-in-use",ge);if("EMAIL_EXISTS"===wt)throw jn(v,"email-already-in-use",ge);if("USER_DISABLED"===wt)throw jn(v,"user-disabled",ge);const Mt=E[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw We(v,Mt,Ct);Je(v,Mt)}}catch(O){if(O instanceof h.ZR)throw O;Je(v,"network-request-failed")}})).apply(this,arguments)}function Hn(v,p,g,E){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,C.Z)(function*(v,p,g,E,O={}){const H=yield on(v,p,g,E,O);return"mfaPendingCredential"in H&&Je(v,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Kn(v,p,g,E){const O=`${p}${g}?${E}`;return v.config.emulator?cn(v.config,O):`${v.config.apiScheme}://${O}`}class Zn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(ze(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(v,p,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const O=ze(v,p,E);return O.customData._tokenResponse=g,O}function mt(){return(mt=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function yr(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zt(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ar(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function an(){return(an=(0,C.Z)(function*(v,p=!1){const g=(0,h.m9)(v),E=yield g.getIdToken(p),O=ht(E);fe(O&&O.exp&&O.auth_time&&O.iat,g.auth,"internal-error");const H="object"==typeof O.firebase?O.firebase:void 0,ge=null==H?void 0:H.sign_in_provider;return{claims:O,token:E,authTime:Ar(wr(O.auth_time)),issuedAtTime:Ar(wr(O.iat)),expirationTime:Ar(wr(O.exp)),signInProvider:ge||null,signInSecondFactor:(null==H?void 0:H.sign_in_second_factor)||null}})).apply(this,arguments)}function wr(v){return 1e3*Number(v)}function ht(v){var p;const[g,E,O]=v.split(".");if(void 0===g||void 0===E||void 0===O)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,h.tV)(E);return H?JSON.parse(H):(Ve("Failed to decode base64 JWT payload"),null)}catch(H){return Ve("Caught error parsing JWT payload as JSON",null===(p=H)||void 0===p?void 0:p.toString()),null}}function yt(v,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof h.ZR&&Yr(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Yr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class un{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const O=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,C.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,C.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(g=E)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Fr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(v){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,C.Z)(function*(v){var p;const g=v.auth,E=yield v.getIdToken(),O=yield yt(v,Zt(g,{idToken:E}));fe(null==O?void 0:O.users.length,g,"internal-error");const H=O.users[0];v._notifyReloadListener(H);const ge=(null===(p=H.providerUserInfo)||void 0===p?void 0:p.length)?Qn(H.providerUserInfo):[],Le=tn(v.providerData,ge),Mt=!!v.isAnonymous&&!(v.email&&H.passwordHash||(null==Le?void 0:Le.length)),zn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Le,metadata:new Fr(H.createdAt,H.lastLoginAt),isAnonymous:Mt};Object.assign(v,zn)})).apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(v){const p=(0,h.m9)(v);yield Xn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tn(v,p){return[...v.filter(E=>!p.some(O=>O.providerId===E.providerId)),...p]}function Qn(v){return v.map(p=>{var{providerId:g}=p,E=(0,ce._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function $e(){return($e=(0,C.Z)(function*(v,p){const g=yield mr(v,{},(0,C.Z)(function*(){const E=(0,h.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:O,apiKey:H}=v.config,ge=Kn(v,O,"/v1/token",`key=${H}`),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(ge,{method:"POST",headers:Le,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){fe(p.idToken,"internal-error"),fe(void 0!==p.idToken,"internal-error"),fe(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Tt(v){const p=ht(v);return fe(p,"internal-error"),fe(void 0!==p.exp,"internal-error"),fe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,C.Z)(function*(){return fe(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,C.Z)(function*(){const{accessToken:O,refreshToken:H,expiresIn:ge}=yield function ct(v,p){return $e.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(O,H,Number(ge))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:O,expirationTime:H}=g,ge=new st;return E&&(fe("string"==typeof E,"internal-error",{appName:p}),ge.refreshToken=E),O&&(fe("string"==typeof O,"internal-error",{appName:p}),ge.accessToken=O),H&&(fe("number"==typeof H,"internal-error",{appName:p}),ge.expirationTime=H),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function kt(v,p){fe("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Pt{constructor(p){var{uid:g,auth:E,stsTokenManager:O}=p,H=(0,ce._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Fr(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,C.Z)(function*(){const E=yield yt(g,g.stsTokenManager.getToken(g.auth,p));return fe(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function Pn(v){return an.apply(this,arguments)}(this,p)}reload(){return function At(v){return Jr.apply(this,arguments)}(this)}_assign(p){this!==p&&(fe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Pt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,C.Z)(function*(){let O=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),O=!0),g&&(yield Xn(E)),yield E.auth._persistUserIfCurrent(E),O&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,C.Z)(function*(){const g=yield p.getIdToken();return yield yt(p,function Ln(v,p){return mt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,O,H,ge,Le,wt,Ct,Mt;const zn=null!==(E=g.displayName)&&void 0!==E?E:void 0,vs=null!==(O=g.email)&&void 0!==O?O:void 0,Ia=null!==(H=g.phoneNumber)&&void 0!==H?H:void 0,ru=null!==(ge=g.photoURL)&&void 0!==ge?ge:void 0,Kf=null!==(Le=g.tenantId)&&void 0!==Le?Le:void 0,zo=null!==(wt=g._redirectEventId)&&void 0!==wt?wt:void 0,Ru=null!==(Ct=g.createdAt)&&void 0!==Ct?Ct:void 0,Ca=null!==(Mt=g.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:sc,emailVerified:mo,isAnonymous:oc,providerData:Wn,stsTokenManager:Hs}=g;fe(sc&&Hs,p,"internal-error");const ll=st.fromJSON(this.name,Hs);fe("string"==typeof sc,p,"internal-error"),kt(zn,p.name),kt(vs,p.name),fe("boolean"==typeof mo,p,"internal-error"),fe("boolean"==typeof oc,p,"internal-error"),kt(Ia,p.name),kt(ru,p.name),kt(Kf,p.name),kt(zo,p.name),kt(Ru,p.name),kt(Ca,p.name);const $s=new Pt({uid:sc,auth:p,email:vs,emailVerified:mo,displayName:zn,isAnonymous:oc,photoURL:ru,phoneNumber:Ia,tenantId:Kf,stsTokenManager:ll,createdAt:Ru,lastLoginAt:Ca});return Wn&&Array.isArray(Wn)&&($s.providerData=Wn.map(Qc=>Object.assign({},Qc))),zo&&($s._redirectEventId=zo),$s}static _fromIdTokenResponse(p,g,E=!1){return(0,C.Z)(function*(){const O=new st;O.updateFromServerResponse(g);const H=new Pt({uid:g.localId,auth:p,stsTokenManager:O,isAnonymous:E});return yield Xn(H),H})()}}const J=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(g,E){var O=this;return(0,C.Z)(function*(){O.storage[g]=E})()}_get(g){var E=this;return(0,C.Z)(function*(){const O=E.storage[g];return void 0===O?null:O})()}_remove(g){var E=this;return(0,C.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function Z(v,p,g){return`firebase:${v}:${p}:${g}`}class ne{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:O,name:H}=this.auth;this.fullUserKey=Z(this.userKey,O.apiKey,H),this.fullPersistenceKey=Z("persistence",O.apiKey,H),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,C.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Pt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,C.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,C.Z)(function*(){if(!g.length)return new ne(le(J),p,E);const O=(yield Promise.all(g.map(function(){var Ct=(0,C.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let H=O[0]||le(J);const ge=Z(E,p.config.apiKey,p.name);let Le=null;for(const Ct of g)try{const Mt=yield Ct._get(ge);if(Mt){const zn=Pt._fromJSON(p,Mt);Ct!==H&&(Le=zn),H=Ct;break}}catch(Mt){}const wt=O.filter(Ct=>Ct._shouldAllowMigration);return H._shouldAllowMigration&&wt.length?(H=wt[0],Le&&(yield H._set(ge,Le.toJSON())),yield Promise.all(g.map(function(){var Ct=(0,C.Z)(function*(Mt){if(Mt!==H)try{yield Mt._remove(ge)}catch(zn){}});return function(Mt){return Ct.apply(this,arguments)}}())),new ne(H,p,E)):new ne(H,p,E)})()}}function q(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Qe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(U(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Et(p))return"Blackberry";if(et(p))return"Webos";if(z(p))return"Safari";if((p.includes("chrome/")||we(p))&&!p.includes("edge/"))return"Chrome";if(Xe(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function U(v=(0,h.z$)()){return/firefox\//i.test(v)}function z(v=(0,h.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function we(v=(0,h.z$)()){return/crios\//i.test(v)}function Qe(v=(0,h.z$)()){return/iemobile/i.test(v)}function Xe(v=(0,h.z$)()){return/android/i.test(v)}function Et(v=(0,h.z$)()){return/blackberry/i.test(v)}function et(v=(0,h.z$)()){return/webos/i.test(v)}function rt(v=(0,h.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function fn(v=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Tn(v=(0,h.z$)()){return rt(v)||Xe(v)||et(v)||Et(v)||/windows phone/i.test(v)||Qe(v)}function $t(v,p=[]){let g;switch(v){case"Browser":g=q((0,h.z$)());break;case"Worker":g=`${q((0,h.z$)())}-${v}`;break;default:g=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${E}`}class Ji{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=H=>new Promise((ge,Le)=>{try{ge(p(H))}catch(wt){Le(wt)}});E.onAbort=g,this.queue.push(E);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,C.Z)(function*(){var E;if(g.auth.currentUser===p)return;const O=[];try{for(const H of g.queue)yield H(p),H.onAbort&&O.push(H.onAbort)}catch(H){O.reverse();for(const ge of O)try{ge()}catch(Le){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=H)||void 0===E?void 0:E.message})}})()}}class St{constructor(p,g,E){this.app=p,this.heartbeatServiceProvider=g,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.beforeStateQueue=new Ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=le(g)),this._initializationPromise=this.queue((0,C.Z)(function*(){var O,H;if(!E._deleted&&(E.persistenceManager=yield ne.create(E,p),!E._deleted)){if(null===(O=E._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(ge){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(H=E.currentUser)||void 0===H?void 0:H.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,C.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,C.Z)(function*(){var E;const O=yield g.assertedPersistence.getCurrentUser();let H=O,ge=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Le=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,wt=null==H?void 0:H._redirectEventId,Ct=yield g.tryRedirectSignIn(p);(!Le||Le===wt)&&(null==Ct?void 0:Ct.user)&&(H=Ct.user,ge=!0)}if(!H)return g.directlySetCurrentUser(null);if(!H._redirectEventId){if(ge)try{yield g.beforeStateQueue.runMiddleware(H)}catch(Le){H=O,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Le))}return H?g.reloadAndSetCurrentUserOrClear(H):g.directlySetCurrentUser(null)}return fe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===H._redirectEventId?g.directlySetCurrentUser(H):g.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(p){var g=this;return(0,C.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(O){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,C.Z)(function*(){var E;try{yield Xn(p)}catch(O){if("auth/network-request-failed"!==(null===(E=O)||void 0===E?void 0:E.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function zt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,C.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,C.Z)(function*(){const E=p?(0,h.m9)(p):null;return E&&fe(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,C.Z)(function*(){if(!E._deleted)return p&&fe(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,C.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,C.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,C.Z)(function*(){yield g.assertedPersistence.setPersistence(le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new h.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,C.Z)(function*(){const O=yield E.getOrInitRedirectPersistenceManager(g);return null===p?O.removeCurrentUser():O.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,C.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&le(p)||g._popupRedirectResolver;fe(E,g,"argument-error"),g.redirectPersistenceManager=yield ne.create(g,[le(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,C.Z)(function*(){var E,O;return g._isInitialized&&(yield g.queue((0,C.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(O=g.redirectUser)||void 0===O?void 0:O._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,C.Z)(function*(){if(p===g.currentUser)return g.queue((0,C.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,O){if(this._deleted)return()=>{};const H="function"==typeof g?g:g.next.bind(g),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(ge,this,"internal-error"),ge.then(()=>H(this.currentUser)),"function"==typeof g?p.addObserver(g,E,O):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,C.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,C.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const O=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return O&&(E["X-Firebase-Client"]=O),E})()}}function tt(v){return(0,h.m9)(v)}class jt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,h.ne)(g=>this.observer=g)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vn(v,p,g){const E=tt(v);fe(E._canInitEmulator,E,"emulator-config-failed"),fe(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const O=!!(null==g?void 0:g.disableWarnings),H=$r(p),{host:ge,port:Le}=function Ai(v){const p=$r(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(E);if(O){const H=O[1];return{host:H,port:An(E.substr(H.length+1))}}{const[H,ge]=E.split(":");return{host:H,port:An(ge)}}}(p);E.config.emulator={url:`${H}//${ge}${null===Le?"":`:${Le}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ge,port:Le,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Ui(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function $r(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function An(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class _n{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ae("not implemented")}_getIdTokenResponse(p){return Ae("not implemented")}_linkToIdToken(p,g){return Ae("not implemented")}_getReauthenticationResolver(p){return Ae("not implemented")}}function ke(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:resetPassword",Ft(v,p))})).apply(this,arguments)}function Ht(v,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xt(v,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",Ft(v,p))})).apply(this,arguments)}function at(){return(at=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithPassword",Ft(v,p))})).apply(this,arguments)}function ai(v,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:sendOobCode",Ft(v,p))})).apply(this,arguments)}function Er(v,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,C.Z)(function*(v,p){return ai(v,p)})).apply(this,arguments)}function es(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,C.Z)(function*(v,p){return ai(v,p)})).apply(this,arguments)}function Gr(v,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(v,p){return ai(v,p)})).apply(this,arguments)}function Co(v,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,C.Z)(function*(v,p){return ai(v,p)})).apply(this,arguments)}function br(){return(br=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,p))})).apply(this,arguments)}function yi(){return(yi=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,p))})).apply(this,arguments)}class To extends _n{constructor(p,g,E,O=null){super("password",E),this._email=p,this._password=g,this._tenantId=O}static _fromEmailAndPassword(p,g){return new To(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new To(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,C.Z)(function*(){switch(g.signInMethod){case"password":return function Lr(v,p){return at.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Un(v,p){return br.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Je(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,C.Z)(function*(){switch(E.signInMethod){case"password":return Ht(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ur(v,p){return yi.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Je(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function rr(v,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithIdp",Ft(v,p))})).apply(this,arguments)}class zr extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new zr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Je("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:O}=g,H=(0,ce._T)(g,["providerId","signInMethod"]);if(!E||!O)return null;const ge=new zr(E,O);return ge.idToken=H.idToken||void 0,ge.accessToken=H.accessToken||void 0,ge.secret=H.secret,ge.nonce=H.nonce,ge.pendingToken=H.pendingToken||null,ge}_getIdTokenResponse(p){return rr(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,rr(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,h.xO)(g)}return p}}function Vr(v,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:sendVerificationCode",Ft(v,p))})).apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,p))})).apply(this,arguments)}function Ds(){return(Ds=(0,C.Z)(function*(v,p){const g=yield Hn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,p));if(g.temporaryProof)throw jn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const vi={USER_NOT_FOUND:"user-not-found"};function Va(){return(Va=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),vi)})).apply(this,arguments)}class ns extends _n{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ns({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ns({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function So(v,p){return Cs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Si(v,p){return Ds.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function na(v,p){return Va.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:O}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:O}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:O,temporaryProof:H}=p;return E||g||O||H?new ns({verificationId:g,verificationCode:E,phoneNumber:O,temporaryProof:H}):null}}class ui{constructor(p){var g,E,O,H,ge,Le;const wt=(0,h.zd)((0,h.pd)(p)),Ct=null!==(g=wt.apiKey)&&void 0!==g?g:null,Mt=null!==(E=wt.oobCode)&&void 0!==E?E:null,zn=function Ts(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=wt.mode)&&void 0!==O?O:null);fe(Ct&&Mt&&zn,"argument-error"),this.apiKey=Ct,this.operation=zn,this.code=Mt,this.continueUrl=null!==(H=wt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ge=wt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Le=wt.tenantId)&&void 0!==Le?Le:null}static parseLink(p){const g=function xo(v){const p=(0,h.zd)((0,h.pd)(v)).link,g=p?(0,h.zd)((0,h.pd)(p)).deep_link_id:null,E=(0,h.zd)((0,h.pd)(v)).deep_link_id;return(E?(0,h.zd)((0,h.pd)(E)).link:null)||E||g||p||v}(p);try{return new ui(g)}catch(E){return null}}}let Qs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return To._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const O=ui.parseLink(E);return fe(O,"argument-error"),To._fromEmailAndCode(g,O.code,O.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class _i{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class xr extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Wr extends xr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return fe("providerId"in g&&"signInMethod"in g,"argument-error"),zr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return fe(p.idToken||p.accessToken,"argument-error"),zr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Wr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Wr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:O,pendingToken:H,nonce:ge,providerId:Le}=p;if(!E&&!O&&!g&&!H||!Le)return null;try{return new Wr(Le)._credential({idToken:g,accessToken:E,nonce:ge,pendingToken:H})}catch(wt){return null}}}let rs=(()=>{class v extends xr{constructor(){super("facebook.com")}static credential(g){return zr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),is=(()=>{class v extends xr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return zr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:O}=g;if(!E&&!O)return null;try{return v.credential(E,O)}catch(H){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ua=(()=>{class v extends xr{constructor(){super("github.com")}static credential(g){return zr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class wi extends _n{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return rr(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,rr(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:O,pendingToken:H}=g;return E&&O&&H&&E===O?new wi(E,H):null}static _create(p,g){return new wi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ei extends _i{constructor(p){fe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ei.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ei.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=wi.fromJSON(p);return fe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return wi._create(E,g)}catch(O){return null}}}let Mr=(()=>{class v extends xr{constructor(){super("twitter.com")}static credential(g,E){return zr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:O}=g;if(!E||!O)return null;try{return v.credential(E,O)}catch(H){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ra(v,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signUp",Ft(v,p))})).apply(this,arguments)}class qr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,O=!1){return(0,C.Z)(function*(){const H=yield Pt._fromIdTokenResponse(p,E,O),ge=ia(E);return new qr({user:H,providerId:ge,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,C.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const O=ia(E);return new qr({user:p,providerId:O,_tokenResponse:E,operationType:g})})()}}function ia(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function As(v){return ni.apply(this,arguments)}function ni(){return(ni=(0,C.Z)(function*(v){var p;const g=tt(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new qr({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield ra(g,{returnSecureToken:!0}),O=yield qr._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(O.user),O})).apply(this,arguments)}class Ys extends h.ZR{constructor(p,g,E,O){var H;super(g.code,g.message),this.operationType=E,this.user=O,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:p.name,tenantId:null!==(H=p.tenantId)&&void 0!==H?H:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,O){return new Ys(p,g,E,O)}}function Js(v,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Ys._fromErrorAndOperation(v,H,p,E):H})}function No(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function ei(v,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,C.Z)(function*(v,p){const g=(0,h.m9)(v);yield L(!0,g,p);const{providerUserInfo:E}=yield yr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),O=No(E||[]);return g.providerData=g.providerData.filter(H=>O.has(H.providerId)),O.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function bn(v,p){return M.apply(this,arguments)}function M(){return(M=(0,C.Z)(function*(v,p,g=!1){const E=yield yt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return qr._forOperation(v,"link",E)})).apply(this,arguments)}function L(v,p,g){return S.apply(this,arguments)}function S(){return(S=(0,C.Z)(function*(v,p,g){yield Xn(p);const O=!1===v?"provider-already-linked":"no-such-provider";fe(No(p.providerData).has(g)===v,p.auth,O)})).apply(this,arguments)}function B(v,p){return ee.apply(this,arguments)}function ee(){return(ee=(0,C.Z)(function*(v,p,g=!1){var E;const{auth:O}=v,H="reauthenticate";try{const ge=yield yt(v,Js(O,H,p,v),g);fe(ge.idToken,O,"internal-error");const Le=ht(ge.idToken);fe(Le,O,"internal-error");const{sub:wt}=Le;return fe(v.uid===wt,O,"user-mismatch"),qr._forOperation(v,H,ge)}catch(ge){throw"auth/user-not-found"===(null===(E=ge)||void 0===E?void 0:E.code)&&Je(O,"user-mismatch"),ge}})).apply(this,arguments)}function Ne(v,p){return qe.apply(this,arguments)}function qe(){return(qe=(0,C.Z)(function*(v,p,g=!1){const E="signIn",O=yield Js(v,E,p),H=yield qr._fromIdTokenResponse(v,E,O);return g||(yield v._updateCurrentUser(H.user)),H})).apply(this,arguments)}function bt(v,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,C.Z)(function*(v,p){return Ne(tt(v),p)})).apply(this,arguments)}function yn(v,p){return qt.apply(this,arguments)}function qt(){return(qt=(0,C.Z)(function*(v,p){const g=(0,h.m9)(v);return yield L(!1,g,p.providerId),bn(g,p)})).apply(this,arguments)}function Qt(v,p){return $n.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(v,p){return B((0,h.m9)(v),p)})).apply(this,arguments)}function Yt(v,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,C.Z)(function*(v,p){return Hn(v,"POST","/v1/accounts:signInWithCustomToken",Ft(v,p))})).apply(this,arguments)}function li(v,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,C.Z)(function*(v,p){const g=tt(v),E=yield Yt(g,{token:p,returnSecureToken:!0}),O=yield qr._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(O.user),O})).apply(this,arguments)}class xt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Bi._fromServerResponse(p,g):Je(p,"internal-error")}}class Bi extends xt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Bi(g)}}function Ss(v,p,g){var E;fe((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),fe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(fe(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(fe(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function sa(v,p,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v),O={requestType:"PASSWORD_RESET",email:p};g&&Ss(E,O,g),yield es(E,O)})).apply(this,arguments)}function oa(v,p,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,C.Z)(function*(v,p,g){yield ke((0,h.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Wu(v,p){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,C.Z)(function*(v,p){yield Xt((0,h.m9)(v),{oobCode:p})})).apply(this,arguments)}function rn(v,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,C.Z)(function*(v,p){const g=(0,h.m9)(v),E=yield ke(g,{oobCode:p}),O=E.requestType;switch(fe(O,g,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(E.mfaInfo,g,"internal-error");default:fe(E.email,g,"internal-error")}let H=null;return E.mfaInfo&&(H=xt._fromServerResponse(tt(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:H},operation:O}})).apply(this,arguments)}function qn(v,p){return os.apply(this,arguments)}function os(){return(os=(0,C.Z)(function*(v,p){const{data:g}=yield rn((0,h.m9)(v),p);return g.email})).apply(this,arguments)}function Ms(v,p,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,C.Z)(function*(v,p,g){const E=tt(v),O=yield ra(E,{returnSecureToken:!0,email:p,password:g}),H=yield qr._fromIdTokenResponse(E,"signIn",O);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}function yu(v,p,g){return bt((0,h.m9)(v),Qs.credential(p,g))}function Xs(v,p,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v),O={requestType:"EMAIL_SIGNIN",email:p};fe(g.handleCodeInApp,E,"argument-error"),g&&Ss(E,O,g),yield Gr(E,O)})).apply(this,arguments)}function aa(v,p){const g=ui.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Oo(v,p,g){return as.apply(this,arguments)}function as(){return(as=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v),O=Qs.credentialWithLink(p,g||be());return fe(O._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),bt(E,O)})).apply(this,arguments)}function Br(v,p){return xi.apply(this,arguments)}function xi(){return(xi=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:createAuthUri",Ft(v,p))})).apply(this,arguments)}function us(v,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,C.Z)(function*(v,p){const E={identifier:p,continueUri:Ge()?be():"http://localhost"},{signinMethods:O}=yield Br((0,h.m9)(v),E);return O||[]})).apply(this,arguments)}function ls(v,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,C.Z)(function*(v,p){const g=(0,h.m9)(v),O={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ss(g.auth,O,p);const{email:H}=yield Er(g.auth,O);H!==v.email&&(yield v.reload())})).apply(this,arguments)}function _u(v,p,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Ss(E.auth,H,g);const{email:ge}=yield Co(E.auth,H);ge!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ba(v,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,C.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ja(v,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,C.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,h.m9)(v),H={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},ge=yield yt(E,Ba(E.auth,H));E.displayName=ge.displayName||null,E.photoURL=ge.photoUrl||null;const Le=E.providerData.find(({providerId:wt})=>"password"===wt);Le&&(Le.displayName=E.displayName,Le.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ge)})).apply(this,arguments)}function ua(v,p){return Rs((0,h.m9)(v),p,null)}function eo(v,p){return Rs((0,h.m9)(v),null,p)}function Rs(v,p,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,C.Z)(function*(v,p,g){const{auth:E}=v,H={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(H.email=p),g&&(H.password=g);const ge=yield yt(v,Ht(E,H));yield v._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class Ps{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class ca extends Ps{constructor(p,g,E,O){super(p,g,E),this.username=O}}class ko extends Ps{constructor(p,g){super(p,"facebook.com",g)}}class to extends ca{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class da extends Ps{constructor(p,g){super(p,"google.com",g)}}class wu extends ca{constructor(p,g,E){super(p,"twitter.com",g,E)}}function cr(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function la(v){var p,g;if(!v)return null;const{providerId:E}=v,O=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},H=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const ge=null===(g=null===(p=ht(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(ge)return new Ps(H,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!E)return null;switch(E){case"facebook.com":return new ko(H,O);case"github.com":return new to(H,O);case"google.com":return new da(H,O);case"twitter.com":return new wu(H,O,v.screenName||null);case"custom":case"anonymous":return new Ps(H,null);default:return new Ps(H,E,O)}}(g)}class $i{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new $i("enroll",p,g)}static _fromMfaPendingCredential(p){return new $i("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return $i._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return $i._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Gi{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=tt(p),O=g.customData._serverResponse,H=(O.mfaInfo||[]).map(Le=>xt._fromServerResponse(E,Le));fe(O.mfaPendingCredential,E,"internal-error");const ge=$i._fromMfaPendingCredential(O.mfaPendingCredential);return new Gi(ge,H,function(){var Le=(0,C.Z)(function*(wt){const Ct=yield wt._process(E,ge);delete O.mfaInfo,delete O.mfaPendingCredential;const Mt=Object.assign(Object.assign({},O),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(g.operationType){case"signIn":const zn=yield qr._fromIdTokenResponse(E,g.operationType,Mt);return yield E._updateCurrentUser(zn.user),zn;case"reauthenticate":return fe(g.user,E,"internal-error"),qr._forOperation(g.user,g.operationType,Mt);default:Je(E,"internal-error")}});return function(wt){return Le.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,C.Z)(function*(){return g.signInResolver(p)})()}}function Fo(v,p){var g;const E=(0,h.m9)(v),O=p;return fe(p.customData.operationType,E,"argument-error"),fe(null===(g=O.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Gi._fromError(E,O)}function ir(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:start",Ft(v,p))}class Rr{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>xt._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Rr(p)}getSession(){var p=this;return(0,C.Z)(function*(){return $i._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,C.Z)(function*(){const O=p,H=yield E.getSession(),ge=yield yt(E.user,O._process(E.user.auth,H,g));return yield E.user._updateTokensIfNecessary(ge),E.user.reload()})()}unenroll(p){var g=this;return(0,C.Z)(function*(){var E;const O="string"==typeof p?p:p.uid,H=yield g.user.getIdToken(),ge=yield yt(g.user,function ri(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(v,p))}(g.user.auth,{idToken:H,mfaEnrollmentId:O}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Le})=>Le!==O),yield g.user._updateTokensIfNecessary(ge);try{yield g.user.reload()}catch(Le){if("auth/user-token-expired"!==(null===(E=Le)||void 0===E?void 0:E.code))throw Le}})()}}const Os=new WeakMap;function Eu(v){const p=(0,h.m9)(v);return Os.has(p)||Os.set(p,Rr._fromUser(p)),Os.get(p)}const hs="__sak";class ro{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(hs,"1"),this.storage.removeItem(hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yn=(()=>{class v extends ro{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ql(){const v=(0,h.z$)();return z(v)||rt(v)}()&&function Sr(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const O=this.storage.getItem(E),H=this.localCache[E];O!==H&&g(E,H,O)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((Le,wt,Ct)=>{this.notifyListeners(Le,Ct)});const O=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(O);if(g.newValue!==Le)null!==g.newValue?this.storage.setItem(O,g.newValue):this.storage.removeItem(O);else if(this.localCache[O]===g.newValue&&!E)return}const H=()=>{const Le=this.storage.getItem(O);!E&&this.localCache[O]===Le||this.notifyListeners(O,Le)},ge=this.storage.getItem(O);!function Ut(){return(0,h.w1)()&&10===document.documentMode}()||ge===g.newValue||g.newValue===g.oldValue?H():setTimeout(H,10)}notifyListeners(g,E){this.localCache[g]=E;const O=this.listeners[g];if(O)for(const H of Array.from(O))H(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var O=()=>super._set,H=this;return(0,C.Z)(function*(){yield O().call(H,g,E),H.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,O=this;return(0,C.Z)(function*(){const H=yield E().call(O,g);return O.localCache[g]=JSON.stringify(H),H})()}_remove(g){var E=()=>super._remove,O=this;return(0,C.Z)(function*(){yield E().call(O,g),delete O.localCache[g]})()}}return v.type="LOCAL",v})(),I=(()=>{class v extends ro{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let K=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(H=>H.isListeningto(g));if(E)return E;const O=new v(g);return this.receivers.push(O),O}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,C.Z)(function*(){const O=g,{eventId:H,eventType:ge,data:Le}=O.data,wt=E.handlersMap[ge];if(!(null==wt?void 0:wt.size))return;O.ports[0].postMessage({status:"ack",eventId:H,eventType:ge});const Ct=Array.from(wt).map(function(){var zn=(0,C.Z)(function*(vs){return vs(O.origin,Le)});return function(vs){return zn.apply(this,arguments)}}()),Mt=yield function N(v){return Promise.all(v.map(function(){var p=(0,C.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Ct);O.ports[0].postMessage({status:"done",eventId:H,eventType:ge,response:Mt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Pe(v="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return v+g}class vt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var O=this;return(0,C.Z)(function*(){const H="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ge,Le;return new Promise((wt,Ct)=>{const Mt=Pe("",20);H.port1.start();const zn=setTimeout(()=>{Ct(new Error("unsupported_event"))},E);Le={messageChannel:H,onMessage(vs){const Ia=vs;if(Ia.data.eventId===Mt)switch(Ia.data.status){case"ack":clearTimeout(zn),ge=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),wt(Ia.data.response);break;default:clearTimeout(zn),clearTimeout(ge),Ct(new Error("invalid_response"))}}},O.handlers.add(Le),H.port1.addEventListener("message",Le.onMessage),O.target.postMessage({eventType:p,eventId:Mt,data:g},[H.port2])}).finally(()=>{Le&&O.removeMessageHandler(Le)})})()}}function Jt(){return window}function sr(){return void 0!==Jt().WorkerGlobalScope&&"function"==typeof Jt().importScripts}function Vo(){return(Vo=(0,C.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Kl="firebaseLocalStorageDb",oo="firebaseLocalStorage",fs="fbase_key";class fa{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ao(v,p){return v.transaction([oo],p?"readwrite":"readonly").objectStore(oo)}function Iu(){const v=indexedDB.open(Kl,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(oo,{keyPath:fs})}catch(O){g(O)}}),v.addEventListener("success",(0,C.Z)(function*(){const E=v.result;E.objectStoreNames.contains(oo)?p(E):(E.close(),yield function bu(){const v=indexedDB.deleteDatabase(Kl);return new fa(v).toPromise()}(),p(yield Iu()))}))})}function Yu(v,p,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,C.Z)(function*(v,p,g){const E=ao(v,!0).put({[fs]:p,value:g});return new fa(E).toPromise()})).apply(this,arguments)}function Uo(){return(Uo=(0,C.Z)(function*(v,p){const g=ao(v,!1).get(p),E=yield new fa(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Cu(v,p){const g=ao(v,!0).delete(p);return new fa(g).toPromise()}const el=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,C.Z)(function*(){return g.db||(g.db=yield Iu()),g.db})()}_withRetries(g){var E=this;return(0,C.Z)(function*(){let O=0;for(;;)try{const H=yield E._openDb();return yield g(H)}catch(H){if(O++>3)throw H;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,C.Z)(function*(){return sr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,C.Z)(function*(){g.receiver=K._getInstance(function so(){return sr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,C.Z)(function*(O,H){return{keyProcessed:(yield g._poll()).includes(H.key)}});return function(O,H){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,C.Z)(function*(O,H){return["keyChanged"]});return function(O,H){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,C.Z)(function*(){var E,O;if(g.activeServiceWorker=yield function zi(){return Vo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new vt(g.activeServiceWorker);const H=yield g.sender._send("ping",{},800);!H||(null===(E=H[0])||void 0===E?void 0:E.fulfilled)&&(null===(O=H[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,C.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function $a(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Iu();return yield Yu(g,hs,"1"),yield Cu(g,hs),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,C.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var O=this;return(0,C.Z)(function*(){return O._withPendingWrite((0,C.Z)(function*(){return yield O._withRetries(H=>Yu(H,g,E)),O.localCache[g]=E,O.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,C.Z)(function*(){const O=yield E._withRetries(H=>function Ju(v,p){return Uo.apply(this,arguments)}(H,g));return E.localCache[g]=O,O})()}_remove(g){var E=this;return(0,C.Z)(function*(){return E._withPendingWrite((0,C.Z)(function*(){return yield E._withRetries(O=>Cu(O,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,C.Z)(function*(){const E=yield g._withRetries(ge=>{const Le=ao(ge,!1).getAll();return new fa(Le).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const O=[],H=new Set;for(const{fbase_key:ge,value:Le}of E)H.add(ge),JSON.stringify(g.localCache[ge])!==JSON.stringify(Le)&&(g.notifyListeners(ge,Le),O.push(ge));for(const ge of Object.keys(g.localCache))g.localCache[ge]&&!H.has(ge)&&(g.notifyListeners(ge,null),O.push(ge));return O})()}notifyListeners(g,E){this.localCache[g]=E;const O=this.listeners[g];if(O)for(const H of Array.from(O))H(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Gc(v,p){return on(v,"POST","/v2/accounts/mfaSignIn:start",Ft(v,p))}function ci(){return(ci=(0,C.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function za(v){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=O=>{const H=ze("internal-error");H.customData=O,g(H)},E.type="text/javascript",E.charset="UTF-8",function Ga(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function bi(v){return`__${v}${Math.floor(1e6*Math.random())}`}const dn=1e12;class Wa{constructor(p){this.auth=p,this.counter=dn,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Du(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||dn;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||dn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,C.Z)(function*(){var E;return null===(E=g._widgets.get(p||dn))||void 0===E||E.execute(),""})()}}class Du{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof p?document.getElementById(p):p;fe(O,"argument-error",{appName:g}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bo(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tl=bi("rcb"),Ir=new lt(3e4,6e4);class Ql{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=Jt().grecaptcha)||void 0===p?void 0:p.render)}load(p,g=""){return fe(function Ls(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Jt().grecaptcha):new Promise((E,O)=>{const H=Jt().setTimeout(()=>{O(ze(p,"network-request-failed"))},Ir.get());Jt()[tl]=()=>{Jt().clearTimeout(H),delete Jt()[tl];const Le=Jt().grecaptcha;if(!Le)return void O(ze(p,"internal-error"));const wt=Le.render;Le.render=(Ct,Mt)=>{const zn=wt(Ct,Mt);return this.counter++,zn},this.hostLanguage=g,E(Le)},za(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:tl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(H),O(ze(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!!(null===(g=Jt().grecaptcha)||void 0===g?void 0:g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class eh{load(p){return(0,C.Z)(function*(){return new Wa(p)})()}clearedOneInstance(){}}const uo="recaptcha",th={theme:"light",type:"image"};class nh{constructor(p,g=Object.assign({},th),E){this.parameters=g,this.type=uo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tt(E),this.isInvisible="invisible"===this.parameters.size,fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof p?document.getElementById(p):p;fe(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eh:new Ql,this.validateStartingState()}verify(){var p=this;return(0,C.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(H=>{const ge=Le=>{!Le||(p.tokenChangeListeners.delete(ge),H(Le))};p.tokenChangeListeners.add(ge),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=Jt()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,C.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,C.Z)(function*(){fe(Ge()&&!sr(),p.auth,"internal-error"),yield function Nr(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Fs(v){return ci.apply(this,arguments)}(p.auth);fe(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qa{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ns._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function jr(v,p,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,C.Z)(function*(v,p,g){const E=tt(v),O=yield Ci(E,p,(0,h.m9)(g));return new qa(O,H=>bt(E,H))})).apply(this,arguments)}function co(v,p,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v);yield L(!1,E,"phone");const O=yield Ci(E.auth,p,(0,h.m9)(g));return new qa(O,H=>yn(E,H))})).apply(this,arguments)}function nl(v,p,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v),O=yield Ci(E.auth,p,(0,h.m9)(g));return new qa(O,H=>Qt(E,H))})).apply(this,arguments)}function Ci(v,p,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,C.Z)(function*(v,p,g){var E;const O=yield g.verify();try{let H;if(fe("string"==typeof O,v,"argument-error"),fe(g.type===uo,v,"argument-error"),H="string"==typeof p?{phoneNumber:p}:p,"session"in H){const ge=H.session;if("phoneNumber"in H)return fe("enroll"===ge.type,v,"internal-error"),(yield ir(v,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{fe("signin"===ge.type,v,"internal-error");const Le=(null===(E=H.multiFactorHint)||void 0===E?void 0:E.uid)||H.multiFactorUid;return fe(Le,v,"missing-multi-factor-info"),(yield Gc(v,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Vr(v,{phoneNumber:H.phoneNumber,recaptchaToken:O});return ge}}finally{g._reset()}})).apply(this,arguments)}function Tu(v,p){return va.apply(this,arguments)}function va(){return(va=(0,C.Z)(function*(v,p){yield bn((0,h.m9)(v),p)})).apply(this,arguments)}let rl=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=tt(g)}verifyPhoneNumber(g,E){return Ci(this.auth,g,(0,h.m9)(E))}static credential(g,E){return ns._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:O}=g;return E&&O?ns._fromTokenResponse(E,O):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ho(v,p){return p?le(p):(fe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class il extends _n{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return rr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return rr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return rr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Jl(v){return Ne(v.auth,new il(v),v.bypassAuthState)}function rh(v){const{auth:p,user:g}=v;return fe(g,p,"internal-error"),B(g,new il(v),v.bypassAuthState)}function Au(v){return or.apply(this,arguments)}function or(){return(or=(0,C.Z)(function*(v){const{auth:p,user:g}=v;return fe(g,p,"internal-error"),bn(g,new il(v),v.bypassAuthState)})).apply(this,arguments)}class _a{constructor(p,g,E,O,H=!1){this.auth=p,this.resolver=E,this.user=O,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,C.Z)(function*(E,O){p.pendingPromise={resolve:E,reject:O};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(H){p.reject(H)}});return function(E,O){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,C.Z)(function*(){const{urlResponse:E,sessionId:O,postBody:H,tenantId:ge,error:Le,type:wt}=p;if(Le)return void g.reject(Le);const Ct={auth:g.auth,requestUri:E,sessionId:O,tenantId:ge||void 0,postBody:H||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(wt)(Ct))}catch(Mt){g.reject(Mt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Jl;case"linkViaPopup":case"linkViaRedirect":return Au;case"reauthViaPopup":case"reauthViaRedirect":return rh;default:Je(this.auth,"internal-error")}}resolve(p){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fo=new lt(2e3,1e4);function Xl(v,p,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,C.Z)(function*(v,p,g){const E=tt(v);Be(v,p,_i);const O=ho(E,g);return new Ho(E,"signInViaPopup",p,O).executeNotNull()})).apply(this,arguments)}function Ka(v,p,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v);Be(E.auth,p,_i);const O=ho(E.auth,g);return new Ho(E.auth,"reauthViaPopup",p,O,E).executeNotNull()})).apply(this,arguments)}function ih(v,p,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v);Be(E.auth,p,_i);const O=ho(E.auth,g);return new Ho(E.auth,"linkViaPopup",p,O,E).executeNotNull()})).apply(this,arguments)}let Ho=(()=>{class v extends _a{constructor(g,E,O,H,ge){super(g,E,H,ge),this.provider=O,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,C.Z)(function*(){const E=yield g.execute();return fe(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,C.Z)(function*(){Oe(1===g.filter.length,"Popup operations only handle one event");const E=Pe();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(O=>{g.reject(O)}),g.resolver._isIframeWebStorageSupported(g.auth,O=>{O||g.reject(ze(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,O;this.pollId=(null===(O=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,fo.get())};g()}}return v.currentPopupAction=null,v})();const Wi=new Map;class Ea extends _a{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,C.Z)(function*(){let E=Wi.get(g.auth._key());if(!E){try{const H=(yield function Hf(v,p){return Vs.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(H)}catch(O){E=()=>Promise.reject(O)}Wi.set(g.auth._key(),E)}return g.bypassAuthState||Wi.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,C.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const O=yield E.auth._redirectUserForId(p.eventId);if(O)return E.user=O,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Vs(){return(Vs=(0,C.Z)(function*(v,p){const g=Cr(p),E=Wc(v);if(!(yield E._isAvailable()))return!1;const O="true"===(yield E._get(g));return yield E._remove(g),O})).apply(this,arguments)}function qi(v,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,C.Z)(function*(v,p){return Wc(v)._set(Cr(p),"true")})).apply(this,arguments)}function Us(){Wi.clear()}function sh(v,p){Wi.set(v._key(),p)}function Wc(v){return le(v._redirectPersistence)}function Cr(v){return Z("pendingRedirect",v.config.apiKey,v.name)}function Qa(v,p,g){return function Ki(v,p,g){return Ya.apply(this,arguments)}(v,p,g)}function Ya(){return(Ya=(0,C.Z)(function*(v,p,g){const E=tt(v);Be(v,p,_i);const O=ho(E,g);return yield qi(O,E),O._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function A(v,p,g){return function D(v,p,g){return P.apply(this,arguments)}(v,p,g)}function P(){return(P=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v);Be(E.auth,p,_i);const O=ho(E.auth,g);yield qi(O,E.auth);const H=yield Se(E);return O._openRedirect(E.auth,p,"reauthViaRedirect",H)})).apply(this,arguments)}function W(v,p,g){return function se(v,p,g){return te.apply(this,arguments)}(v,p,g)}function te(){return(te=(0,C.Z)(function*(v,p,g){const E=(0,h.m9)(v);Be(E.auth,p,_i);const O=ho(E.auth,g);yield L(!1,E,p.providerId),yield qi(O,E.auth);const H=yield Se(E);return O._openRedirect(E.auth,p,"linkViaRedirect",H)})).apply(this,arguments)}function Ie(v,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(v,p){return yield tt(v)._initializationPromise,Ue(v,p,!1)})).apply(this,arguments)}function Ue(v,p){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(v,p,g=!1){const E=tt(v),O=ho(E,p),ge=yield new Ea(E,O,g).execute();return ge&&!g&&(delete ge.user._redirectEventId,yield E._persistUserIfCurrent(ge.user),yield E._setRedirectUser(null,p)),ge})).apply(this,arguments)}function Se(v){return gt.apply(this,arguments)}function gt(){return(gt=(0,C.Z)(function*(v){const p=Pe(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class di{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function po(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $o(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!$o(p)){const O=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(ze(this.auth,O))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(p))}saveEventToCache(p){this.cachedEventUids.add(Ja(p)),this.lastProcessedEventTime=Date.now()}}function Ja(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function $o({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function nc(v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,C.Z)(function*(v,p={}){return on(v,"GET","/v1/projects",p)})).apply(this,arguments)}const eu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gs=/^https?/;function Su(){return(Su=(0,C.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield nc(v);for(const g of p)try{if(en(g))return}catch(E){}Je(v,"unauthorized-domain")})).apply(this,arguments)}function en(v){const p=be(),{protocol:g,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const ge=new URL(v);return""===ge.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&ge.hostname===E}if(!gs.test(g))return!1;if(eu.test(v))return E===v;const O=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(E)}const xu=new lt(3e4,6e4);function qc(){const v=Jt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Vt=null;function rc(v){return Vt=Vt||function Dr(v){return new Promise((p,g)=>{var E,O,H;function ge(){qc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{qc(),g(ze(v,"network-request-failed"))},timeout:xu.get()})}if(null===(O=null===(E=Jt().gapi)||void 0===E?void 0:E.iframes)||void 0===O?void 0:O.Iframe)p(gapi.iframes.getContext());else{if(!(null===(H=Jt().gapi)||void 0===H?void 0:H.load)){const Le=bi("iframefcb");return Jt()[Le]=()=>{gapi.load?ge():g(ze(v,"network-request-failed"))},za(`https://apis.google.com/js/api.js?onload=${Le}`).catch(wt=>g(wt))}ge()}}).catch(p=>{throw Vt=null,p})}(v),Vt}const Rn=new lt(5e3,15e3),ut={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oh(v){const p=v.config;fe(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?cn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:v.name,v:V.SDK_VERSION},O=Zc.get(v.config.apiHost);O&&(E.eid=O);const H=v._getFrameworks();return H.length&&(E.fw=H.join(",")),`${g}?${(0,h.xO)(E).slice(1)}`}function ol(){return ol=(0,C.Z)(function*(v){const p=yield rc(v),g=Jt().gapi;return fe(g,v,"internal-error"),p.open({where:document.body,url:oh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ut,dontclear:!0},E=>new Promise(function(){var O=(0,C.Z)(function*(H,ge){yield E.restyle({setHideOnLeave:!1});const Le=ze(v,"network-request-failed"),wt=Jt().setTimeout(()=>{ge(Le)},Rn.get());function Ct(){Jt().clearTimeout(wt),H(E)}E.ping(Ct).then(Ct,()=>{ge(Le)})});return function(H,ge){return O.apply(this,arguments)}}()))}),ol.apply(this,arguments)}const al={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function ms(v,p,g,E,O,H){fe(v.config.authDomain,v,"auth-domain-config-required"),fe(v.config.apiKey,v,"invalid-api-key");const ge={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:V.SDK_VERSION,eventId:O};if(p instanceof _i){p.setDefaultLanguage(v.languageCode),ge.providerId=p.providerId||"",(0,h.xb)(p.getCustomParameters())||(ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wt,Ct]of Object.entries(H||{}))ge[wt]=Ct}if(p instanceof xr){const wt=p.getScopes().filter(Ct=>""!==Ct);wt.length>0&&(ge.scopes=wt.join(","))}v.tenantId&&(ge.tid=v.tenantId);const Le=ge;for(const wt of Object.keys(Le))void 0===Le[wt]&&delete Le[wt];return`${function Ce({config:v}){return v.emulator?cn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,h.xO)(Le).slice(1)}`}const Mu="webStorageSupport",Wf=class go{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I,this._completeRedirectFn=Ue,this._overrideRedirectResult=sh}_openPopup(p,g,E,O){var H=this;return(0,C.Z)(function*(){var ge;Oe(null===(ge=H.eventManagers[p._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Le=ms(p,g,E,be(),O);return function uh(v,p,g,E=500,O=600){const H=Math.max((window.screen.availHeight-O)/2,0).toString(),ge=Math.max((window.screen.availWidth-E)/2,0).toString();let Le="";const wt=Object.assign(Object.assign({},al),{width:E.toString(),height:O.toString(),top:H,left:ge}),Ct=(0,h.z$)().toLowerCase();g&&(Le=we(Ct)?"_blank":g),U(Ct)&&(p=p||"http://localhost",wt.scrollbars="yes");const Mt=Object.entries(wt).reduce((vs,[Ia,ru])=>`${vs}${Ia}=${ru},`,"");if(function er(v=(0,h.z$)()){var p;return rt(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ct)&&"_self"!==Le)return function Gf(v,p){const g=document.createElement("a");g.href=v,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",Le),new Zi(null);const zn=window.open(p||"",Le,Mt);fe(zn,v,"popup-blocked");try{zn.focus()}catch(vs){}return new Zi(zn)}(p,Le,Pe())})()}_openRedirect(p,g,E,O){var H=this;return(0,C.Z)(function*(){return yield H._originValidation(p),function ti(v){Jt().location.href=v}(ms(p,g,E,be(),O)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:O,promise:H}=this.eventManagers[g];return O?Promise.resolve(O):(Oe(H,"If manager is not set, promise should be"),H)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,C.Z)(function*(){const E=yield function sl(v){return ol.apply(this,arguments)}(p),O=new di(p);return E.register("authEvent",H=>(fe(null==H?void 0:H.authEvent,p,"invalid-auth-event"),{status:O.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:O},g.iframes[p._key()]=E,O})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Mu,{type:Mu},O=>{var H;const ge=null===(H=null==O?void 0:O[0])||void 0===H?void 0:H[Mu];void 0!==ge&&g(!!ge),Je(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Bs(v){return Su.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Tn()||z()||rt()}};class Go extends class ic{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ae("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Go(p)}_finalizeEnroll(p,g,E){return function Lo(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(v,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ma(v,p){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",Ft(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lm=(()=>{class v{constructor(){}static assertion(g){return Go._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var ba="@firebase/auth",lh="0.20.10";class ch{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,C.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var O;p((null===(O=E)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function dm(v){(0,V._registerComponent)(new De.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),O=p.getProvider("heartbeat"),{apiKey:H,authDomain:ge}=E.options;return((Le,wt)=>{fe(H&&!H.includes(":"),"invalid-api-key",{appName:Le.name}),fe(!(null==ge?void 0:ge.includes(":")),"argument-error",{appName:Le.name});const Ct={apiKey:H,authDomain:ge,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(v)},Mt=new St(Le,wt,Ct);return function Re(v,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(le);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Mt,g),Mt})(E,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new De.wA("auth-internal",p=>{const g=tt(p.getProvider("auth").getImmediate());return new ch(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(ba,lh,function cm(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,V.registerVersion)(ba,lh,"esm2017")}("Browser")},2090:(pt,ae,j)=>{"use strict";j.d(ae,{BH:()=>zt,LL:()=>sn,ZR:()=>Fn,zI:()=>Ae,US:()=>De,tV:()=>xe,L:()=>pe,$s:()=>st,r3:()=>Zn,Sg:()=>lt,ne:()=>an,vZ:()=>yr,ZB:()=>Y,pd:()=>_r,aH:()=>It,Pz:()=>hn,m9:()=>gn,z$:()=>Ye,jU:()=>Fe,ru:()=>ye,xb:()=>Ln,w1:()=>Je,hl:()=>it,uI:()=>Ee,UG:()=>Me,b$:()=>Te,G6:()=>Be,xO:()=>vr,zd:()=>Ar,eu:()=>fe});const he=function(J){const Z=[];let ne=0;for(let q=0;q<J.length;q++){let U=J.charCodeAt(q);U<128?Z[ne++]=U:U<2048?(Z[ne++]=U>>6|192,Z[ne++]=63&U|128):55296==(64512&U)&&q+1<J.length&&56320==(64512&J.charCodeAt(q+1))?(U=65536+((1023&U)<<10)+(1023&J.charCodeAt(++q)),Z[ne++]=U>>18|240,Z[ne++]=U>>12&63|128,Z[ne++]=U>>6&63|128,Z[ne++]=63&U|128):(Z[ne++]=U>>12|224,Z[ne++]=U>>6&63|128,Z[ne++]=63&U|128)}return Z},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Z){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let U=0;U<J.length;U+=3){const z=J[U],we=U+1<J.length,Qe=we?J[U+1]:0,Xe=U+2<J.length,Et=Xe?J[U+2]:0;let fn=(15&Qe)<<2|Et>>6,er=63&Et;Xe||(er=64,we||(fn=64)),q.push(ne[z>>2],ne[(3&z)<<4|Qe>>4],ne[fn],ne[er])}return q.join("")},encodeString(J,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(J):this.encodeByteArray(he(J),Z)},decodeString(J,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(J):function(J){const Z=[];let ne=0,q=0;for(;ne<J.length;){const U=J[ne++];if(U<128)Z[q++]=String.fromCharCode(U);else if(U>191&&U<224){const z=J[ne++];Z[q++]=String.fromCharCode((31&U)<<6|63&z)}else if(U>239&&U<365){const Xe=((7&U)<<18|(63&J[ne++])<<12|(63&J[ne++])<<6|63&J[ne++])-65536;Z[q++]=String.fromCharCode(55296+(Xe>>10)),Z[q++]=String.fromCharCode(56320+(1023&Xe))}else{const z=J[ne++],we=J[ne++];Z[q++]=String.fromCharCode((15&U)<<12|(63&z)<<6|63&we)}}return Z.join("")}(this.decodeStringToByteArray(J,Z))},decodeStringToByteArray(J,Z){this.init_();const ne=Z?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let U=0;U<J.length;){const z=ne[J.charAt(U++)],Qe=U<J.length?ne[J.charAt(U)]:0;++U;const Et=U<J.length?ne[J.charAt(U)]:64;++U;const rt=U<J.length?ne[J.charAt(U)]:64;if(++U,null==z||null==Qe||null==Et||null==rt)throw Error();q.push(z<<2|Qe>>4),64!==Et&&(q.push(Qe<<4&240|Et>>2),64!==rt&&q.push(Et<<6&192|rt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},pe=function(J){return function(J){const Z=he(J);return De.encodeByteArray(Z,!0)}(J).replace(/\./g,"")},xe=function(J){try{return De.decodeString(J,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function Y(J,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Z}for(const ne in Z)!Z.hasOwnProperty(ne)||!ue(ne)||(J[ne]=Y(J[ne],Z[ne]));return J}function ue(J){return"__proto__"!==J}function Ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(J){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function ye(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const J=Ye();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Be(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function fe(){return new Promise((J,Z)=>{try{let ne=!0;const q="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(q);U.onsuccess=()=>{U.result.close(),ne||self.indexedDB.deleteDatabase(q),J(!0)},U.onupgradeneeded=()=>{ne=!1},U.onerror=()=>{var z;Z((null===(z=U.error)||void 0===z?void 0:z.message)||"")}}catch(ne){Z(ne)}})}function Ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Re=()=>{try{return function Oe(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if("undefined"==typeof document)return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ne){return}const Z=J&&xe(J[1]);return Z&&JSON.parse(Z)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},It=()=>{var J;return null===(J=Re())||void 0===J?void 0:J.config},hn=J=>{var Z;return null===(Z=Re())||void 0===Z?void 0:Z[`_${J}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,ne)=>{this.resolve=Z,this.reject=ne})}wrapCallback(Z){return(ne,q)=>{ne?this.reject(ne):this.resolve(q),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(ne):Z(ne,q))}}}function lt(J,Z){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=Z||"demo-project",U=J.iat||0,z=J.sub||J.user_id;if(!z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:U,exp:U+3600,auth_time:U,sub:z,user_id:z,firebase:{sign_in_provider:"custom",identities:{}}},J);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(we)),""].join(".")}class Fn extends Error{constructor(Z,ne,q){super(ne),this.code=Z,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(Z,ne,q){this.service=Z,this.serviceName=ne,this.errors=q}create(Z,...ne){const q=ne[0]||{},U=`${this.service}/${Z}`,z=this.errors[Z],we=z?function Lt(J,Z){return J.replace(Ft,(ne,q)=>{const U=Z[q];return null!=U?String(U):`<${q}?>`})}(z,q):"Error";return new Fn(U,`${this.serviceName}: ${we} (${U}).`,q)}}const Ft=/\{\$([^}]+)}/g;function Zn(J,Z){return Object.prototype.hasOwnProperty.call(J,Z)}function Ln(J){for(const Z in J)if(Object.prototype.hasOwnProperty.call(J,Z))return!1;return!0}function yr(J,Z){if(J===Z)return!0;const ne=Object.keys(J),q=Object.keys(Z);for(const U of ne){if(!q.includes(U))return!1;const z=J[U],we=Z[U];if(xn(z)&&xn(we)){if(!yr(z,we))return!1}else if(z!==we)return!1}for(const U of q)if(!ne.includes(U))return!1;return!0}function xn(J){return null!==J&&"object"==typeof J}function vr(J){const Z=[];for(const[ne,q]of Object.entries(J))Array.isArray(q)?q.forEach(U=>{Z.push(encodeURIComponent(ne)+"="+encodeURIComponent(U))}):Z.push(encodeURIComponent(ne)+"="+encodeURIComponent(q));return Z.length?"&"+Z.join("&"):""}function Ar(J){const Z={};return J.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[U,z]=q.split("=");Z[decodeURIComponent(U)]=decodeURIComponent(z)}}),Z}function _r(J){const Z=J.indexOf("?");if(!Z)return"";const ne=J.indexOf("#",Z);return J.substring(Z,ne>0?ne:void 0)}function an(J,Z){const ne=new wr(J,Z);return ne.subscribe.bind(ne)}class wr{constructor(Z,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Z(this)}).catch(q=>{this.error(q)})}next(Z){this.forEachObserver(ne=>{ne.next(Z)})}error(Z){this.forEachObserver(ne=>{ne.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,ne,q){let U;if(void 0===Z&&void 0===ne&&void 0===q)throw new Error("Missing Observer.");U=function Tt(J,Z){if("object"!=typeof J||null===J)return!1;for(const ne of Z)if(ne in J&&"function"==typeof J[ne])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:ne,complete:q},void 0===U.next&&(U.next=yt),void 0===U.error&&(U.error=yt),void 0===U.complete&&(U.complete=yt);const z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch(we){}}),this.observers.push(U),z}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Z)}sendOne(Z,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{ne(this.observers[Z])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yt(){}function st(J,Z=1e3,ne=2){const q=Z*Math.pow(ne,J),U=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+U)}function gn(J){return J&&J._delegate?J._delegate:J}},9389:(pt,ae,j)=>{"use strict";var C=j(9808),h=j(5e3);class V extends C.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends V{static makeCurrent(){(0,C.\u0275setRootDomAdapter)(new he)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function De(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==t?null:function pe(n){_e=_e||document.createElement("a"),_e.setAttribute("href",n);const e=_e.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,C.\u0275parseCookieValue)(document.cookie,e)}}let _e,ce=null;const xe=new h.InjectionToken("TRANSITION_ID"),Y=[{provide:h.APP_INITIALIZER,useFactory:function Q(n,e,t){return()=>{t.get(h.ApplicationInitStatus).donePromise.then(()=>{const r=(0,C.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[xe,C.DOCUMENT,h.Injector],multi:!0}];class ue{static init(){(0,h.setTestabilityGetter)(new ue)}addToWindow(e){h.\u0275global.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),h.\u0275global.frameworkStabilizers||(h.\u0275global.frameworkStabilizers=[]),h.\u0275global.frameworkStabilizers.push(r=>{const o=h.\u0275global.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,C.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ye=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ee=new h.InjectionToken("EventManagerPlugins");let Me=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Ee),h.\u0275\u0275inject(h.NgZone))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Fe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,C.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ye=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ve),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ve))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Ve(n){(0,C.\u0275getDOM)().remove(n)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function re(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?re(n,o,t):(o=o.replace(ze,n),t.push(o))}return t}function le(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Re=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new be(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ViewEncapsulation.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new hn(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ViewEncapsulation.ShadowDom:return new zt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=re(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Me),h.\u0275\u0275inject(Te),h.\u0275\u0275inject(h.APP_ID))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class be{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Je[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Je[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Je[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.RendererStyleFlags2.DashCase|h.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&h.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,le(r)):this.eventManager.addEventListener(e,t,le(r))}}class hn extends be{constructor(e,t,r,o){super(e),this.component=r;const u=re(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ae(n){return"_ngcontent-%COMP%".replace(ze,n)}(o+"-"+r.id),this.hostAttr=function Oe(n){return"_nghost-%COMP%".replace(ze,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class zt extends be{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=re(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lt=(()=>{class n extends Fe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const cn=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ft={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let on=(()=>{class n extends Fe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.\u0275getDOM)().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(cn.forEach(w=>{const x=r.indexOf(w);x>-1&&(r.splice(x,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function nn(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Lt.hasOwnProperty(e)&&(e=Lt[e]))}return sn[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cn.forEach(u=>{u!=o&&Ft[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Kn=(0,h.createPlatformFactory)(h.platformCore,"browser",[{provide:h.PLATFORM_ID,useValue:C.\u0275PLATFORM_BROWSER_ID},{provide:h.PLATFORM_INITIALIZER,useValue:function mr(){he.makeCurrent(),ue.init()},multi:!0},{provide:C.DOCUMENT,useFactory:function Hn(){return(0,h.\u0275setDocument)(document),document},deps:[]}]),Zn=[{provide:h.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:h.ErrorHandler,useFactory:function kr(){return new h.ErrorHandler},deps:[]},{provide:Ee,useClass:lt,multi:!0,deps:[C.DOCUMENT,h.NgZone,h.PLATFORM_ID]},{provide:Ee,useClass:on,multi:!0,deps:[C.DOCUMENT]},{provide:Re,useClass:Re,deps:[Me,Te,h.APP_ID]},{provide:h.RendererFactory2,useExisting:Re},{provide:ye,useExisting:Te},{provide:Te,useClass:Te,deps:[C.DOCUMENT]},{provide:h.Testability,useClass:h.Testability,deps:[h.NgZone]},{provide:Me,useClass:Me,deps:[Ee,h.NgZone]},{provide:C.XhrFactory,useClass:Ye,deps:[]}];let jn=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.APP_ID,useValue:t.appId},{provide:xe,useExisting:h.APP_ID},Y]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(n,12))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:Zn,imports:[C.CommonModule,h.ApplicationModule]}),n})();"undefined"!=typeof window&&window;var z=j(2011),we=j(4986),Qe=j(8306),Xe=j(8996),Et=j(7669);function et(...n){const e=(0,Et.yG)(n);return(0,Xe.D)(n,e)}var rt=j(5813),fn=j(8189);function Ut(...n){return function er(){return(0,fn.J)(1)}()((0,Xe.D)(n,(0,Et.yG)(n)))}var Tn=j(4482);function Sr(...n){const e=(0,Et.yG)(n);return(0,Tn.e)((t,r)=>{(e?Ut(n,t,e):Ut(n,t)).subscribe(r)})}var $t=j(5403);function Ji(){return(0,Tn.e)((n,e)=>{let t,r=!1;n.subscribe((0,$t.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var St=j(4004);function tt(n,e,t,r,o){return(u,d)=>{let m=t,w=e,x=0;u.subscribe((0,$t.x)(d,F=>{const $=x++;w=m?n(w,F,$):(m=!0,F),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}function jt(n,e){return(0,Tn.e)(tt(n,e,arguments.length>=2,!0))}var vn=j(4671);function Ai(n,e){return n===e}function An(n,e){return(0,Tn.e)((t,r)=>{let o=0;t.subscribe((0,$t.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}j(5881);var at,_n=j(3942),ke=j(5861),Mn=j(9681),Ht=j(4859),Xr=j(1877),Xt=j(2090),Xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lr={},ai=ai||{},Ot=Xi||self;function Er(){}function mn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function es(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gr="closure_uid_"+(1e9*Math.random()>>>0),ar=0;function Co(n,e,t){return n.call.apply(n.bind,arguments)}function Do(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Un(n,e,t){return(Un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Co:Do).apply(null,arguments)}function br(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ur(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function yi(){this.s=this.s,this.o=this.o}var rr={};yi.prototype.s=!1,yi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ts(n){return Object.prototype.hasOwnProperty.call(n,Gr)&&n[Gr]||(n[Gr]=++ar)}(this);delete rr[n]}},yi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ta=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function La(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zr(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(mn(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function Vr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Vr.prototype.h=function(){this.defaultPrevented=!0};var Ao=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Er,e),Ot.removeEventListener("test",Er,e)}catch(t){}return n}();function So(n){return/^[\s\xa0]*$/.test(n)}var Cs=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Si(n,e){return n<e?-1:n>e?1:0}function Ds(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function vi(n){return-1!=Ds().indexOf(n)}function na(n){return na[" "](n),n}na[" "]=Er;var xr,n,ns=vi("Opera"),Ts=vi("Trident")||vi("MSIE"),xo=vi("Edge"),ui=xo||Ts,Mo=vi("Gecko")&&!(-1!=Ds().toLowerCase().indexOf("webkit")&&!vi("Edge"))&&!(vi("Trident")||vi("MSIE"))&&!vi("Edge"),Qs=-1!=Ds().toLowerCase().indexOf("webkit")&&!vi("Edge");function _i(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wr="",rs=(n=Ds(),Mo?/rv:([^\);]+)(\)|;)/.exec(n):xo?/Edge\/([\d\.]+)/.exec(n):Ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qs?/WebKit\/(\S+)/.exec(n):ns?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rs&&(Wr=rs?rs[1]:""),Ts){var is=_i();if(null!=is&&is>parseFloat(Wr)){xr=String(is);break e}}xr=Wr}var Ua={};var Ei=Ot.document&&Ts&&(_i()||parseInt(xr,10))||void 0;function Mr(n,e){if(Vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Mo){e:{try{na(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ra[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mr.X.h.call(this)}}ur(Mr,Vr);var ra={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),qr=0;function ia(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++qr,this.ba=this.ea=!1}function As(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ni(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ys(n){const e={};for(const t in n)e[t]=n[t];return e}const Js="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function No(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Js.length;u++)t=Js[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ei(n){this.src=n,this.g={},this.h=0}function ss(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=ta(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(As(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bn(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}ei.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=bn(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new ia(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var M="closure_lm_"+(1e6*Math.random()|0),L={};function S(n,e,t,r,o){if(r&&r.once)return Ne(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)S(n,e[u],t,r,o);return null}return t=$n(t),n&&n[tr]?n.N(e,t,es(r)?!!r.capture:!!r,o):B(n,e,t,!1,r,o)}function B(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=es(o)?!!o.capture:!!o,m=qt(n);if(m||(n[M]=m=new ei(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function ee(){const e=yn;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ao||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Bt(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ne(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ne(n,e[u],t,r,o);return null}return t=$n(t),n&&n[tr]?n.O(e,t,es(r)?!!r.capture:!!r,o):B(n,e,t,!0,r,o)}function qe(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)qe(n,e[u],t,r,o);else r=es(r)?!!r.capture:!!r,t=$n(t),n&&n[tr]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bn(u=n.g[e],t,r,o))&&(As(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=qt(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bn(e,t,r,o)),(t=-1<n?e[n]:null)&&bt(t))}function bt(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[tr])ss(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Bt(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qt(e))?(ss(t,n),0==t.h&&(t.src=null,e[M]=null)):As(n)}}}function Bt(n){return n in L?L[n]:L[n]="on"+n}function yn(n,e){if(n.ba)n=!0;else{e=new Mr(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&bt(n),n=t.call(r,e)}return n}function qt(n){return(n=n[M])instanceof ei?n:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $n(n){return"function"==typeof n?n:(n[Qt]||(n[Qt]=function(e){return n.handleEvent(e)}),n[Qt])}function Yt(){yi.call(this),this.i=new ei(this),this.P=this,this.I=null}function Kt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Vr(e,n);else if(e instanceof Vr)e.target=e.target||n;else{var o=e;No(e=new Vr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=li(d,r,!0,e)&&o}if(o=li(d=e.g=n,r,!0,e)&&o,o=li(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=li(d=e.g=t[u],r,!1,e)&&o}function li(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,w=d.ha||d.src;d.ea&&ss(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}ur(Yt,yi),Yt.prototype[tr]=!0,Yt.prototype.removeEventListener=function(n,e,t,r){qe(this,n,e,t,r)},Yt.prototype.M=function(){if(Yt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)As(t[r]);delete n.g[e],n.h--}}this.I=null},Yt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ur=Ot.JSON.stringify;function xt(){var n=rn;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xs,Ss=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sa,n=>n.reset());class sa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ji(n){Ot.setTimeout(()=>{throw n},0)}function oa(n,e){xs||function Wu(){var n=Ot.Promise.resolve(void 0);xs=function(){n.then(Po)}}(),Ke||(xs(),Ke=!0),rn.add(n,e)}var Ke=!1,rn=new class Bi{constructor(){this.h=this.g=null}add(e,t){const r=Ss.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Po(){for(var n;n=xt();){try{n.h.call(n.g)}catch(t){ji(t)}var e=Ss;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ke=!1}function qn(n,e){Yt.call(this),this.h=n||1,this.g=e||Ot,this.j=Un(this.lb,this),this.l=Date.now()}function os(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ms(n,e,t){if("function"==typeof n)t&&(n=Un(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Un(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function Kr(n){n.g=Ms(()=>{n.g=null,n.i&&(n.i=!1,Kr(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ur(qn,Yt),(at=qn.prototype).ca=!1,at.R=null,at.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kt(this,"tick"),this.ca&&(os(this),this.start()))}},at.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){qn.X.M.call(this),os(this),delete this.g};class yu extends yi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kr(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(n){yi.call(this),this.h=n,this.g={}}ur(Xs,yi);var vu=[];function aa(n,e,t,r){Array.isArray(t)||(t&&(vu[0]=t.toString()),t=vu);for(var o=0;o<t.length;o++){var u=S(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Oo(n){ni(n.g,function(e,t){this.g.hasOwnProperty(t)&&bt(e)},n),n.g={}}function as(){this.g=!0}function us(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ls(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Ur(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Xs.prototype.M=function(){Xs.X.M.call(this),Oo(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},as.prototype.Aa=function(){this.g=!1},as.prototype.info=function(){};var Mi={},_u=null;function cs(){return _u=_u||new Yt}function Ba(n){Vr.call(this,Mi.Pa,n)}function Ri(n){const e=cs();Kt(e,new Ba(e,n))}function ja(n,e){Vr.call(this,Mi.STAT_EVENT,n),this.stat=e}function lr(n){const e=cs();Kt(e,new ja(e,n))}function ua(n,e){Vr.call(this,Mi.Qa,n),this.size=e}function eo(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Mi.Pa="serverreachability",ur(Ba,Vr),Mi.STAT_EVENT="statevent",ur(ja,Vr),Mi.Qa="timingevent",ur(ua,Vr);var Rs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ns={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function la(){}function ca(){}la.prototype.h=null;var wu,ko={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function to(){Vr.call(this,"d")}function da(){Vr.call(this,"c")}function cr(){}function Ni(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Xs(this),this.O=Wl,this.T=new qn(n=ui?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}ur(to,Vr),ur(da,Vr),ur(cr,la),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},wu=new cr;var Wl=45e3,ha={},ds={};function qu(n,e,t){n.K=1,n.v=N(ks(e)),n.s=t,n.P=!0,Ha(n,null)}function Ha(n,e){n.F=Date.now(),Gi(n),n.A=ks(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),oo(t.i,"t",r),n.C=0,t=n.l.H,n.h=new nr,n.g=Xl(n.l,t?e:null,!n.s),0<n.N&&(n.L=new yu(Un(n.La,n,n.g),n.N)),aa(n.S,n.g,"readystatechange",n.ib),e=n.H?Ys(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ri(1),function Br(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var x=m[w].split("=");if(1<x.length){var F=x[0];x=x[1];var $=F.split("_");d=2<=$.length&&"type"==$[1]?d+(F+"=")+x+"&":d+(F+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Ku(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function no(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=$i(n,t),o==ds){4==e&&(n.o=4,lr(14),r=!1),us(n.j,n.m,null,"[Incomplete Response]");break}if(o==ha){n.o=4,lr(15),us(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}us(n.j,n.m,o,null),Rr(n,o)}Ku(n)&&o!=ds&&o!=ha&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,lr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ho(e),e.K=!0,lr(11))):(us(n.j,n.m,t,"[Invalid Chunked Response]"),ri(n),Lo(n))}function $i(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ds:(t=Number(e.substring(t,r)),isNaN(t)?ha:(r+=1)+t>e.length?ds:(e=e.substr(r,t),n.C=r+t,e))}function Gi(n){n.V=Date.now()+n.O,Fo(n,n.O)}function Fo(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eo(Un(n.gb,n),e)}function ir(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Lo(n){0==n.l.G||n.I||rh(n.l,n)}function ri(n){ir(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,os(n.T),Oo(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Rr(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ju(t.h,n)))if(!n.J&&Ju(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(x){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=eo(Un(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Jl(t),co(t)}rl(t),lr(18)}if(1>=pa(t.h)&&t.ja){try{t.ja()}catch(x){}t.ja=void 0}}else or(t,11)}else if((n.J||t.g==n)&&Jl(t),!So(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let x=o[e];if(t.T=x[0],x=x[1],2==t.G)if("c"==x[0]){t.I=x[1],t.ka=x[2];const F=x[3];null!=F&&(t.ma=F,t.j.info("VER="+t.ma));const $=x[4];null!=$&&(t.Ca=$,t.j.info("SVER="+t.Ca));const ie=x[5];null!=ie&&"number"==typeof ie&&0<ie&&(t.J=r=1.5*ie,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ve=n.g;if(ve){const je=ve.g?ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(je){var u=r.h;u.g||-1==je.indexOf("spdy")&&-1==je.indexOf("quic")&&-1==je.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Uo(u,u.h),u.h=null))}if(r.D){const ot=ve.g?ve.g.getResponseHeader("X-HTTP-Session-Id"):null;ot&&(r.za=ot,I(r.F,r.D,ot))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=fo(r,r.H?r.ka:null,r.V),d.J){Cu(r.h,d);var m=d,w=r.J;w&&m.setTimeout(w),m.B&&(ir(m),Gi(m)),r.g=d}else va(r);0<t.i.length&&nl(t)}else"stop"!=x[0]&&"close"!=x[0]||or(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?or(t,7):lo(t):"noop"!=x[0]&&t.l&&t.l.wa(x),t.A=0)}Ri(4)}catch(x){}}function hs(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mn(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Eu(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(mn(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Os(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mn(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(at=Ni.prototype).setTimeout=function(n){this.O=n},at.ib=function(n){n=n.target;const e=this.L;e&&3==uo(n)?e.l():this.La(n)},at.La=function(n){try{if(n==this.g)e:{const F=uo(this.g);var e=this.g.Ea();const $=this.g.aa();if(!(3>F)&&(3!=F||ui||this.g&&(this.h.h||this.g.fa()||th(this.g)))){this.I||4!=F||7==e||Ri(8==e||0>=$?3:2),ir(this);var t=this.g.aa();this.Y=t;t:if(Ku(this)){var r=th(this.g);n="";var o=r.length,u=4==uo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ri(this),Lo(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function xi(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,F,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(m)){var x=m;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,lr(12),ri(this),Lo(this);break e}us(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rr(this,t)}this.P?(no(this,F,d),ui&&this.i&&3==F&&(aa(this.S,this.T,"tick",this.hb),this.T.start())):(us(this.j,this.m,d,null),Rr(this,d)),4==F&&ri(this),this.i&&!this.I&&(4==F?rh(this.l,this):(this.i=!1,Gi(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),ri(this),Lo(this)}}}catch(F){}},at.hb=function(){if(this.g){var n=uo(this.g),e=this.g.fa();this.C<e.length&&(ir(this),no(this,n,e),this.i&&4!=n&&Gi(this))}},at.cancel=function(){this.I=!0,ri(this)},at.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Hi(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ri(3),lr(17)),ri(this),this.o=2,Lo(this)):Fo(this,this.V-n)};var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof io){this.h=void 0!==e?e:n.h,Zu(this,n.j),this.s=n.s,this.g=n.g,Yn(this,n.m),this.l=n.l,e=n.i;var t=new $a;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),b(this,t),this.o=n.o}else n&&(t=String(n).match(ro))?(this.h=!!e,Zu(this,t[1]||"",!0),this.s=K(t[2]||""),this.g=K(t[3]||"",!0),Yn(this,t[4]),this.l=K(t[5]||"",!0),b(this,t[6]||"",!0),this.o=K(t[7]||"")):(this.h=!!e,this.i=new $a(null,this.h))}function ks(n){return new io(n)}function Zu(n,e,t){n.j=t?K(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yn(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function b(n,e,t){e instanceof $a?(n.i=e,function fa(n,e){e&&!n.j&&(so(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Kl(this,r),oo(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Pe(e,zi)),n.i=new $a(e,n.h))}function I(n,e,t){n.i.set(e,t)}function N(n){return I(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function K(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pe(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vt),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vt(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}io.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pe(e,Jt,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pe(e,Jt,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pe(t,"/"==t.charAt(0)?sr:ti,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pe(t,Vo)),n.join("")};var Jt=/[#\/\?@]/g,ti=/[#\?:]/g,sr=/[#\?]/g,zi=/[#\?@]/g,Vo=/#/g;function $a(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function so(n){n.g||(n.g=new Map,n.h=0,n.i&&function ql(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kl(n,e){so(n),e=fs(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Qu(n,e){return so(n),e=fs(n,e),n.g.has(e)}function oo(n,e,t){Kl(n,e),0<t.length&&(n.i=null,n.g.set(fs(n,e),La(t)),n.h+=t.length)}function fs(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bu(n){this.l=n||Iu,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ga&&Ot.g.Ga()&&Ot.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=$a.prototype).add=function(n,e){so(this),this.i=null,n=fs(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){so(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},at.oa=function(){so(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},at.W=function(n){so(this);let e=[];if("string"==typeof n)Qu(this,n)&&(e=e.concat(this.g.get(fs(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return so(this),this.i=null,Qu(this,n=fs(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var Iu=10;function Yu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pa(n){return n.h?1:n.g?n.g.size:0}function Ju(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Uo(n,e){n.g?n.g.add(e):n.h=e}function Cu(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Zl(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return La(n.i)}function ga(){}function Xu(){this.g=new ga}function el(n,e,t){const r=t||"";try{hs(n,function(o,u){let d=o;es(o)&&(d=Ur(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function ma(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Fs(n){this.l=n.ac||null,this.j=n.jb||!1}function ci(n,e){Yt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bu.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ga.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},ga.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},ur(Fs,la),Fs.prototype.g=function(){return new ci(this.l,this.j)},Fs.prototype.i=function(n){return function(){return n}}({}),ur(ci,Yt);var Ga=0;function za(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function bi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ps(n)}function ps(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=ci.prototype).open=function(n,e){if(this.readyState!=Ga)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ps(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bi(this)),this.readyState=Ga},at.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;za(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},at.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bi(this):ps(this),3==this.readyState&&za(this)}},at.Va=function(n){this.g&&(this.response=this.responseText=n,bi(this))},at.Ua=function(n){this.g&&(this.response=n,bi(this))},at.ga=function(){this.g&&bi(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ya=Ot.JSON.parse;function dn(n){Yt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wa,this.K=this.L=!1}ur(dn,Yt);var Wa="",Du=/^https?$/i,Bo=["POST","PUT"];function Ir(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zc(n),Ls(n)}function zc(n){n.D||(n.D=!0,Kt(n,"complete"),Kt(n,"error"))}function Ql(n){if(n.h&&void 0!==ai&&(!n.C[1]||4!=uo(n)||2!=n.aa()))if(n.v&&4==uo(n))Ms(n.Ha,0,n);else if(Kt(n,"readystatechange"),4==uo(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(ro)[1]||null;if(!o&&Ot.self&&Ot.self.location){var u=Ot.self.location.protocol;o=u.substr(0,u.length-1)}r=!Du.test(o?o.toLowerCase():"")}t=r}if(t)Kt(n,"complete"),Kt(n,"success");else{n.m=6;try{var d=2<uo(n)?n.g.statusText:""}catch(w){d=""}n.j=d+" ["+n.aa()+"]",zc(n)}}finally{Ls(n)}}}function Ls(n,e){if(n.g){eh(n);const t=n.g,r=n.C[0]?Er:null;n.g=null,n.C=null,e||Kt(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function eh(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function uo(n){return n.g?n.g.readyState:0}function th(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Wa:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nh(n){let e="";return ni(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Nr(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=nh(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):I(n,e,t))}function qa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function jr(n){this.Ca=0,this.i=[],this.j=new as,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=qa("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=qa("baseRetryDelayMs",5e3,n),this.bb=qa("retryDelaySeedMs",1e4,n),this.$a=qa("forwardChannelMaxRetries",2,n),this.ta=qa("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bu(n&&n.concurrentRequestLimit),this.Fa=new Xu,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lo(n){if(Yl(n),3==n.G){var e=n.U++,t=ks(n.F);I(t,"SID",n.I),I(t,"RID",e),I(t,"TYPE","terminate"),jo(n,t),(e=new Ni(n,n.j,e,void 0)).K=2,e.v=N(ks(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Xl(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gi(e)}_a(n)}function co(n){n.g&&(ho(n),n.g.cancel(),n.g=null)}function Yl(n){co(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Jl(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function nl(n){Yu(n.h)||n.m||(n.m=!0,oa(n.Ja,n),n.C=0)}function Ci(n,e){var t;t=e?e.m:n.U++;const r=ks(n.F);I(r,"SID",n.I),I(r,"RID",t),I(r,"AID",n.T),jo(n,r),n.o&&n.s&&Nr(r,n.o,n.s),t=new Ni(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Tu(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Uo(n.h,t),qu(t,r,e)}function jo(n,e){n.ia&&ni(n.ia,function(t,r){I(e,r,t)}),n.l&&hs({},function(t,r){I(e,r,t)})}function Tu(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Un(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let x=o[w].h;const F=o[w].g;if(x-=u,0>x)u=Math.max(0,o[w].h-100),m=!1;else try{el(F,d,"req"+x+"_")}catch($){r&&r(F)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function va(n){n.g||n.u||(n.Z=1,oa(n.Ia,n),n.A=0)}function rl(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=eo(Un(n.Ia,n),Au(n,n.A)),n.A++,0))}function ho(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function il(n){n.g=new Ni(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ks(n.sa);I(e,"RID","rpc"),I(e,"SID",n.I),I(e,"CI",n.L?"0":"1"),I(e,"AID",n.T),I(e,"TYPE","xmlhttp"),jo(n,e),n.o&&n.s&&Nr(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=N(ks(e)),t.s=null,t.P=!0,Ha(t,n)}function Jl(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function rh(n,e){var t=null;if(n.g==e){Jl(n),ho(n),n.g=null;var r=2}else{if(!Ju(n.h,e))return;t=e.D,Cu(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Kt(r=cs(),new ua(r,t,e,o)),nl(n)}else va(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function Ii(n,e){return!(pa(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=eo(Un(n.Ja,n,e),Au(n,n.C)),n.C++,0)))}(n,e)||2==r&&rl(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:or(n,5);break;case 4:or(n,10);break;case 3:or(n,6);break;default:or(n,2)}}function Au(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function or(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Un(n.kb,n);t||(t=new io("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||Zu(t,"https"),N(t)),function Gc(n,e){const t=new as;if(Ot.Image){const r=new Image;r.onload=br(ma,t,r,"TestLoadImage: loaded",!0,e),r.onerror=br(ma,t,r,"TestLoadImage: error",!1,e),r.onabort=br(ma,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=br(ma,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else lr(2);n.G=0,n.l&&n.l.va(e),_a(n),Yl(n)}function _a(n){if(n.G=0,n.la=[],n.l){const e=Zl(n.h);(0!=e.length||0!=n.i.length)&&(zr(n.la,e),zr(n.la,n.i),n.h.i.length=0,La(n.i),n.i.length=0),n.l.ua()}}function fo(n,e,t){var r=t instanceof io?ks(t):new io(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Yn(r,r.m);else{var o=Ot.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new io(null,void 0);r&&Zu(u,r),e&&(u.g=e),o&&Yn(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&I(r,t,e),I(r,"VER",n.ma),jo(n,r),r}function Xl(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t&&n.Da&&!n.ra?new Fs({jb:!0}):n.ra)).Ka(n.H),e}function wa(){}function Ka(){if(Ts&&!(10<=Number(Ei)))throw Error("Environmental error: no available transport.")}function Di(n,e){Yt.call(this),this.g=new jr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!So(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!So(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ho(this)}function ih(n){to.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ec(){da.call(this),this.status=1}function Ho(n){this.g=n}(at=dn.prototype).Ka=function(n){this.L=n},at.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wu.g(),this.C=function Ps(n){return n.h||(n.h=n.i())}(this.u?this.u:wu),this.g.onreadystatechange=Un(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Ir(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ot.FormData&&n instanceof Ot.FormData,!(0<=ta(Bo,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eh(this),0<this.B&&((this.K=function tl(n){return Ts&&function mu(){return function Va(n){var e=Ua;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Cs(String(xr)).split("."),t=Cs("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Si(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Si(0==o[2].length,0==u[2].length)||Si(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.qa,this)):this.A=Ms(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Ir(this,u)}},at.qa=function(){void 0!==ai&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kt(this,"complete"),Kt(this,"abort"),Ls(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ls(this,!0)),dn.X.M.call(this)},at.Ha=function(){this.s||(this.F||this.v||this.l?Ql(this):this.fb())},at.fb=function(){Ql(this)},at.aa=function(){try{return 2<uo(this)?this.g.status:-1}catch(n){return-1}},at.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ya(e)}},at.Ea=function(){return this.m},at.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=jr.prototype).ma=8,at.G=1,at.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Ni(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Ys(u),No(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tu(this,o,e),I(t=ks(this.F),"RID",n),I(t,"CVER",22),this.D&&I(t,"X-HTTP-Session-Id",this.D),jo(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(nh(u)))+"&"+e:this.o&&Nr(t,this.o,u)),Uo(this.h,o),this.Ya&&I(t,"TYPE","init"),this.O?(I(t,"$req",e),I(t,"SID","null"),o.Z=!0,qu(o,t,null)):qu(o,t,e),this.G=2}}else 3==this.G&&(n?Ci(this,n):0==this.i.length||Yu(this.h)||Ci(this))},at.Ia=function(){if(this.u=null,il(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=eo(Un(this.eb,this),n)}},at.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,lr(10),co(this),il(this))},at.cb=function(){null!=this.v&&(this.v=null,co(this),rl(this),lr(19))},at.kb=function(n){n?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))},(at=wa.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Ra=function(){},Ka.prototype.g=function(n,e){return new Di(n,e)},ur(Di,Yt),Di.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;lr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=fo(n,null,n.V),nl(n)},Di.prototype.close=function(){lo(this.g)},Di.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ur(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&nl(e)},Di.prototype.M=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Di.X.M.call(this)},ur(ih,to),ur(ec,da),ur(Ho,wa),Ho.prototype.xa=function(){Kt(this.g,"a")},Ho.prototype.wa=function(n){Kt(this.g,new ih(n))},Ho.prototype.va=function(n){Kt(this.g,new ec(n))},Ho.prototype.ua=function(){Kt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Di.prototype.send=Di.prototype.u,Di.prototype.open=Di.prototype.m,Di.prototype.close=Di.prototype.close,Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,Ns.COMPLETE="complete",ca.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",Yt.prototype.listen=Yt.prototype.N,dn.prototype.listenOnce=dn.prototype.O,dn.prototype.getLastError=dn.prototype.Oa,dn.prototype.getLastErrorCode=dn.prototype.Ea,dn.prototype.getStatus=dn.prototype.aa,dn.prototype.getResponseJson=dn.prototype.Sa,dn.prototype.getResponseText=dn.prototype.fa,dn.prototype.send=dn.prototype.da,dn.prototype.setWithCredentials=dn.prototype.Ka;var tc=Lr.createWebChannelTransport=function(){return new Ka},Wi=Lr.getStatEventTarget=function(){return cs()},Ea=Lr.ErrorCode=Rs,Hf=Lr.EventType=Ns,Vs=Lr.Event=Mi,qi=Lr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Za=Lr.FetchXmlHttpFactory=Fs,Us=Lr.WebChannel=ca,sh=Lr.XhrIo=dn;const Wc="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let Qa="9.12.1";const Ki=new Xr.Yd("@firebase/firestore");function Ya(){return Ki.logLevel}function D(n,...e){if(Ki.logLevel<=Xr.in.DEBUG){const t=e.map(se);Ki.debug(`Firestore (${Qa}): ${n}`,...t)}}function P(n,...e){if(Ki.logLevel<=Xr.in.ERROR){const t=e.map(se);Ki.error(`Firestore (${Qa}): ${n}`,...t)}}function W(n,...e){if(Ki.logLevel<=Xr.in.WARN){const t=e.map(se);Ki.warn(`Firestore (${Qa}): ${n}`,...t)}}function se(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function te(n="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+n;throw P(e),new Error(e)}function Ie(n,e){n||te()}function Ue(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class di{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class Ja{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $o{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=x=>this.i!==o?(o=this.i,t(x)):Promise.resolve();let d=new gt;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new gt,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const x=d;e.enqueueRetryable((0,ke.Z)(function*(){yield x.promise,yield u(r.currentUser)}))},w=x=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>w(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?w(x):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new gt)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie("string"==typeof r.accessToken),new dr(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(null===e||"string"==typeof e),new Cr(e)}}class po{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ie(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nc{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new po(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,D("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie("string"==typeof t.token),this.A=t.token,new Xa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bs(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Su{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Bs(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function xu(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function qc(n){return n+"\0"}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Dr(0,0))}static max(){return new Vt(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rc{constructor(e,t,r){void 0===t?t=0:t>e.length&&te(),void 0===r?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends rc{construct(e,t,r){return new Rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const Kc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends rc{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return Kc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Rn.fromString(e))}static fromName(e){return new ut(Rn.fromString(e).popFirst(5))}static empty(){return new ut(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Rn(e.slice()))}}class Zc{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function oh(n){return n.fields.find(e=>2===e.kind)}function sl(n){return n.fields.filter(e=>2!==e.kind)}Zc.UNKNOWN_ID=-1;class al{constructor(e,t){this.fieldPath=e,this.kind=t}}class ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ul(0,Zi.min())}}function ah(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(1e9===r?new Dr(t+1,0):new Dr(t,r));return new Zi(o,ut.empty(),e)}function tu(n){return new Zi(n.readTime,n.key,-1)}class Zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zi(Vt.min(),ut.empty(),-1)}static max(){return new Zi(Vt.max(),ut.empty(),-1)}}function uh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const Gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nu(n){return ms.apply(this,arguments)}function ms(){return ms=(0,ke.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Gf)throw n;D("LocalStore","Unexpectedly lost primary lease")}),ms.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,r)=>{t(e)})}static reject(e){return new Ce((t,r)=>{r(e)})}static waitFor(e){return new Ce((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},w=>r(w))}),d=!0,u===o&&t()})}static or(e){let t=Ce.resolve(!1);for(const r of e)t=t.next(o=>o?Ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new Ce((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const x=w;t(e[x]).next(F=>{d[x]=F,++m,m===u&&r(d)},F=>o(F))}})}static doWhile(e,t){return new Ce((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Mu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new gt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ic(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=ch(r.target.error);this.P.reject(new ic(e,o))}}static open(e,t,r,o){try{return new Mu(t,e.transaction(o,r))}catch(u){throw new ic(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lm(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===go.D((0,Xt.z$)())&&P("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(go.N())return!0;const e=(0,Xt.z$)(),t=go.D(e),r=0<t&&t<10,o=go.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(D("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new ic(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Se(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ic(e,m))},u.onupgradeneeded=d=>{D("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{D("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ke.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const w=Mu.open(u.db,e,d?"readonly":"readwrite",r),x=o(w).next(F=>(w.V(),F)).catch(F=>(w.abort(F),Ce.reject(F))).toPromise();return x.catch(()=>{}),yield w.v,x}catch(w){const x=w,F="FirebaseError"!==x.name&&m<3;if(D("SimpleDb","Transaction failed with error:",x.message,"Retrying:",F),u.close(),!F)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wf{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ba(this.U.delete())}}class ic extends Se{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Go(n){return"IndexedDbTransactionError"===n.name}class lm{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(D("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),D("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Ce((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ce((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new Ce((r,o)=>{t.onerror=u=>{const d=ch(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new Ce((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new Wf(m),x=t(m.primaryKey,m.value,w);if(x instanceof Ce){const F=x.catch($=>(w.done(),Ce.reject($)));r.push(F)}w.isDone?o():null===w.G?m.continue():m.continue(w.G)}}).next(()=>Ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(n){return new Ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=ch(r.target.error);t(o)}})}let lh=!1;function ch(n){const e=go.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lh||(lh=!0,setTimeout(()=>{throw r},0)),r}}return n}class cm{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{D("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Go(r)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield nu(r)}yield t.nt(6e4)}))}}class dm{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return Ce.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return D("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(D("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=tu(u);uh(d,r)>0&&(r=d)}),new Zi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ys{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function qf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ys.at=-1;class Gn{constructor(e,t){this.comparator=e,this.root=t||p.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,p.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,p.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v(this.root,e,this.comparator,!1)}getReverseIterator(){return new v(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v(this.root,e,this.comparator,!0)}}class v{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class p{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:p.RED,this.left=null!=o?o:p.EMPTY,this.right=null!=u?u:p.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new p(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return p.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return p.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}p.EMPTY=null,p.RED=!0,p.BLACK=!1,p.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(n,e,t,r,o){return this}insert(n,e,t){return new p(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class g{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E(this.data.getIterator())}getIteratorFrom(e){return new E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof g)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new g(this.comparator);return t.data=e,t}}class E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function O(n){return n.hasNext()?n.getNext():void 0}class H{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new H([])}unionWith(e){let t=new g(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new H(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Le{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Le(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Le(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Le.EMPTY_BYTE_STRING=new Le("");const wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ct(n){if(Ie(!!n),"string"==typeof n){let e=0;const t=wt.exec(n);if(Ie(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zn(n){return"string"==typeof n?Le.fromBase64String(n):Le.fromUint8Array(n)}function vs(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ia(n){const e=n.mapValue.fields.__previous_value__;return vs(e)?Ia(e):e}function ru(n){const e=Ct(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class Kf{constructor(e,t,r,o,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class zo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}function Ru(n){return null==n}function Ca(n){return 0===n&&1/n==-1/0}function sc(n){return"number"==typeof n&&Number.isInteger(n)&&!Ca(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oc={nullValue:"NULL_VALUE"};function Wn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vs(n)?4:Qf(n)?9007199254740991:10:te()}function Hs(n,e){if(n===e)return!0;const t=Wn(n);if(t!==Wn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ru(n).isEqual(ru(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ct(r.timestampValue),d=Ct(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,zn(n.bytesValue).isEqual(zn(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Mt(r.geoPointValue.latitude)===Mt(o.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Mt(r.integerValue)===Mt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Mt(r.doubleValue),d=Mt(o.doubleValue);return u===d?Ca(u)===Ca(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return xu(n.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(qf(u)!==qf(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Hs(u[m],d[m])))return!1;return!0}(n,e);default:return te()}var o}function ll(n,e){return void 0!==(n.values||[]).find(t=>Hs(t,e))}function $s(n,e){if(n===e)return 0;const t=Wn(n),r=Wn(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Mt(o.integerValue||o.doubleValue),m=Mt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Qc(n.timestampValue,e.timestampValue);case 4:return Qc(ru(n),ru(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(o,u){const d=zn(o),m=zn(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const x=en(d[w],m[w]);if(0!==x)return x}return en(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=en(Mt(o.latitude),Mt(u.latitude));return 0!==d?d:en(Mt(o.longitude),Mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const x=$s(d[w],m[w]);if(x)return x}return en(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===mo.mapValue&&u===mo.mapValue)return 0;if(o===mo.mapValue)return 1;if(u===mo.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=u.fields||{},x=Object.keys(w);m.sort(),x.sort();for(let F=0;F<m.length&&F<x.length;++F){const $=en(m[F],x[F]);if(0!==$)return $;const ie=$s(d[m[F]],w[x[F]]);if(0!==ie)return ie}return en(m.length,x.length)}(n.mapValue,e.mapValue);default:throw te()}}function Qc(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=Ct(n),r=Ct(e),o=en(t.seconds,r.seconds);return 0!==o?o:en(t.nanos,r.nanos)}function ac(n){return Zf(n)}function Zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ct(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zn(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Zf(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${Zf(r.fields[m])}`;return u+"}"}(n.mapValue):te();var e}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hm(n){return!!n&&"integerValue"in n}function Yc(n){return!!n&&"arrayValue"in n}function Cb(n){return!!n&&"nullValue"in n}function Db(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dl(n){return!!n&&"mapValue"in n}function ii(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ii(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ii(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qf(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function U_(n){return"nullValue"in n?oc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cl(zo.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:te()}function B_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cl(zo.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mo:te()}function Pi(n,e){const t=$s(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Jc(n,e){const t=$s(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ii(t)}setAll(e){let t=hr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=ii(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];dl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){js(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new hi(ii(this.value))}}function j_(n){const e=[];return js(n.fields,(t,r)=>{const o=new hr([t]);if(dl(r)){const u=j_(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new H(e)}class fr{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new fr(e,0,Vt.min(),Vt.min(),hi.empty(),0)}static newFoundDocument(e,t,r){return new fr(e,1,t,Vt.min(),r,0)}static newNoDocument(e,t){return new fr(e,2,t,Vt.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new fr(e,3,t,Vt.min(),hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class H_{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function $_(n,e=null,t=[],r=[],o=null,u=null,d=null){return new H_(n,e,t,r,o,u,d)}function hl(n){const e=Ue(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ac(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ru(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ac(r)).join(",")),e.ht=t}return e.ht}function Xc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Rb(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Hs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!K_(n.startAt,e.startAt)&&K_(n.endAt,e.endAt)}function Yf(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Jf(n,e){return n.filters.filter(t=>t instanceof Oi&&t.field.isEqual(e))}function Xf(n,e,t){let r=oc,o=!0;for(const u of Jf(n,e)){let d=oc,m=!0;switch(u.op){case"<":case"<=":d=U_(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=oc}Pi({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Pi({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function G_(n,e,t){let r=mo,o=!0;for(const u of Jf(n,e)){let d=mo,m=!0;switch(u.op){case">=":case">":d=B_(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=mo}Jc({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Jc({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new fm(e,t,r):"array-contains"===t?new z_(e,r):"in"===t?new W_(e,r):"not-in"===t?new xb(e,r):"array-contains-any"===t?new Mb(e,r):new Oi(e,t,r)}static lt(e,t,r){return"in"===t?new Ab(e,r):new Sb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft($s(t,this.value)):null!==t&&Wn(this.value)===Wn(t)&&this.ft($s(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return te()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fm extends Oi{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.ft(t)}}class Ab extends Oi{constructor(e,t){super(e,"in",t),this.keys=hh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sb extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=hh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hh(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class z_ extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yc(t)&&ll(t.arrayValue,this.value)}}class W_ extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ll(this.value.arrayValue,t)}}class xb extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ll(this.value.arrayValue,t)}}class Mb extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}class fl{constructor(e,t){this.position=e,this.inclusive=t}}class uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function q_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?ut.comparator(ut.fromName(d.referenceValue),t.key):$s(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function K_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hs(n.position[t],e.position[t]))return!1;return!0}class Nu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this._t=null,this.wt=null}}function Z_(n,e,t,r,o,u,d,m){return new Nu(n,e,t,r,o,u,d,m)}function lc(n){return new Nu(n)}function pm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ep(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pl(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Wo(n){return null!==n.collectionGroup}function fh(n){const e=Ue(n);if(null===e._t){e._t=[];const t=pl(e),r=ep(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new uc(t)),e._t.push(new uc(hr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new uc(hr.keyField(),u))}}}return e._t}function Gs(n){const e=Ue(n);if(!e.wt)if("F"===e.limitType)e.wt=$_(e.path,e.collectionGroup,fh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of fh(e))t.push(new uc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new fl(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fl(e.startAt.position,e.startAt.inclusive):null;e.wt=$_(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function ph(n,e,t){return new Nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return Xc(Gs(n),Gs(e))&&n.limitType===e.limitType}function Da(n){return`${hl(Gs(n))}|lt:${n.limitType}`}function gh(n){return`Query(target=${function Tb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ac(r.value)}`;var r}).join(", ")}]`),Ru(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ac(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ac(t)).join(",")),`Target(${e})`}(Gs(n))}; limitType=${n.limitType})`}function mh(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ut.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=q_(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,fh(t),r)||t.endAt&&!function(o,u,d){const m=q_(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,fh(t),r)));var t,r}function Q_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gm(n){return(e,t)=>{let r=!1;for(const o of fh(n)){const u=yh(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function yh(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),w=d.data.field(o);return null!==m&&null!==w?$s(m,w):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}function mm(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(e)?"-0":e}}function ym(n){return{integerValue:""+n}}function np(n,e){return sc(e)?ym(e):mm(n,e)}class ed{constructor(){this._=void 0}}function Y_(n,e,t){return n instanceof gl?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ml?J_(n,e):n instanceof Pu?X_(n,e):function(r,o){const u=cc(r,o),d=ew(u)+ew(r.yt);return hm(u)&&hm(r.yt)?ym(d):mm(r.It,d)}(n,e)}function mD(n,e,t){return n instanceof ml?J_(n,e):n instanceof Pu?X_(n,e):t}function cc(n,e){return n instanceof td?hm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gl extends ed{}class ml extends ed{constructor(e){super(),this.elements=e}}function J_(n,e){const t=tw(e);for(const r of n.elements)t.some(o=>Hs(o,r))||t.push(r);return{arrayValue:{values:t}}}class Pu extends ed{constructor(e){super(),this.elements=e}}function X_(n,e){let t=tw(e);for(const r of n.elements)t=t.filter(o=>!Hs(o,r));return{arrayValue:{values:t}}}class td extends ed{constructor(e,t){super(),this.It=e,this.yt=t}}function ew(n){return Mt(n.integerValue||n.doubleValue)}function tw(n){return Yc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vh{constructor(e,t){this.field=e,this.transform=t}}class nw{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nd{}function rw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new hc(n.key,pr.none()):new dc(n.key,n.data,pr.none());{const t=n.data,r=hi.empty();let o=new g(hr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new iu(n.key,r,new H(o.toArray()),pr.none())}}function Pb(n,e,t){n instanceof dc?function(r,o,u){const d=r.value.clone(),m=wh(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof iu?function(r,o,u){if(!_h(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=wh(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(sw(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rd(n,e,t,r){return n instanceof dc?function(o,u,d,m){if(!_h(o.precondition,u))return d;const w=o.value.clone(),x=ow(o.fieldTransforms,m,u);return w.setAll(x),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof iu?function(o,u,d,m){if(!_h(o.precondition,u))return d;const w=ow(o.fieldTransforms,m,u),x=u.data;return x.setAll(sw(o)),x.setAll(w),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(F=>F.field))}(n,e,t,r):(d=t,_h(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function iw(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=cc(r.transform,o||null);null!=u&&(null===t&&(t=hi.empty()),t.set(r.field,u))}return t||null}function yl(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xu(t,r,(o,u)=>function Nb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ml&&r instanceof ml||t instanceof Pu&&r instanceof Pu?xu(t.elements,r.elements,Hs):t instanceof td&&r instanceof td?Hs(t.yt,r.yt):t instanceof gl&&r instanceof gl);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class dc extends nd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class iu extends nd{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wh(n,e,t){const r=new Map;Ie(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,mD(d,m,t[o]))}return r}function ow(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,Y_(u,d,e))}return r}class hc extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rp extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aw{constructor(e){this.count=e}}var Zr,On;function Eh(n){switch(n){default:return te();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function bh(n){if(void 0===n)return P("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Zr.OK:return oe.OK;case Zr.CANCELLED:return oe.CANCELLED;case Zr.UNKNOWN:return oe.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return oe.INTERNAL;case Zr.UNAVAILABLE:return oe.UNAVAILABLE;case Zr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Zr.NOT_FOUND:return oe.NOT_FOUND;case Zr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Zr.ABORTED:return oe.ABORTED;case Zr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Zr.DATA_LOSS:return oe.DATA_LOSS;default:return te()}}(On=Zr||(Zr={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";class Ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return dh(this.inner)}size(){return this.innerSize}}const vm=new Gn(ut.comparator);function _s(){return vm}const ip=new Gn(ut.comparator);function ku(...n){let e=ip;for(const t of n)e=e.insert(t.key,t);return e}function uw(n){let e=ip;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ta(){return Ih()}function lw(){return Ih()}function Ih(){return new Ou(n=>n.toString(),(n,e)=>n.isEqual(e))}const cw=new Gn(ut.comparator),_m=new g(ut.comparator);function ln(...n){let e=_m;for(const t of n)e=e.add(t);return e}const yD=new g(en);function Ch(){return yD}class Dh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dh(Vt.min(),o,Ch(),_s(),ln())}}class id{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new id(r,t,ln(),ln(),ln())}}class sp{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class dw{constructor(e,t){this.targetId=e,this.At=t}}class qo{constructor(e,t,r=Le.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class hw{constructor(){this.Rt=0,this.bt=gw(),this.Pt=Le.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ln(),t=ln(),r=ln();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:te()}}),new id(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=gw()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fw{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=_s(),this.qt=pw(),this.Kt=new g(en)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(Yf(u))if(0===r){const d=new ut(u.path);this.jt(t,d,fr.newNoDocument(d,Vt.min()))}else Ie(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Yf(m.target)){const w=new ut(m.target.path);null!==this.Ut.get(w)||this.ee(d,w)||this.jt(d,w,fr.newNoDocument(w,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=ln();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const x=this.Xt(w);return!x||2===x.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new Dh(e,t,this.Kt,this.Ut,r);return this.Ut=_s(),this.qt=pw(),this.Kt=new g(en),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new hw,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new g(en),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||D("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new hw),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function pw(){return new Gn(ut.comparator)}function gw(){return new Gn(ut.comparator)}const Ob={asc:"ASCENDING",desc:"DESCENDING"},kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mw{constructor(e,t){this.databaseId=e,this.gt=t}}function Th(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Fb(n,e){return Th(n,e.toTimestamp())}function Rt(n){return Ie(!!n),Vt.fromTimestamp(function(e){const t=Ct(e);return new Dr(t.seconds,t.nanos)}(n))}function op(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wm(n){const e=Rn.fromString(n);return Ie(ww(e)),e}function sd(n,e){return op(n.databaseId,e.path)}function yo(n,e){const t=wm(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(ap(t))}function vo(n,e){return op(n.databaseId,e)}function Em(n){const e=wm(n);return 4===e.length?Rn.emptyPath():ap(e)}function Ah(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ap(n){return Ie(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function su(n,e,t){return{name:sd(n,e),fields:t.value.mapValue.fields}}function up(n,e,t){const r=yo(n,e.name),o=Rt(e.updateTime),u=new hi({mapValue:{fields:e.fields}}),d=fr.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function lp(n,e){let t;if(e instanceof dc)t={update:su(n,e.key,e.value)};else if(e instanceof hc)t={delete:sd(n,e.key)};else if(e instanceof iu)t={update:su(n,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof rp))return te();t={verify:sd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof gl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Fb(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:te()),t;var o}function cp(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?pr.updateTime(Rt(o.updateTime)):void 0!==o.exists?pr.exists(o.exists):pr.none():pr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Ie("REQUEST_TIME"===d.setToServerValue),m=new gl):"appendMissingElements"in d?m=new ml(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Pu(d.removeAllFromArray.values||[]):"increment"in d?m=new td(u,d.increment):te();const w=hr.fromServerFormat(d.fieldPath);return new vh(w,m)}(n,o)):[];var o;if(e.update){const o=yo(n,e.update.name),u=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new H((e.updateMask.fieldPaths||[]).map(x=>hr.fromServerFormat(x)));return new iu(o,u,d,t,r)}return new dc(o,u,t,r)}if(e.delete){const o=yo(n,e.delete);return new hc(o,t)}if(e.verify){const o=yo(n,e.verify);return new rp(o,t)}return te()}function Sh(n,e){return{documents:[vo(n,e.path)]}}function od(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vo(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vo(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const x=w.map(F=>function($){if("=="===$.op){if(Db($.value))return{unaryFilter:{field:ad($.field),op:"IS_NAN"}};if(Cb($.value))return{unaryFilter:{field:ad($.field),op:"IS_NULL"}}}else if("!="===$.op){if(Db($.value))return{unaryFilter:{field:ad($.field),op:"IS_NOT_NAN"}};if(Cb($.value))return{unaryFilter:{field:ad($.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad($.field),op:Lb($.op),value:$.value}}}(F));return 1===x.length?x[0]:{compositeFilter:{op:"AND",filters:x}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(x=>{return{field:ad((F=x).field),direction:_D(F.dir)};var F})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(x=e.limit,n.gt||Ru(x)?x:{value:x});var x,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function dp(n){let e=Em(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ie(1===r);const F=t.from[0];F.allDescendants?o=F.collectionId:e=e.child(F.collectionId)}let u=[];t.where&&(u=hp(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(F=>{return new uc(ud(($=F).field),function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction));var $}));let m=null;t.limit&&(m=function(F){let $;return $="object"==typeof F?F.value:F,Ru($)?null:$}(t.limit));let w=null;var F;t.startAt&&(w=new fl((F=t.startAt).values||[],!!F.before));let x=null;return t.endAt&&(x=function(F){return new fl(F.values||[],!F.before)}(t.endAt)),Z_(e,o,d,u,m,"F",w,x)}function hp(n){return n?void 0!==n.unaryFilter?[_w(n)]:void 0!==n.fieldFilter?[Vb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>hp(e)).reduce((e,t)=>e.concat(t)):te():[]}function _D(n){return Ob[n]}function Lb(n){return kb[n]}function ad(n){return{fieldPath:n.canonicalString()}}function ud(n){return hr.fromServerFormat(n.fieldPath)}function Vb(n){return Oi.create(ud(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}function _w(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ud(n.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ud(n.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ud(n.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ud(n.unaryFilter.field);return Oi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}function wD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ww(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Cm(e)),e=Ew(n.get(t),e);return Cm(e)}function Ew(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Cm(n){return n+"\x01\x01"}function ou(n){const e=n.length;if(Ie(e>=2),2===e)return Ie("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&te(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:te()}u=d+2}return new Rn(r)}const fp=["userId","batchId"];function Dm(n,e){return[n,zs(e)]}function Ub(n,e,t){return[n,zs(e),t]}const ED={},bD=["prefixPath","collectionGroup","readTime","documentId"],ID=["prefixPath","collectionGroup","documentId"],CD=["collectionGroup","readTime","prefixPath","documentId"],DD=["canonicalId","targetId"],TD=["targetId","path"],AD=["path","targetId"],SD=["collectionId","parent"],vl=["indexId","uid"],Tm=["uid","sequenceNumber"],Bb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bw=["indexId","uid","orderedDocumentKey"],Am=["userId","collectionPath","documentId"],Iw=["userId","collectionPath","largestBatchId"],Sm=["userId","collectionGroup","largestBatchId"],Cw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_l=[...Cw,"documentOverlays"],xm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dw=xm,Mm=[...Dw,"indexConfiguration","indexState","indexEntries"];class Rm extends zf{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function fi(n,e){const t=Ue(n);return go.M(t.ie,e)}class Nm{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Pb(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lw();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const w=rw(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(t,r)=>yl(t,r))&&xu(this.baseMutations,e.baseMutations,(t,r)=>yl(t,r))}}class Pm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ie(e.mutations.length===r.length);let o=cw;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Pm(e,t,r,o)}}class fc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _o{constructor(e,t,r,o,u=Vt.min(),d=Vt.min(),m=Le.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pp{constructor(e){this.re=e}}function cd(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:sd(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Th(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pc(e.version)};else{if(!e.isUnknownDocument())return te();r.unknownDocument={path:t.path.toArray(),version:pc(e.version)}}var o,u;return r}function Fu(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(n){const e=new Dr(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function El(n,e){const t=(e.baseMutations||[]).map(u=>cp(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>cp(n.re,u)),o=Dr.fromMillis(e.localWriteTimeMs);return new Nm(e.batchId,o,t,r)}function gc(n){const e=wl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wl(n.lastLimboFreeSnapshotVersion):Vt.min();let r;var o;return void 0!==n.query.documents?(Ie(1===(o=n.query).documents.length),r=Gs(lc(Em(o.documents[0])))):r=Gs(dp(n.query)),new _o(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Le.fromBase64String(n.resumeToken))}function gp(n,e){const t=pc(e.snapshotVersion),r=pc(e.lastLimboFreeSnapshotVersion);let o;o=Yf(e.target)?Sh(n.re,e.target):od(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function mp(n){const e=dp({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ph(e,e.limit,"L"):e}function dd(n,e){return new fc(e.largestBatchId,cp(n.re,e.overlayMutation))}function Tw(n,e){const t=e.path.lastSegment();return[n,zs(e.path.popLast()),t]}function Om(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:pc(r.readTime),documentKey:zs(r.documentKey.path),largestBatchId:r.largestBatchId}}class xD{getBundleMetadata(e,t){return km(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:wl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return km(e).put({bundleId:(r=t).id,createTime:pc(Rt(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Fm(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:mp(o.bundledQuery),readTime:wl(o.readTime)};var o})}saveNamedQuery(e,t){return Fm(e).put({name:(r=t).name,readTime:pc(Rt(r.readTime)),bundledQuery:r.bundledQuery});var r}}function km(n){return fi(n,"bundles")}function Fm(n){return fi(n,"namedQueries")}class yp{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new yp(e,t.uid||"")}getOverlay(e,t){return hd(e).get(Tw(this.userId,t)).next(r=>r?dd(this.It,r):null)}getOverlays(e,t){const r=Ta();return Ce.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new fc(t,d);o.push(this.ue(e,m))}),Ce.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(zs(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(hd(e).Y("collectionPathOverlayIndex",m))}),Ce.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ta(),u=zs(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const x=dd(this.It,w);o.set(x.getKey(),x)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Ta();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).Z({index:"collectionGroupOverlayIndex",range:m},(w,x,F)=>{const $=dd(this.It,x);u.size()<o||$.largestBatchId===d?(u.set($.getKey(),$),d=$.largestBatchId):F.done()}).next(()=>u)}ue(e,t){return hd(e).put(function(r,o,u){const[d,m,w]=Tw(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:lp(r.re,u.mutation)}}(this.It,this.userId,t))}}function hd(n){return fi(n,"documentOverlays")}class mc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Mt(e.integerValue));else if("doubleValue"in e){const r=Mt(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Ca(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(zn(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Qf(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):te()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),ut.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function jb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Ws(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=jb(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mc.Te=new mc;class Hb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=Ws(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=Ws(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class $b{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class MD{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class vp{constructor(){this.Be=new Hb,this.Le=new $b(this.Be),this.Ue=new MD(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class bl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new bl(this.indexId,this.documentKey,this.arrayValue,r)}}function fd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Aw(n.arrayValue,e.arrayValue),0!==t?t:(t=Aw(n.directionalValue,e.directionalValue),0!==t?t:ut.comparator(n.documentKey,e.documentKey)))}function Aw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Lm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=oh(e);if(void 0!==t&&!this.ze(t))return!1;const r=sl(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Sw{constructor(){this.Ye=new Vm}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Zi.min())}updateCollectionGroup(e,t,r){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Vm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new g(Rn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new g(Rn.comparator)).toArray()}}const _p=new Uint8Array(0);class Gb{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Vm,this.Ze=new Ou(r=>hl(r),(r,o)=>Xc(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:zs(o)};return Um(e).put(u)}return Ce.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[qc(t),""],!1,!0);return Um(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(ou(d.parent))}return r})}addFieldIndex(e,t){const r=Mh(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=Rh(e);return u.next(m=>{d.put(Om(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Mh(e),o=Rh(e),u=xh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=xh(e);let o=!0;const u=new Map;return Ce.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=ln();const m=[];return Ce.forEach(u,(w,x)=>{var F;D("IndexedDbIndexManager",`Using index ${F=w,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Cn=>`${Cn.fieldPath}:${Cn.kind}`).join(",")}`} to execute ${hl(t)}`);const $=function(Cn,En){const pn=oh(En);if(void 0===pn)return null;for(const Dn of Jf(Cn,pn.fieldPath))switch(Dn.op){case"array-contains-any":return Dn.value.arrayValue.values||[];case"array-contains":return[Dn.value]}return null}(x,w),ie=function(Cn,En){const pn=new Map;for(const Dn of sl(En))for(const Vi of Jf(Cn,Dn.fieldPath))switch(Vi.op){case"==":case"in":pn.set(Dn.fieldPath.canonicalString(),Vi.value);break;case"not-in":case"!=":return pn.set(Dn.fieldPath.canonicalString(),Vi.value),Array.from(pn.values())}return null}(x,w),ve=function(Cn,En){const pn=[];let Dn=!0;for(const Vi of sl(En)){const V_=0===Vi.kind?Xf(Cn,Vi.fieldPath,Cn.startAt):G_(Cn,Vi.fieldPath,Cn.startAt);pn.push(V_.value),Dn&&(Dn=V_.inclusive)}return new fl(pn,Dn)}(x,w),je=function(Cn,En){const pn=[];let Dn=!0;for(const Vi of sl(En)){const V_=0===Vi.kind?G_(Cn,Vi.fieldPath,Cn.endAt):Xf(Cn,Vi.fieldPath,Cn.endAt);pn.push(V_.value),Dn&&(Dn=V_.inclusive)}return new fl(pn,Dn)}(x,w),ot=this.nn(w,x,ve),_t=this.nn(w,x,je),wn=this.sn(w,x,ie),kn=this.rn(w.indexId,$,ot,ve.inclusive,_t,je.inclusive,wn);return Ce.forEach(kn,Cn=>r.J(Cn,t.limit).next(En=>{En.forEach(pn=>{const Dn=ut.fromSegments(pn.documentKey);d.has(Dn)||(d=d.add(Dn),m.push(Dn))})}))}).next(()=>m)}return Ce.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),x=w/(null!=t?t.length:1),F=[];for(let $=0;$<w;++$){const ie=t?this.on(t[$/x]):_p,ve=this.un(e,ie,r[$%x],o),je=this.cn(e,ie,u[$%x],d),ot=m.map(_t=>this.un(e,ie,_t,!0));F.push(...this.createRange(ve,je,ot))}return F}un(e,t,r,o){const u=new bl(e,ut.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new bl(e,ut.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new Lm(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return Ce.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new g(hr.comparator),w=!1;for(const x of d.filters){const F=x;F.field.isKeyField()||("array-contains"===F.op||"array-contains-any"===F.op?w=!0:m=m.add(F.field))}for(const x of d.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new vp;for(const o of sl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);mc.Te.ce(u,d)}return r.$e()}on(e){const t=new vp;return mc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new vp;return mc.Te.ce(cl(this.databaseId,t),r.qe(function(o){const u=sl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new vp);let u=0;for(const d of sl(e)){const m=r[u++];for(const w of o)if(this.ln(t,d.fieldPath)&&Yc(m))o=this.fn(o,d,m);else{const x=w.qe(d.kind);mc.Te.ce(m,x)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new vp;w.seed(m.$e()),mc.Te.ce(d,w.qe(t.kind)),u.push(w)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mh(e),o=Rh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return Ce.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(x,F){const $=F?new ul(F.sequenceNumber,new Zi(wl(F.readTime),new ut(ou(F.documentKey)),F.largestBatchId)):ul.empty(),ie=x.fields.map(([ve,je])=>new al(hr.fromServerFormat(ve),je));return new Zc(x.indexId,x.collectionGroup,ie,$)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:en(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Mh(e),u=Rh(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ce.forEach(m,w=>u.put(Om(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Ce.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?Ce.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ce.forEach(m,w=>this.wn(e,o,w).next(x=>{const F=this.mn(u,w);return x.isEqual(F)?Ce.resolve():this.gn(e,u,w,x,F)}))))})}yn(e,t,r,o){return xh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return xh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=xh(e);let u=new g(fd);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new bl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new g(fd);const o=this.an(t,e);if(null==o)return r;const u=oh(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Yc(d))for(const m of d.arrayValue.values||[])r=r.add(new bl(t.indexId,e.key,this.on(m),o))}else r=r.add(new bl(t.indexId,e.key,_p,o));return r}gn(e,t,r,o,u){D("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,x,F,$){const ie=m.getIterator(),ve=w.getIterator();let je=O(ie),ot=O(ve);for(;je||ot;){let _t=!1,wn=!1;if(je&&ot){const kn=x(je,ot);kn<0?wn=!0:kn>0&&(_t=!0)}else null!=je?wn=!0:_t=!0;_t?(F(ot),ot=O(ve)):wn?($(je),je=O(ie)):(je=O(ie),ot=O(ve))}}(o,u,fd,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),Ce.waitFor(d)}_n(e){let t=1;return Rh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>fd(d,m)).filter((d,m,w)=>!m||0!==fd(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=fd(d,e),w=fd(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&w<0)o.push(d),o.push(d.Ke());else if(w>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,_p,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,_p,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xw)}getMinOffset(e,t){return Ce.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||te())).next(xw)}}function Um(n){return fi(n,"collectionParents")}function xh(n){return fi(n,"indexEntries")}function Mh(n){return fi(n,"indexConfiguration")}function Rh(n){return fi(n,"indexState")}function xw(n){Ie(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;uh(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Zi(e.readTime,e.documentKey,t)}const Bm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mw(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Z({range:d},(F,$,ie)=>(m++,ie.delete()));u.push(w.next(()=>{Ie(1===m)}));const x=[];for(const F of t.mutations){const $=Ub(e,F.key.path,t.batchId);u.push(o.delete($)),x.push(F.key)}return Ce.waitFor(u).next(()=>x)}function wo(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw te();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class pd{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){Ie(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new pd(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Nh(e),d=Il(e);return d.add({}).next(m=>{Ie("number"==typeof m);const w=new Nm(m,t,r,o),x=function(ie,ve,je){const ot=je.baseMutations.map(wn=>lp(ie.re,wn)),_t=je.mutations.map(wn=>lp(ie.re,wn));return{userId:ve,batchId:je.batchId,localWriteTimeMs:je.localWriteTime.toMillis(),baseMutations:ot,mutations:_t}}(this.It,this.userId,w),F=[];let $=new g((ie,ve)=>en(ie.canonicalString(),ve.canonicalString()));for(const ie of o){const ve=Ub(this.userId,ie.key.path,m);$=$.add(ie.key.path.popLast()),F.push(d.put(x)),F.push(u.put(ve,ED))}return $.forEach(ie=>{F.push(this.indexManager.addToCollectionParentIndex(e,ie))}),e.addOnCommittedListener(()=>{this.In[m]=w.keys()}),Ce.waitFor(F).next(()=>w)})}lookupMutationBatch(e,t){return Il(e).get(t).next(r=>r?(Ie(r.userId===this.userId),El(this.It,r)):null)}Tn(e,t){return this.In[t]?Ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Il(e).Z({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(Ie(m.batchId>=r),u=El(this.It,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Il(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).W("userMutationsIndex",t).next(r=>r.map(o=>El(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Dm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Nh(e).Z({range:o},(d,m,w)=>{const[x,F,$]=d,ie=ou(F);if(x===this.userId&&t.path.isEqual(ie))return Il(e).get($).next(ve=>{if(!ve)throw te();Ie(ve.userId===this.userId),u.push(El(this.It,ve))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new g(en);const o=[];return t.forEach(u=>{const d=Dm(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=Nh(e).Z({range:m},(x,F,$)=>{const[ie,ve,je]=x,ot=ou(ve);ie===this.userId&&u.path.isEqual(ot)?r=r.add(je):$.done()});o.push(w)}),Ce.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Dm(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new g(en);return Nh(e).Z({range:d},(w,x,F)=>{const[$,ie,ve]=w,je=ou(ie);$===this.userId&&r.isPrefixOf(je)?je.length===o&&(m=m.add(ve)):F.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Il(e).get(u).next(d=>{if(null===d)throw te();Ie(d.userId===this.userId),r.push(El(this.It,d))}))}),Ce.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Mw(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ce.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Nh(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=ou(u[1]);o.push(w)}else m.done()}).next(()=>{Ie(0===o.length)})})}containsKey(e,t){return Rw(e,this.userId,t)}Rn(e){return jm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rw(n,e,t){const r=Dm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Nh(n).Z({range:u,X:!0},(m,w,x)=>{const[F,$,ie]=m;F===e&&$===o&&(d=!0),x.done()}).next(()=>d)}function Il(n){return fi(n,"mutations")}function Nh(n){return fi(n,"documentMutations")}function jm(n){return fi(n,"mutationQueues")}class yc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new yc(0)}static vn(){return new yc(-1)}}class zb{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new yc(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Vt.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return gd(e).Z((d,m)=>{const w=gc(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>Ce.waitFor(u)).next(()=>o)}forEachTarget(e,t){return gd(e).Z((r,o)=>{const u=gc(o);t(u)})}Vn(e){return wp(e).get("targetGlobalKey").next(t=>(Ie(null!==t),t))}Sn(e,t){return wp(e).put("targetGlobalKey",t)}Dn(e,t){return gd(e).put(gp(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return gd(e).Z({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const x=gc(m);Xc(t,x.target)&&(u=x,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Cl(e);return t.forEach(d=>{const m=zs(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),Ce.waitFor(o)}removeMatchingKeys(e,t,r){const o=Cl(e);return Ce.forEach(t,u=>{const d=zs(u.path);return Ce.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Cl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Cl(e);let u=ln();return o.Z({range:r,X:!0},(d,m,w)=>{const x=ou(d[1]),F=new ut(x);u=u.add(F)}).next(()=>u)}containsKey(e,t){const r=zs(t.path),o=IDBKeyRange.bound([r],[qc(r)],!1,!0);let u=0;return Cl(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],w,x)=>{0!==d&&(u++,x.done())}).next(()=>u>0)}se(e,t){return gd(e).get(t).next(r=>r?gc(r):null)}}function gd(n){return fi(n,"targets")}function wp(n){return fi(n,"targetGlobal")}function Cl(n){return fi(n,"targetDocuments")}function Nw([n,e],[t,r]){const o=en(n,t);return 0===o?en(e,r):o}class Ep{constructor(e){this.xn=e,this.buffer=new g(Nw),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hm{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Go(r)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield nu(r)}yield t.Fn(3e5)}))}}class Wb{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(ys.at);const r=new Ep(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Bm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bm):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,w,x;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next($=>($>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$}`),o=this.params.maximumSequenceNumbersToCollect):o=$,d=Date.now(),this.nthSequenceNumber(e,o))).next($=>(r=$,m=Date.now(),this.removeTargets(e,r,t))).next($=>(u=$,w=Date.now(),this.removeOrphanedDocuments(e,r))).next($=>(x=Date.now(),Ya()<=Xr.in.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-F}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${$} documents in `+(x-w)+`ms\nTotal Duration: ${x-F}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:$})))}}class $m{constructor(e,t){this.db=e,this.garbageCollector=new Wb(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return md(e,r)}removeReference(e,t,r){return md(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return md(e,t)}Gn(e,t){return function(r,o){let u=!1;return jm(r).tt(d=>Rw(r,d,o).next(m=>(m&&(u=!0),Ce.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const w=this.Gn(e,d).next(x=>{if(!x)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Vt.min()),Cl(e).delete([0,zs(d.path)])))});o.push(w)}}).next(()=>Ce.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return md(e,t)}Kn(e,t){const r=Cl(e);let o,u=ys.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:x})=>{0===d?(u!==ys.at&&t(new ut(ou(o)),u),u=x,o=w):u=ys.at}).next(()=>{u!==ys.at&&t(new ut(ou(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function md(n,e){return Cl(n).put((r=n.currentSequenceNumber,{targetId:0,path:zs(e.path),sequenceNumber:r}));var r}class Gm{constructor(){this.changes=new Ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qb{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return vc(e).put(r)}removeEntry(e,t,r){return vc(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Fu(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=fr.newInvalidDocument(t);return vc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yd(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:fr.newInvalidDocument(t)};return vc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yd(t))},(o,u)=>{r={document:this.jn(t,u),size:wo(u)}}).next(()=>r)}getEntries(e,t){let r=_s();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=_s(),o=new Gn(ut.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,wo(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return Ce.resolve();let o=new g(qm);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(yd(o.first()),yd(o.last())),d=o.getIterator();let m=d.getNext();return vc(e).Z({index:"documentKeyIndex",range:u},(w,x,F)=>{const $=ut.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&qm(m,$)<0;)r(m,null),m=d.getNext();m&&m.isEqual($)&&(r(m,x),m=d.hasNext()?d.getNext():null),m?F.j(yd(m)):F.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Fu(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vc(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=_s();for(const w of d){const x=this.jn(ut.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(x.key,x)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=_s();const d=Wm(t,r),m=Wm(t,Zi.max());return vc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,x,F)=>{const $=this.jn(ut.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);u=u.insert($.key,$),u.size===o&&F.done()}).next(()=>u)}newChangeBuffer(e){return new zm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kb(e).get("remoteDocumentGlobalKey").next(t=>(Ie(!!t),t))}Qn(e,t){return Kb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ld(n,e){let t;if(e.document)t=up(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ut.fromSegments(e.noDocument.path),o=wl(e.noDocument.readTime);t=fr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return te();{const r=ut.fromSegments(e.unknownDocument.path),o=wl(e.unknownDocument.version);t=fr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Dr(r[0],r[1]);return Vt.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Vt.min()))return r}return fr.newInvalidDocument(e)}}function Pw(n){return new qb(n)}class zm extends Gm{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ou(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new g((u,d)=>en(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=cd(this.Yn.It,d);o=o.add(u.path.popLast()),r+=wo(w)-m.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=cd(this.Yn.It,d.convertToNoDocument(Vt.min()));t.push(this.Yn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Kb(n){return fi(n,"remoteDocumentGlobal")}function vc(n){return fi(n,"remoteDocumentsV14")}function yd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wm(n,e){const t=e.documentKey.path.toArray();return[n,Fu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qm(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=en(t[u],r[u]),o)return o;return o=en(t.length,r.length),o||(o=en(t[t.length-2],r[r.length-2]),o||en(t[t.length-1],r[r.length-1]))}class Ow{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Km{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&rd(r.mutation,o,H.empty(),Dr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ln()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ln()){const o=Ta();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=ku();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ln()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=_s();const d=Ih(),m=Ih();return t.forEach((w,x)=>{const F=r.get(x.key);o.has(x.key)&&(void 0===F||F.mutation instanceof iu)?u=u.insert(x.key,x):void 0!==F&&(d.set(x.key,F.mutation.getFieldMask()),rd(F.mutation,x,F.mutation.getFieldMask(),Dr.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((x,F)=>d.set(x,F)),t.forEach((x,F)=>{var $;return m.set(x,new Ow(F,null!==($=d.get(x))&&void 0!==$?$:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Ih();let o=new Gn((d,m)=>d-m),u=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const x=t.get(w);if(null===x)return;let F=r.get(w)||H.empty();F=m.applyToLocalView(x,F),r.set(w,F);const $=(o.get(m.batchId)||ln()).add(w);o=o.insert(m.batchId,$)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),x=w.key,F=w.value,$=lw();F.forEach(ie=>{if(!u.has(ie)){const ve=rw(t.get(ie),r.get(ie));null!==ve&&$.set(ie,ve),u=u.add(ie)}}),d.push(this.documentOverlayCache.saveOverlays(e,x,$))}return Ce.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ut.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):Ce.resolve(Ta());let m=-1,w=u;return d.next(x=>Ce.forEach(x,(F,$)=>(m<$.largestBatchId&&(m=$.largestBatchId),u.get(F)?Ce.resolve():this.getBaseDocument(e,F,$).next(ie=>{w=w.insert(F,ie)}))).next(()=>this.populateOverlays(e,x,u)).next(()=>this.computeViews(e,w,x,ln())).next(F=>({batchId:m,changes:uw(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let o=ku();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=ku();return this.indexManager.getCollectionParents(e,o).next(d=>Ce.forEach(d,m=>{const w=(x=t,F=m.child(o),new Nu(F,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,F;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(x=>{x.forEach((F,$)=>{u=u.insert(F,$)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,w)=>{const x=w.getKey();null===o.get(x)&&(o=o.insert(x,fr.newInvalidDocument(x)))});let d=ku();return o.forEach((m,w)=>{const x=u.get(m);void 0!==x&&rd(x.mutation,w,H.empty(),Dr.now()),mh(t,w)&&(d=d.insert(m,w))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ce.resolve(fr.newInvalidDocument(t))}}class Lu{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Rt(r.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:mp(r.bundledQuery),readTime:Rt(r.readTime)}),Ce.resolve();var r}}class bp{constructor(){this.overlays=new Gn(ut.comparator),this.es=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return Ce.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),Ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Ce.resolve()}getOverlaysForCollection(e,t,r){const o=Ta(),u=t.length+1,d=new ut(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,x=w.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return Ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Gn((x,F)=>x-F);const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>r){let F=u.get(x.largestBatchId);null===F&&(F=Ta(),u=u.insert(x.largestBatchId,F)),F.set(x.getKey(),x)}}const m=Ta(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((x,F)=>m.set(x,F)),!(m.size()>=o)););return Ce.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new fc(t,r));let u=this.es.get(t);void 0===u&&(u=ln(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class Ip{constructor(){this.ns=new g(pi.ss),this.rs=new g(pi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new pi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new pi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ut(new Rn([])),r=new pi(t,e),o=new pi(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ut(new Rn([])),r=new pi(t,e),o=new pi(t,e+1);let u=ln();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new pi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ut.comparator(e.key,t.key)||en(e._s,t._s)}static os(e,t){return en(e._s,t._s)||ut.comparator(e.key,t.key)}}class RD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new g(pi.ss)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new Nm(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new pi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(d)}lookupMutationBatch(e,t){return Ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return Ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),o=new pi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),Ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new g(en);return t.forEach(o=>{const u=new pi(o,0),d=new pi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),Ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ut.isDocumentKey(u)||(u=u.child(""));const d=new pi(new ut(u),0);let m=new g(en);return this.gs.forEachWhile(w=>{const x=w.key.path;return!!r.isPrefixOf(x)&&(x.length===o&&(m=m.add(w._s)),!0)},d),Ce.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ie(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ce.forEach(t.mutations,o=>{const u=new pi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new pi(t,0),o=this.gs.firstAfterOrEqual(r);return Ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cp{constructor(e){this.Es=e,this.docs=new Gn(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ce.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fr.newInvalidDocument(o))}),Ce.resolve(r)}getAllFromCollection(e,t,r){let o=_s();const u=new ut(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||uh(tu(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,t,r,o){te()}As(e,t){return Ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kw(this)}getSize(e){return Ce.resolve(this.size)}}class kw extends Gm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Zm{constructor(e){this.persistence=e,this.Rs=new Ou(t=>hl(t),Xc),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ip,this.targetCount=0,this.vs=yc.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new yc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Dn(t),Ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ce.waitFor(u).next(()=>o)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),Ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ce.resolve(r)}containsKey(e,t){return Ce.resolve(this.Ps.containsKey(t))}}class vd{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ys(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Zm(this),this.indexManager=new Sw,this.remoteDocumentCache=new Cp(r=>this.referenceDelegate.xs(r)),this.It=new pp(t),this.Ns=new Lu(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new RD(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){D("MemoryPersistence","Starting transaction:",e);const o=new Zb(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ms(e,t){return Ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Zb extends zf{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.Fs=new Ip,this.$s=null}static Bs(e){return new _d(e)}get Ls(){if(this.$s)return this.$s;throw te()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,r=>{const o=ut.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,Vt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Fw{constructor(e){this.It=e}$(e,t,r,o){const u=new Mu("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fp,{unique:!0}),m.createObjectStore("documentMutations"),Dp(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ce.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Dp(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",x)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").W().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fp,{unique:!0});const F=w.store("mutations"),$=x.map(ie=>F.put(ie));return Ce.waitFor($)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:Am});w.createIndex("collectionPathOverlayIndex",Iw,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",Sm,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:bD});w.createIndex("documentKeyIndex",ID),w.createIndex("collectionGroupIndex",CD)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:vl}).createIndex("sequenceNumberIndex",Tm,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Bb}).createIndex("documentKeyIndex",bw,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=wo(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>Ce.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>Ce.forEach(m,w=>{Ie(w.userId===u.userId);const x=El(this.It,w);return Mw(e,u.userId,x).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const w=new Rn(d),x=[0,zs(w)];u.push(t.get(x).next(F=>F?Ce.resolve():t.put({targetId:0,path:zs(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:SD});const r=t.store("collectionParents"),o=new Vm,u=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:zs(w)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const w=new Rn(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,w],x)=>{const F=ou(m);return u(F.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=gc(o),d=gp(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(x=d,x.document?new ut(Rn.fromString(x.document.name).popFirst(5)):x.noDocument?ut.fromSegments(x.noDocument.path):x.unknownDocument?ut.fromSegments(x.unknownDocument.path):te()).path.toArray();var x;const F={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(F))}).next(()=>Ce.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=Pw(this.It),u=new vd(_d.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(w=>{var x;let F=null!==(x=m.get(w.userId))&&void 0!==x?x:ln();El(this.It,w).keys().forEach($=>F=F.add($)),m.set(w.userId,F)}),Ce.forEach(m,(w,x)=>{const F=new Cr(x),$=yp.oe(this.It,F),ie=u.getIndexManager(F),ve=pd.oe(F,this.It,ie,u.referenceDelegate);return new Km(o,ve,$,ie).recalculateAndSaveOverlaysForDocumentKeys(new Rm(t,ys.at),w).next()})})}}function Dp(n){n.createObjectStore("targetDocuments",{keyPath:TD}).createIndex("documentTargetsIndex",AD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DD,{unique:!0}),n.createObjectStore("targetGlobal")}const Tp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qm{constructor(e,t,r,o,u,d,m,w,x,F,$=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=x,this.Ys=F,this.Xs=$,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ie=>Promise.resolve(),!Qm.C())throw new Se(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $m(this,o),this.ii=t+"main",this.It=new pp(w),this.ri=new go(this.ii,this.Xs,new Fw(this.It)),this.Cs=new zb(this.referenceDelegate,this.It),this.remoteDocumentCache=Pw(this.It),this.Ns=new xD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===F&&P("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(oe.FAILED_PRECONDITION,Tp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ys(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ke.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ap(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Go(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _c(e).get("owner").next(t=>Ce.resolve(this.mi(t)))}gi(e){return Ap(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=fi(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return Ce.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ce.resolve(!0):_c(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Se(oe.FAILED_PRECONDITION,Tp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ap(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&D("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Rm(t,ys.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ap(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return pd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gb(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return yp.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){D("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?Mm:14===d?Dw:13===d?xm:12===d?_l:11===d?Cw:void te();var d;let m;return this.ri.runTransaction(e,o,u,w=>(m=new Rm(w,this.Ss?this.Ss.next():ys.at),"readwrite-primary"===t?this.fi(m).next(x=>!!x||this.di(m)).next(x=>{if(!x)throw P(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Se(oe.FAILED_PRECONDITION,Gf);return r(m)}).next(x=>this.wi(m).next(()=>x)):this.Vi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Vi(e){return _c(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(oe.FAILED_PRECONDITION,Tp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _c(e).put("owner",t)}static C(){return go.C()}_i(e){const t=_c(e);return t.get("owner").next(r=>this.mi(r)?(D("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(P(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return P("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){P("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _c(n){return fi(n,"owner")}function Ap(n){return fi(n,"clientMetadata")}function Ym(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Sp{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=ln(),o=ln();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sp(e,t.fromCache,r,o)}}class wc{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(pm(t))return Ce.resolve(null);let r=Gs(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=ph(t,null,"F"),r=Gs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=ln(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const x=this.Fi(t,m);return this.$i(t,x,d,w.readTime)?this.ki(e,ph(t,null,"F")):this.Bi(e,x,t,w)}))})))}Oi(e,t,r,o){return pm(t)||o.isEqual(Vt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Mi(e,t):(Ya()<=Xr.in.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gh(t)),this.Bi(e,d,t,ah(o,-1)))})}Fi(e,t){let r=new g(gm(e));return t.forEach((o,u)=>{mh(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mi(e,t){return Ya()<=Xr.in.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",gh(t)),this.Ni.getDocumentsMatchingQuery(e,t,Zi.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Lw{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Gn(en),this.qi=new Ou(u=>hl(u),Xc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Km(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Vw(n,e,t,r){return new Lw(n,e,t,r)}function Uw(n,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,ke.Z)(function*(n,e){const t=Ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=ln();for(const x of o){d.push(x.batchId);for(const F of x.mutations)w=w.add(F.key)}for(const x of u){m.push(x.batchId);for(const F of x.mutations)w=w.add(F.key)}return t.localDocuments.getDocuments(r,w).next(x=>({ji:x,removedBatchIds:d,addedBatchIds:m}))})})}),Dl.apply(this,arguments)}function Qb(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,x){const F=w.batch,$=F.keys();let ie=Ce.resolve();return $.forEach(ve=>{ie=ie.next(()=>x.getEntry(m,ve)).next(je=>{const ot=w.docVersions.get(ve);Ie(null!==ot),je.version.compareTo(ot)<0&&(F.applyToRemoteDocument(je,w),je.isValidDocument()&&(je.setReadTime(w.commitVersion),x.addEntry(je)))})}),ie.next(()=>d.mutationQueue.removeMutationBatch(m,F))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=ln();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Bw(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Yb(n,e){const t=Ue(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((F,$)=>{const ie=o.get($);if(!ie)return;m.push(t.Cs.removeMatchingKeys(u,F.removedDocuments,$).next(()=>t.Cs.addMatchingKeys(u,F.addedDocuments,$)));let ve=ie.withSequenceNumber(u.currentSequenceNumber);var je,ot,_t;e.targetMismatches.has($)?ve=ve.withResumeToken(Le.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):F.resumeToken.approximateByteSize()>0&&(ve=ve.withResumeToken(F.resumeToken,r)),o=o.insert($,ve),ot=ve,_t=F,(0===(je=ie).resumeToken.approximateByteSize()||ot.snapshotVersion.toMicroseconds()-je.snapshotVersion.toMicroseconds()>=3e8||_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,ve))});let w=_s(),x=ln();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,F))}),m.push(jw(u,d,e.documentUpdates).next(F=>{w=F.Wi,x=F.zi})),!r.isEqual(Vt.min())){const F=t.Cs.getLastRemoteSnapshotVersion(u).next($=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(F)}return Ce.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,x)).next(()=>w)}).then(u=>(t.Ui=o,u))}function jw(n,e,t){let r=ln(),o=ln();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=_s();return t.forEach((m,w)=>{const x=u.get(m);w.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(Vt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!x.isValidDocument()||w.version.compareTo(x.version)>0||0===w.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):D("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",w.version)}),{Wi:d,zi:o}})}function Ko(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tl(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,Ce.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new _o(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ec(n,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,ke.Z)(function*(n,e,t){const r=Ue(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Go(d))throw d;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),xp.apply(this,arguments)}function Ph(n,e,t){const r=Ue(n);let o=Vt.min(),u=ln();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,x){const F=Ue(m),$=F.qi.get(x);return void 0!==$?Ce.resolve(F.Ui.get($)):F.Cs.getTargetData(w,x)}(r,d,Gs(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Vt.min(),t?u:ln())).next(m=>(Xm(r,Q_(e),m),{documents:m,Hi:u})))}function Jm(n,e){const t=Ue(n),r=Ue(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function Hw(n,e){const t=Ue(n),r=t.Ki.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,ah(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Xm(t,e,o),o))}function Xm(n,e,t){let r=n.Ki.get(e)||Vt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function ey(){return ey=(0,ke.Z)(function*(n,e,t,r){const o=Ue(n);let u=ln(),d=_s();for(const x of t){const F=e.Ji(x.metadata.name);x.document&&(u=u.add(F));const $=e.Yi(x);$.setReadTime(e.Xi(x.metadata.readTime)),d=d.insert(F,$)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),w=yield Tl(o,(x=r,Gs(lc(Rn.fromString(`__bundle__/docs/${x}`)))));var x;return o.persistence.runTransaction("Apply bundle documents","readwrite",x=>jw(x,m,d).next(F=>(m.apply(x),F)).next(F=>o.Cs.removeMatchingKeysForTargetId(x,w.targetId).next(()=>o.Cs.addMatchingKeys(x,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(x,F.Wi,F.zi)).next(()=>F.Wi)))}),ey.apply(this,arguments)}function ty(n,e){return $w.apply(this,arguments)}function $w(){return $w=(0,ke.Z)(function*(n,e,t=ln()){const r=yield Tl(n,Gs(mp(e.bundledQuery))),o=Ue(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Rt(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(Le.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),$w.apply(this,arguments)}function ny(n,e){return`firestore_clients_${n}_${e}`}function Gw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ry(n,e){return`firestore_targets_${n}_${e}`}class iy{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Se(o.error.code,o.error.message))),d?new iy(e,t,o.state,u):(P("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Se(r.error.code,r.error.message))),u?new Mp(e,r.state,o):(P("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Ch();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=sc(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new wd(e,u):(P("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sy{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sy(t.clientId,t.onlineState):(P("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rp{constructor(){this.activeTargetIds=Ch()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Np{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Gn(en),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=ny(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Rp),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(ny(e.persistenceKey,o));if(u){const d=wd.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ry(this.persistenceKey,e));if(r){const o=Mp.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ry(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return D("SharedClientState","READ",e,t),t}setItem(e,t){D("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(D("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void P("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=ys.at;if(null!=u)try{const m=JSON.parse(u);Ie("number"==typeof m),d=m}catch(m){P("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==ys.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new iy(this.currentUser,e,t,r),u=Gw(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=Gw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=ry(this.persistenceKey,e),u=new Mp(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return wd.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return iy.Zi(new Cr(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Mp.Zi(o,t)}yr(e){return sy.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ch();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class zw{constructor(){this.Lr=new Rp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Rp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zo{qr(e){}shutdown(){}}class Xb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ww{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class qw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,u){const d=this.ho(e,t);D("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(w=>(D("RestConnection","Received: ",w),w),w=>{throw W("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}_o(e,t,r,o,u,d){return this.ao(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.oo}/v1/${t}:${eI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new sh;m.setWithCredentials(!0),m.listenOnce(Hf.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ea.NO_ERROR:const x=m.getResponseJson();D("Connection","XHR received:",JSON.stringify(x)),u(x);break;case Ea.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),d(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:const F=m.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',F,"response text:",m.getResponseText()),F>0){const $=m.getResponseJson().error;if($&&$.status&&$.message){const ie=function(ve){const je=ve.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(je)>=0?je:oe.UNKNOWN}($.status);d(new Se(ie,$.message))}else d(new Se(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);m.send(t,"POST",w,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tc(),d=Wi(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Za({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=o.join("");D("Connection","Creating WebChannel: "+w,m);const x=u.createWebChannel(w,m);let F=!1,$=!1;const ie=new Ww({Hr:je=>{$?D("Connection","Not sending because WebChannel is closed:",je):(F||(D("Connection","Opening WebChannel transport."),x.open(),F=!0),D("Connection","WebChannel sending:",je),x.send(je))},Jr:()=>x.close()}),ve=(je,ot,_t)=>{je.listen(ot,wn=>{try{_t(wn)}catch(kn){setTimeout(()=>{throw kn},0)}})};return ve(x,Us.EventType.OPEN,()=>{$||D("Connection","WebChannel transport opened.")}),ve(x,Us.EventType.CLOSE,()=>{$||($=!0,D("Connection","WebChannel transport closed"),ie.io())}),ve(x,Us.EventType.ERROR,je=>{$||($=!0,W("Connection","WebChannel transport errored:",je),ie.io(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),ve(x,Us.EventType.MESSAGE,je=>{var ot;if(!$){const _t=je.data[0];Ie(!!_t);const wn=_t,kn=wn.error||(null===(ot=wn[0])||void 0===ot?void 0:ot.error);if(kn){D("Connection","WebChannel received error:",kn);const Cn=kn.status;let En=function(Dn){const Vi=Zr[Dn];if(void 0!==Vi)return bh(Vi)}(Cn),pn=kn.message;void 0===En&&(En=oe.INTERNAL,pn="Unknown error status: "+Cn+" with message "+kn.message),$=!0,ie.io(new Se(En,pn)),x.close()}else D("Connection","WebChannel received:",_t),ie.ro(_t)}}),ve(d,Vs.STAT_EVENT,je=>{je.stat===qi.PROXY?D("Connection","Detected buffering proxy"):je.stat===qi.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{ie.so()},0),ie}}function oy(){return"undefined"!=typeof window?window:null}function Oh(){return"undefined"!=typeof document?document:null}function kh(n){return new mw(n,!0)}class Pp{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&D("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Op{constructor(e,t,r,o,u,d,m,w){this.Hs=e,this.vo=r,this.Vo=o,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Pp(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ke.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ke.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ke.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(P(t.toString()),P("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.No.Ro((0,ke.Z)(function*(){e.state=0,e.start()}))}jo(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tI extends Op{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function bm(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:te(),o=e.targetChange.targetIds||[],u=function(w,x){return w.gt?(Ie(void 0===x||"string"==typeof x),Le.fromBase64String(x||"")):(Ie(void 0===x||x instanceof Uint8Array),Le.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const x=void 0===w.code?oe.UNKNOWN:bh(w.code);return new Se(x,w.message||"")}(d);t=new qo(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=yo(n,r.document.name),u=Rt(r.document.updateTime),d=new hi({mapValue:{fields:r.document.fields}}),m=fr.newFoundDocument(o,u,d);t=new sp(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=yo(n,r.document),u=r.readTime?Rt(r.readTime):Vt.min(),d=fr.newNoDocument(o,u);t=new sp([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=yo(n,r.document);t=new sp([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return te();{const r=e.filter,u=new aw(r.count||0);t=new dw(r.targetId,u)}}var w;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Vt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Vt.min():u.readTime?Rt(u.readTime):Vt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Ah(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=Yf(m)?{documents:Sh(o,m)}:{query:od(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=yw(o,u.resumeToken):u.snapshotVersion.compareTo(Vt.min())>0&&(d.readTime=Th(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function Im(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return te()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Ah(this.It),t.removeTarget=e,this.Lo(t)}}class ay extends Op{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function vD(n,e){return n&&n.length>0?(Ie(void 0!==e),n.map(t=>function(r,o){let u=Rt(r.updateTime?r.updateTime:o);return u.isEqual(Vt.min())&&(u=Rt(o)),new nw(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rt(e.commitTime);return this.listener.tu(r,t)}return Ie(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ah(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lp(this.It,r))};this.Lo(t)}}class nI extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=o,this.su=!1}iu(){if(this.su)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.ao(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(oe.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(oe.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class iI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(P(t),this.uu=!1):D("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class sI{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(m=>{r.enqueueAndForget((0,ke.Z)(function*(){var w;Pr(d)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ke.Z)(function*(x){const F=Ue(x);F.wu.add(4),yield Aa(F),F.yu.set("Unknown"),F.wu.delete(4),yield Ed(F)}),function(x){return w.apply(this,arguments)})(d))}))}),this.yu=new iI(r,o)}}function Ed(n){return bd.apply(this,arguments)}function bd(){return bd=(0,ke.Z)(function*(n){if(Pr(n))for(const e of n.mu)yield e(!0)}),bd.apply(this,arguments)}function Aa(n){return kp.apply(this,arguments)}function kp(){return kp=(0,ke.Z)(function*(n){for(const e of n.mu)yield e(!1)}),kp.apply(this,arguments)}function Al(n,e){const t=Ue(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),bc(t)?Qo(t):Dd(t).Oo()&&ly(t,e))}function Fh(n,e){const t=Ue(n),r=Dd(t);t._u.delete(e),r.Oo()&&Fp(t,e),0===t._u.size&&(r.Oo()?r.$o():Pr(t)&&t.yu.set("Unknown"))}function ly(n,e){n.pu.Mt(e.targetId),Dd(n).Ho(e)}function Fp(n,e){n.pu.Mt(e),Dd(n).Jo(e)}function Qo(n){n.pu=new fw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Dd(n).start(),n.yu.cu()}function bc(n){return Pr(n)&&!Dd(n).ko()&&n._u.size>0}function Pr(n){return 0===Ue(n).wu.size}function Sl(n){n.pu=void 0}function Lp(n){return qs.apply(this,arguments)}function qs(){return qs=(0,ke.Z)(function*(n){n._u.forEach((e,t)=>{ly(n,e)})}),qs.apply(this,arguments)}function cy(n,e){return xl.apply(this,arguments)}function xl(){return xl=(0,ke.Z)(function*(n,e){Sl(n),bc(n)?(n.yu.lu(e),Qo(n)):n.yu.set("Unknown")}),xl.apply(this,arguments)}function Id(n,e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,ke.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof qo&&2===e.state&&e.cause)try{yield(r=(0,ke.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o._u.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o._u.delete(m),o.pu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vu(n,r)}else if(e instanceof sp?n.pu.Gt(e):e instanceof dw?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Vt.min()))try{const r=yield Bw(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.pu.te(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const x=o._u.get(w);x&&o._u.set(w,x.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=o._u.get(m);if(!w)return;o._u.set(m,w.withResumeToken(Le.EMPTY_BYTE_STRING,w.snapshotVersion)),Fp(o,m);const x=new _o(w.target,m,1,w.sequenceNumber);ly(o,x)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Vu(n,r)}var r}),Ml.apply(this,arguments)}function Vu(n,e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,ke.Z)(function*(n,e,t){if(!Go(e))throw e;n.wu.add(1),yield Aa(n),n.yu.set("Offline"),t||(t=()=>Bw(n.localStore)),n.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){D("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Ed(n)}))}),Rl.apply(this,arguments)}function Ic(n,e){return e().catch(t=>Vu(n,t,e))}function Sa(n){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,ke.Z)(function*(n){const e=Ue(n),t=Uu(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Cd(e);)try{const o=yield Ko(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,dy(e,o)}catch(o){yield Vu(e,o)}Vp(e)&&Up(e)}),Nl.apply(this,arguments)}function Cd(n){return Pr(n)&&n.du.length<10}function dy(n,e){n.du.push(e);const t=Uu(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function Vp(n){return Pr(n)&&!Uu(n).ko()&&n.du.length>0}function Up(n){Uu(n).start()}function hy(n){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,ke.Z)(function*(n){Uu(n).nu()}),Lh.apply(this,arguments)}function fy(n){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,ke.Z)(function*(n){const e=Uu(n);for(const t of n.du)e.Zo(t.mutations)}),Vh.apply(this,arguments)}function py(n,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,ke.Z)(function*(n,e,t){const r=n.du.shift(),o=Pm.from(r,e,t);yield Ic(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Sa(n)}),Uh.apply(this,arguments)}function oI(n,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,ke.Z)(function*(n,e){var t;e&&Uu(n).Xo&&(yield(t=(0,ke.Z)(function*(r,o){if(Eh(u=o.code)&&u!==oe.ABORTED){const d=r.du.shift();Uu(r).Fo(),yield Ic(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Sa(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Vp(n)&&Up(n)}),Bp.apply(this,arguments)}function gy(n,e){return jp.apply(this,arguments)}function jp(){return jp=(0,ke.Z)(function*(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Pr(t);t.wu.add(3),yield Aa(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Ed(t)}),jp.apply(this,arguments)}function Hp(n,e){return my.apply(this,arguments)}function my(){return my=(0,ke.Z)(function*(n,e){const t=Ue(n);e?(t.wu.delete(2),yield Ed(t)):e||(t.wu.add(2),yield Aa(t),t.yu.set("Unknown"))}),my.apply(this,arguments)}function Dd(n){return n.Iu||(n.Iu=function(e,t,r){const o=Ue(e);return o.iu(),new tI(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:Lp.bind(null,n),Zr:cy.bind(null,n),zo:Id.bind(null,n)}),n.mu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.Iu.Fo(),bc(n)?Qo(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Sl(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Uu(n){return n.Tu||(n.Tu=function(e,t,r){const o=Ue(e);return o.iu(),new ay(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:hy.bind(null,n),Zr:oI.bind(null,n),eu:fy.bind(null,n),tu:py.bind(null,n)}),n.mu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.Tu.Fo(),yield Sa(n)):(yield n.Tu.stop(),n.du.length>0&&(D("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class yy{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new yy(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(n,e){if(P("AsyncQueue",`${e}: ${n}`),Go(n))return new Se(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class Td{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=ku(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Kw{constructor(){this.Eu=new Gn(ut.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):te():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ad{constructor(e,t,r,o,u,d,m,w,x){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=x}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Ad(e,t,Td.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class aI{constructor(){this.Ru=void 0,this.listeners=[]}}class vy{constructor(){this.queries=new Ou(e=>Da(e),tp),this.onlineState="Unknown",this.bu=new Set}}function Bh(n,e){return _y.apply(this,arguments)}function _y(){return _y=(0,ke.Z)(function*(n,e){const t=Ue(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new aI),o)try{u.Ru=yield t.onListen(r)}catch(d){const m=Cc(d,`Initialization of query '${gh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&$p(t)}),_y.apply(this,arguments)}function wy(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,ke.Z)(function*(n,e){const t=Ue(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Ey.apply(this,arguments)}function uI(n,e){const t=Ue(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.vu(o)&&(r=!0);d.Ru=o}}r&&$p(t)}function lI(n,e,t){const r=Ue(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function $p(n){n.bu.forEach(e=>{e.next()})}class by{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class cI{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class au{constructor(e){this.It=e}Ji(e){return yo(this.It,e)}Yi(e){return e.metadata.exists?up(this.It,e.document,!1):fr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Rt(e)}}class dI{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Iy(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new au(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||ln()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function Jb(n,e,t,r){return ey.apply(this,arguments)}(e.localStore,new au(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield ty(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Iy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Zw{constructor(e){this.key=e}}class Cy{constructor(e){this.key=e}}class jh{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ln(),this.mutatedKeys=ln(),this.Gu=gm(e),this.Qu=new Td(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Kw,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,x="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((F,$)=>{const ie=o.get(F),ve=mh(this.query,$)?$:null,je=!!ie&&this.mutatedKeys.has(ie.key),ot=!!ve&&(ve.hasLocalMutations||this.mutatedKeys.has(ve.key)&&ve.hasCommittedMutations);let _t=!1;ie&&ve?ie.data.isEqual(ve.data)?je!==ot&&(r.track({type:3,doc:ve}),_t=!0):this.Hu(ie,ve)||(r.track({type:2,doc:ve}),_t=!0,(w&&this.Gu(ve,w)>0||x&&this.Gu(ve,x)<0)&&(m=!0)):!ie&&ve?(r.track({type:0,doc:ve}),_t=!0):ie&&!ve&&(r.track({type:1,doc:ie}),_t=!0,(w||x)&&(m=!0)),_t&&(ve?(d=d.add(ve),u=ot?u.add(F):u.delete(F)):(d=d.delete(F),u=u.delete(F)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const F="F"===this.query.limitType?d.last():d.first();d=d.delete(F.key),u=u.delete(F.key),r.track({type:1,doc:F})}return{Qu:d,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((x,F)=>function($,ie){const ve=je=>{switch(je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return ve($)-ve(ie)}(x.type,F.type)||this.Gu(x.doc,F.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,w=m!==this.qu;return this.qu=m,0!==u.length||w?{snapshot:new Ad(this.query,e.Qu,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Kw,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ln(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Cy(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Zw(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=ln();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ad.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class hI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Qw{constructor(e){this.key=e,this.nc=!1}}class Yw{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Ou(m=>Da(m),tp),this.rc=new Map,this.oc=new Set,this.uc=new Gn(ut.comparator),this.cc=new Map,this.ac=new Ip,this.hc={},this.lc=new Map,this.fc=yc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function fI(n,e){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,ke.Z)(function*(n,e){const t=Jh(n);let r,o;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ec();else{const d=yield Tl(t.localStore,Gs(e));t.isPrimaryClient&&Al(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield Ty(t,e,r,"current"===m,d.resumeToken)}return o}),Dy.apply(this,arguments)}function Ty(n,e,t,r,o){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,ke.Z)(function*(n,e,t,r,o){n._c=($,ie,ve)=>{return(je=(0,ke.Z)(function*(ot,_t,wn,kn){let Cn=_t.view.Wu(wn);Cn.$i&&(Cn=yield Ph(ot.localStore,_t.query,!1).then(({documents:Dn})=>_t.view.Wu(Dn,Cn)));const En=kn&&kn.targetChanges.get(_t.targetId),pn=_t.view.applyChanges(Cn,ot.isPrimaryClient,En);return Md(ot,_t.targetId,pn.Xu),pn.snapshot}),function(ot,_t,wn,kn){return je.apply(this,arguments)})(n,$,ie,ve);var je};const u=yield Ph(n.localStore,e,!0),d=new jh(e,u.Hi),m=d.Wu(u.documents),w=id.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),x=d.applyChanges(m,n.isPrimaryClient,w);Md(n,t,x.Xu);const F=new hI(e,t,d);return n.ic.set(e,F),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),x.snapshot}),Ay.apply(this,arguments)}function Jw(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,ke.Z)(function*(n,e){const t=Ue(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(u=>!tp(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ec(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fh(t.remoteStore,r.targetId),zh(t,r.targetId)}).catch(nu))):(zh(t,r.targetId),yield Ec(t.localStore,r.targetId,!0))}),Sy.apply(this,arguments)}function Gp(){return Gp=(0,ke.Z)(function*(n,e,t){const r=Xh(n);try{const o=yield function(u,d){const m=Ue(u),w=Dr.now(),x=d.reduce((ie,ve)=>ie.add(ve.key),ln());let F,$;return m.persistence.runTransaction("Locally write mutations","readwrite",ie=>{let ve=_s(),je=ln();return m.Gi.getEntries(ie,x).next(ot=>{ve=ot,ve.forEach((_t,wn)=>{wn.isValidDocument()||(je=je.add(_t))})}).next(()=>m.localDocuments.getOverlayedDocuments(ie,ve)).next(ot=>{F=ot;const _t=[];for(const wn of d){const kn=iw(wn,F.get(wn.key).overlayedDocument);null!=kn&&_t.push(new iu(wn.key,kn,j_(kn.value.mapValue),pr.exists(!0)))}return m.mutationQueue.addMutationBatch(ie,w,_t,d)}).next(ot=>{$=ot;const _t=ot.applyToLocalDocumentSet(F,je);return m.documentOverlayCache.saveOverlays(ie,ot.batchId,_t)})}).then(()=>({batchId:$.batchId,changes:uw(F)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let w=u.hc[u.currentUser.toKey()];w||(w=new Gn(en)),w=w.insert(d,m),u.hc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield uu(r,o.changes),yield Sa(r.remoteStore)}catch(o){const u=Cc(o,"Failed to persist write");t.reject(u)}}),Gp.apply(this,arguments)}function zp(n,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,ke.Z)(function*(n,e){const t=Ue(n);try{const r=yield Yb(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.cc.get(u);d&&(Ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Ie(d.nc):o.removedDocuments.size>0&&(Ie(d.nc),d.nc=!1))}),yield uu(t,r,e)}catch(r){yield nu(r)}}),Dc.apply(this,arguments)}function Tc(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=Ue(u);m.onlineState=d;let w=!1;m.queries.forEach((x,F)=>{for(const $ of F.listeners)$.Pu(d)&&(w=!0)}),w&&$p(m)}(r.eventManager,e),o.length&&r.sc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pI(n,e,t){return xy.apply(this,arguments)}function xy(){return xy=(0,ke.Z)(function*(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),u=o&&o.key;if(u){let d=new Gn(ut.comparator);d=d.insert(u,fr.newNoDocument(u,Vt.min()));const m=ln().add(u),w=new Dh(Vt.min(),new Map,new g(en),d,m);yield zp(r,w),r.uc=r.uc.remove(u),r.cc.delete(e),Wh(r)}else yield Ec(r.localStore,e,!1).then(()=>zh(r,e,t)).catch(nu)}),xy.apply(this,arguments)}function Hh(n,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,ke.Z)(function*(n,e){const t=Ue(n),r=e.batch.batchId;try{const o=yield Qb(t.localStore,e);Gh(t,r,null),xd(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uu(t,o)}catch(o){yield nu(o)}}),Wp.apply(this,arguments)}function My(n,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,ke.Z)(function*(n,e,t){const r=Ue(n);try{const o=yield function(u,d){const m=Ue(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let x;return m.mutationQueue.lookupMutationBatch(w,d).next(F=>(Ie(null!==F),x=F.keys(),m.mutationQueue.removeMutationBatch(w,F))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,x,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x)).next(()=>m.localDocuments.getDocuments(w,x))})}(r.localStore,e);Gh(r,e,t),xd(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uu(r,o)}catch(o){yield nu(o)}}),$h.apply(this,arguments)}function Sd(){return Sd=(0,ke.Z)(function*(n,e){const t=Ue(n);Pr(t.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ue(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=Cc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Sd.apply(this,arguments)}function xd(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Gh(n,e,t){const r=Ue(n);let o=r.hc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function zh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||e0(n,r)})}function e0(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Fh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Wh(n))}function Md(n,e,t){for(const r of t)r instanceof Zw?(n.ac.addReference(r.key,e),qp(n,r)):r instanceof Cy?(D("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||e0(n,r.key)):te()}function qp(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(D("SyncEngine","New document in limbo: "+t),n.oc.add(r),Wh(n))}function Wh(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ut(Rn.fromString(e)),r=n.fc.next();n.cc.set(r,new Qw(t)),n.uc=n.uc.insert(t,r),Al(n.remoteStore,new _o(Gs(lc(t.path)),r,2,ys.at))}}function uu(n,e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,ke.Z)(function*(n,e,t){const r=Ue(n),o=[],u=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,w)=>{d.push(r._c(w,e,t).then(x=>{if((x||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,(null==x?void 0:x.fromCache)?"not-current":"current"),x){o.push(x);const F=Sp.Ci(w.targetId,x);u.push(F)}}))}),yield Promise.all(d),r.sc.zo(o),yield(m=(0,ke.Z)(function*(w,x){const F=Ue(w);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>Ce.forEach(x,ie=>Ce.forEach(ie.Si,ve=>F.persistence.referenceDelegate.addReference($,ie.targetId,ve)).next(()=>Ce.forEach(ie.Di,ve=>F.persistence.referenceDelegate.removeReference($,ie.targetId,ve)))))}catch($){if(!Go($))throw $;D("LocalStore","Failed to update sequence numbers: "+$)}for(const $ of x){const ie=$.targetId;if(!$.fromCache){const ve=F.Ui.get(ie),ot=ve.withLastLimboFreeSnapshotVersion(ve.snapshotVersion);F.Ui=F.Ui.insert(ie,ot)}}}),function(w,x){return m.apply(this,arguments)})(r.localStore,u))}),qh.apply(this,arguments)}function t0(n,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,ke.Z)(function*(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield Uw(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Se(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uu(t,r.ji)}var o}),Kp.apply(this,arguments)}function Ry(n,e){const t=Ue(n),r=t.cc.get(e);if(r&&r.nc)return ln().add(r.key);{let o=ln();const u=t.rc.get(e);if(!u)return o;for(const d of u){const m=t.ic.get(d);o=o.unionWith(m.view.ju)}return o}}function Ny(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,ke.Z)(function*(n,e){const t=Ue(n),r=yield Ph(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&Md(t,e.targetId,o.Xu),o}),Py.apply(this,arguments)}function n0(n,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ke.Z)(function*(n,e){const t=Ue(n);return Hw(t.localStore,e).then(r=>uu(t,r))}),Zp.apply(this,arguments)}function Oy(n,e,t,r){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ke.Z)(function*(n,e,t,r){const o=Ue(n),u=yield function(d,m){const w=Ue(d),x=Ue(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",F=>x.Tn(F,m).next($=>$?w.localDocuments.getDocuments(F,$):Ce.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Sa(o.remoteStore):"acknowledged"===t||"rejected"===t?(Gh(o,e,r||null),xd(o,e),m=e,Ue(Ue(o.localStore).mutationQueue).An(m)):te(),yield uu(o,u)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qp.apply(this,arguments)}function Yp(){return Yp=(0,ke.Z)(function*(n,e){const t=Ue(n);if(Jh(t),Xh(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield ky(t,r.toArray());t.dc=!0,yield Hp(t.remoteStore,!0);for(const u of o)Al(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(zh(t,d),Ec(t.localStore,d,!0))),Fh(t.remoteStore,d)}),yield o,yield ky(t,r),function(u){const d=Ue(u);d.cc.forEach((m,w)=>{Fh(d.remoteStore,w)}),d.ac.fs(),d.cc=new Map,d.uc=new Gn(ut.comparator)}(t),t.dc=!1,yield Hp(t.remoteStore,!1)}}),Yp.apply(this,arguments)}function ky(n,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,ke.Z)(function*(n,e,t){const r=Ue(n),o=[],u=[];for(const d of e){let m;const w=r.rc.get(d);if(w&&0!==w.length){m=yield Tl(r.localStore,Gs(w[0]));for(const x of w){const F=r.ic.get(x),$=yield Ny(r,F);$.snapshot&&u.push($.snapshot)}}else{const x=yield Jm(r.localStore,d);m=yield Tl(r.localStore,x),yield Ty(r,Zh(x),d,!1,m.resumeToken)}o.push(m)}return r.sc.zo(u),o}),Kh.apply(this,arguments)}function Zh(n){return Z_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fy(n){const e=Ue(n);return Ue(Ue(e.localStore).persistence).vi()}function Ly(n,e,t,r){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ke.Z)(function*(n,e,t,r){const o=Ue(n);if(o.dc)return void D("SyncEngine","Ignoring unexpected query state notification.");const u=o.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Hw(o.localStore,Q_(u[0])),m=Dh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Le.EMPTY_BYTE_STRING);yield uu(o,d,m);break}case"rejected":yield Ec(o.localStore,e,!0),zh(o,e,r);break;default:te()}}),Qh.apply(this,arguments)}function Vy(n,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,ke.Z)(function*(n,e,t){const r=Jh(n);if(r.dc){for(const o of e){if(r.rc.has(o)){D("SyncEngine","Adding an already active target "+o);continue}const u=yield Jm(r.localStore,o),d=yield Tl(r.localStore,u);yield Ty(r,Zh(u),d.targetId,!1,d.resumeToken),Al(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield Ec(r.localStore,o,!1).then(()=>{Fh(r.remoteStore,o),zh(r,o)}).catch(nu))}}),Yh.apply(this,arguments)}function Jh(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ry.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.sc.zo=uI.bind(null,e.eventManager),e.sc.wc=lI.bind(null,e.eventManager),e}function Xh(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=My.bind(null,e),e}class yI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.It=kh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Vw(this.persistence,new wc,e.initialUser,this.It)}yc(e){return new vd(_d.Bs,this.It)}gc(e){return new zw}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r0 extends yI{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Xh(r.Ac.syncEngine),yield Sa(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Vw(this.persistence,new wc,e.initialUser,this.It)}Tc(e,t){return new Hm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new dm(t,this.persistence);return new cm(e.asyncQueue,r)}yc(e){const t=Ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new Qm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,oy(),Oh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new zw}}class vI extends r0{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof Np&&(r.sharedClientState.syncEngine={Fr:Oy.bind(null,o),$r:Ly.bind(null,o),Br:Vy.bind(null,o),vi:Fy.bind(null,o),Mr:n0.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ke.Z)(function*(d){yield function mI(n,e){return Yp.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=oy();if(!Np.C(t))throw new Se(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Np(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jp{initialize(e,t){var r=this;return(0,ke.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Tc(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=t0.bind(null,r.syncEngine),yield Hp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vy}createDatastore(e){const t=kh(e.databaseInfo.databaseId),r=new qw(e.databaseInfo);return new nI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>Tc(this.syncEngine,m,0),d=Xb.C()?new Xb:new Zo,new sI(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,w,x){const F=new Yw(r,o,u,d,m,w);return x&&(F.dc=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const r=Ue(t);D("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Aa(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function By(n,e,t){if(!t)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function si(n,e,t,r){if(!0===e&&!0===r)throw new Se(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jy(n){if(!ut.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s0(n){if(ut.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":te()}function Sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xp(n);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function o0(n,e){if(e<=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Hy=new Map;class $y{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,si("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lu{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new di;switch(t.type){case"gapi":return new nc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hy.get(e);t&&(D("ComponentProvider","Removing Datastore"),Hy.delete(e),t.terminate())}(this),Promise.resolve()}}class Tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class cu extends ki{constructor(e,t,r){super(e,t,lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new ut(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function Gy(n,e,...t){if(n=(0,Xt.m9)(n),By("collection","path",e),n instanceof lu){const r=Rn.fromString(e,...t);return s0(r),new cu(n,null,r)}{if(!(n instanceof Tr||n instanceof cu))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return s0(r),new cu(n.firestore,null,r)}}function Rd(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=Su.R()),By("doc","path",e),n instanceof lu){const r=Rn.fromString(e,...t);return jy(r),new Tr(n,null,new ut(r))}{if(!(n instanceof Tr||n instanceof cu))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return jy(r),new Tr(n.firestore,n instanceof cu?n.converter:null,new ut(r))}}function eg(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof Tr||n instanceof cu)&&(e instanceof Tr||e instanceof cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Eo(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof ki&&e instanceof ki&&n.firestore===e.firestore&&tp(n._query,e._query)&&n.converter===e.converter}function u0(n,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):P("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class du{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new gt,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(o);return new cI(JSON.parse(u),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ke.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class c0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ke.Z)(function*(u,d){const m=Ue(u),w=Ah(m.It)+"/documents",x={documents:d.map(ve=>sd(m.It,ve))},F=yield m._o("BatchGetDocuments",w,x,d.length),$=new Map;F.forEach(ve=>{const je=function vw(n,e){return"found"in e?function(t,r){Ie(!!r.found);const o=yo(t,r.found.name),u=Rt(r.found.updateTime),d=new hi({mapValue:{fields:r.found.fields}});return fr.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Ie(!!r.missing),Ie(!!r.readTime);const o=yo(t,r.missing),u=Rt(r.readTime);return fr.newNoDocument(o,u)}(n,e):te()}(m.It,ve);$.set(je.key.toString(),je)});const ie=[];return d.forEach(ve=>{const je=$.get(ve.toString());Ie(!!je),ie.push(je)}),ie}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=ut.fromPath(o);e.mutations.push(new rp(u,e.precondition(u)))}),yield(r=(0,ke.Z)(function*(o,u){const d=Ue(o),m=Ah(d.It)+"/documents",w={writes:u.map(x=>lp(d.It,x))};yield d.ao("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw te();t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?pr.exists(!1):pr.updateTime(t):pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new Se(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(t)}return pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _I{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.kc=r.maxAttempts,this.No=new Pp(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,ke.Z)(function*(){const t=new c0(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Fc(u)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ru(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Eh(t)}return!1}}class wI{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Cr.UNAUTHENTICATED,this.clientId=Su.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ke.Z)(function*(m){D("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(D("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Cc(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function d0(n,e){return zy.apply(this,arguments)}function zy(){return zy=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ke.Z)(function*(u){r.isEqual(u)||(yield Uw(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zy.apply(this,arguments)}function tg(n,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wy(n);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>gy(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>gy(e.remoteStore,u)),n.onlineComponents=e}),Ac.apply(this,arguments)}function Wy(n){return ng.apply(this,arguments)}function ng(){return ng=(0,ke.Z)(function*(n){return n.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield d0(n,new yI)),n.offlineComponents}),ng.apply(this,arguments)}function rg(n){return ig.apply(this,arguments)}function ig(){return ig=(0,ke.Z)(function*(n){return n.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield tg(n,new Jp)),n.onlineComponents}),ig.apply(this,arguments)}function qy(n){return Wy(n).then(e=>e.persistence)}function Sc(n){return Wy(n).then(e=>e.localStore)}function Ky(n){return rg(n).then(e=>e.remoteStore)}function sg(n){return rg(n).then(e=>e.syncEngine)}function Pl(n){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,ke.Z)(function*(n){const e=yield rg(n),t=e.eventManager;return t.onListen=fI.bind(null,e.syncEngine),t.onUnlisten=Jw.bind(null,e.syncEngine),t}),Nd.apply(this,arguments)}function og(n,e,t={}){const r=new gt;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(o,u,d,m,w){const x=new ef({next:$=>{u.enqueueAndForget(()=>wy(o,F));const ie=$.docs.has(d);!ie&&$.fromCache?w.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):ie&&$.fromCache&&m&&"server"===m.source?w.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve($)},error:$=>w.reject($)}),F=new by(lc(d.path),x,{includeMetadataChanges:!0,ku:!0});return Bh(o,F)}(yield Pl(n),n.asyncQueue,e,t,r)})),r.promise}function ag(n,e,t={}){const r=new gt;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(o,u,d,m,w){const x=new ef({next:$=>{u.enqueueAndForget(()=>wy(o,F)),$.fromCache&&"server"===m.source?w.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve($)},error:$=>w.reject($)}),F=new by(d,x,{includeMetadataChanges:!0,ku:!0});return Bh(o,F)}(yield Pl(n),n.asyncQueue,e,t,r)})),r.promise}class f0{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Pp(this,"async_queue_retry"),this.Wc=()=>{const t=Oh();t&&D("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Oh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Oh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new gt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Go(t))throw t;D("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,P("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=yy.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(o),o}zc(){this.Kc&&te()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function ug(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class p0{constructor(){this._progressObserver={},this._taskCompletionResolver=new gt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends lu{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new f0,this._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nv(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||nv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nv(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kf(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new wI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function rv(n,e,t){const r=new gt;return n.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield d0(n,t),yield tg(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===oe.FAILED_PRECONDITION||d.code===oe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;W("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function lg(n){if(n._initialized||n._terminated)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Le.fromBase64String(e))}catch(t){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yo(Le.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ma{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bu{constructor(e){this._methodName=e}}class Pd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const ov=/^__.*__$/;class av{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}class cg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ol(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class dg{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return rf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ol(this.sa)&&ov.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class CI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||kh(e)}da(e,t,r,o=!1){return new dg({sa:e,methodName:t,fa:r,path:hr.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Jo(n){const e=n._freezeSettings(),t=kh(n._databaseId);return new CI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hg(n,e,t,r,o,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,o);Od("Data must be an object, but it was:",d,r);const m=T0(r,d);let w,x;if(u.merge)w=new H(d.fieldMask),x=d.fieldTransforms;else if(u.mergeFields){const F=[];for(const $ of u.mergeFields){const ie=Or(e,$,t);if(!d.contains(ie))throw new Se(oe.INVALID_ARGUMENT,`Field '${ie}' is specified in your field mask but missing from your input data.`);A0(F,ie)||F.push(ie)}w=new H(F),x=d.fieldTransforms.filter($=>w.covers($.field))}else w=null,x=d.fieldTransforms;return new av(new hi(m),w,x)}class xc extends Bu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xc}}function I0(n,e,t){return new dg({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class fg extends Bu{_toFieldTransform(e){return new vh(e.path,new gl)}isEqual(e){return e instanceof fg}}class C0 extends Bu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=I0(this,e,!0),r=this._a.map(u=>Ra(u,t)),o=new ml(r);return new vh(e.path,o)}isEqual(e){return this===e}}class DI extends Bu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=I0(this,e,!0),r=this._a.map(u=>Ra(u,t)),o=new Pu(r);return new vh(e.path,o)}isEqual(e){return this===e}}class Gt extends Bu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new td(e.It,np(e.It,this.wa));return new vh(e.path,t)}isEqual(e){return this===e}}function uv(n,e,t,r){const o=n.da(1,e,t);Od("Data must be an object, but it was:",o,r);const u=[],d=hi.empty();js(r,(w,x)=>{const F=nf(e,w,t);x=(0,Xt.m9)(x);const $=o.ca(F);if(x instanceof xc)u.push(F);else{const ie=Ra(x,$);null!=ie&&(u.push(F),d.set(F,ie))}});const m=new H(u);return new cg(d,m,o.fieldTransforms)}function lv(n,e,t,r,o,u){const d=n.da(1,e,t),m=[Or(e,r,t)],w=[o];if(u.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ie=0;ie<u.length;ie+=2)m.push(Or(e,u[ie])),w.push(u[ie+1]);const x=[],F=hi.empty();for(let ie=m.length-1;ie>=0;--ie)if(!A0(x,m[ie])){const ve=m[ie];let je=w[ie];je=(0,Xt.m9)(je);const ot=d.ca(ve);if(je instanceof xc)x.push(ve);else{const _t=Ra(je,ot);null!=_t&&(x.push(ve),F.set(ve,_t))}}const $=new H(x);return new cg(F,$,d.fieldTransforms)}function D0(n,e,t,r=!1){return Ra(t,n.da(r?4:3,e))}function Ra(n,e){if(tf(n=(0,Xt.m9)(n)))return Od("Unsupported field value:",e,n),T0(n,e);if(n instanceof Bu)return function(t,r){if(!Ol(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Ra(d,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return np(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Dr.fromDate(t);return{timestampValue:Th(r.It,o)}}if(t instanceof Dr){const o=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Th(r.It,o)}}if(t instanceof Pd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yo)return{bytesValue:yw(r.It,t._byteString)};if(t instanceof Tr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:op(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Xp(t)}`)}(n,e)}function T0(n,e){const t={};return dh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(r,o)=>{const u=Ra(o,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function tf(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof Pd||n instanceof Yo||n instanceof Tr||n instanceof Bu)}function Od(n,e,t){if(!tf(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Xp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Or(n,e,t){if((e=(0,Xt.m9)(e))instanceof Ma)return e._internalPath;if("string"==typeof e)return nf(n,e);throw rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const PD=new RegExp("[~\\*/\\[\\]]");function nf(n,e,t){if(e.search(PD)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ma(...e.split("."))._internalPath}catch(r){throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rf(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Se(oe.INVALID_ARGUMENT,m+n+w)}function A0(n,e){return n.some(t=>t.isEqual(e))}class kd{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new S0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class S0 extends kd{data(){return super.data()}}function sf(n,e){return"string"==typeof e?nf(n,e):e instanceof Ma?e._internalPath:e._delegate._internalPath}function cv(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}function kl(n,...e){for(const t of e)n=t._apply(n);return n}class TI extends of{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Jo(e.firestore),r=function(o,u,d,m,w,x,F){let $;if(w.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){hv(F,x);const ve=[];for(const je of F)ve.push(P0(m,o,je));$={arrayValue:{values:ve}}}else $=P0(m,o,F)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||hv(F,x),$=D0(d,"where",F,"in"===x||"not-in"===x);const ie=Oi.create(w,x,$);return function(ve,je){if(je.dt()){const _t=pl(ve);if(null!==_t&&!_t.isEqual(je.field))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_t.toString()}' and '${je.field.toString()}'`);const wn=ep(ve);null!==wn&&fv(0,je.field,wn)}const ot=function(_t,wn){for(const kn of _t.filters)if(wn.indexOf(kn.op)>=0)return kn.op;return null}(ve,function(_t){switch(_t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(je.op));if(null!==ot)throw new Se(oe.INVALID_ARGUMENT,ot===je.op?`Invalid query. You cannot use more than one '${je.op.toString()}' filter.`:`Invalid query. You cannot use '${je.op.toString()}' filters with '${ot.toString()}' filters.`)}(o,ie),ie}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ki(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Nu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class AI extends of{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new uc(o,u);return function(m,w){if(null===ep(m)){const x=pl(m);null!==x&&fv(0,x,w.field)}}(r,d),d}(e._query,this.ma,this.pa);return new ki(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Nu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class x0 extends of{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new ki(e.firestore,e.converter,ph(e._query,this.Ia,this.Ta))}}class dv extends of{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=N0(e,this.type,this.Ea,this.Aa);return new ki(e.firestore,e.converter,(o=t,new Nu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Fd extends of{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=N0(e,this.type,this.Ea,this.Aa);return new ki(e.firestore,e.converter,(o=t,new Nu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function N0(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof kd)return function(o,u,d,m,w){if(!m)throw new Se(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const x=[];for(const F of fh(o))if(F.field.isKeyField())x.push(cl(u,m.key));else{const $=m.data.field(F.field);if(vs($))throw new Se(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$){const ie=F.field.canonicalString();throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ie}' (used as the orderBy) does not exist.`)}x.push($)}return new fl(x,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Jo(n.firestore);return function(u,d,m,w,x,F){const $=u.explicitOrderBy;if(x.length>$.length)throw new Se(oe.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ie=[];for(let ve=0;ve<x.length;ve++){const je=x[ve];if($[ve].field.isKeyField()){if("string"!=typeof je)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof je}`);if(!Wo(u)&&-1!==je.indexOf("/"))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${je}' contains a slash.`);const ot=u.path.child(Rn.fromString(je));if(!ut.isDocumentKey(ot))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${ot}' is not because it contains an odd number of segments.`);const _t=new ut(ot);ie.push(cl(d,_t))}else{const ot=D0(m,w,je);ie.push(ot)}}return new fl(ie,F)}(n._query,n.firestore._databaseId,o,e,t,r)}}function P0(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wo(e)&&-1!==t.indexOf("/"))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Rn.fromString(t));if(!ut.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cl(n,new ut(r))}if(t instanceof Tr)return cl(n,t._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(t)}.`)}function hv(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fv(n,e,t){if(!t.isEqual(e))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Wn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw te()}}convertObject(e,t){const r={};return js(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Pd(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ia(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=Ct(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rn.fromString(e);Ie(ww(r));const o=new zo(r.get(1),r.get(3)),u=new ut(r.popFirst(5));return o.isEqual(t)||P(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class O0 extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}class Mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends kd{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yg extends ju{data(e={}){return super.data(e)}}class Rc{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Mc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yg(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new yg(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Mc(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new yg(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Mc(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,x=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:OD(d.type),doc:m,oldIndex:w,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function RI(n,e){return n instanceof ju&&e instanceof ju?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rc&&e instanceof Rc&&n._firestore===e._firestore&&Eo(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Na extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function L0(n,e,t){n=Sn(n,Tr);const r=Sn(n.firestore,gr),o=mg(n.converter,e,t);return Ld(r,[hg(Jo(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,pr.none())])}function V0(n,e,t,...r){n=Sn(n,Tr);const o=Sn(n.firestore,gr),u=Jo(o);let d;return d="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Ma?lv(u,"updateDoc",n._key,e,t,r):uv(u,"updateDoc",n._key,e),Ld(o,[d.toMutation(n._key,pr.exists(!0))])}function pv(n,...e){var t,r,o;n=(0,Xt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||ug(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(ug(e[d])){const $=e[d];e[d]=null===(t=$.next)||void 0===t?void 0:t.bind($),e[d+1]=null===(r=$.error)||void 0===r?void 0:r.bind($),e[d+2]=null===(o=$.complete)||void 0===o?void 0:o.bind($)}let w,x,F;if(n instanceof Tr)x=Sn(n.firestore,gr),F=lc(n._key.path),w={next:$=>{e[d]&&e[d](Fl(x,n,$))},error:e[d+1],complete:e[d+2]};else{const $=Sn(n,ki);x=Sn($.firestore,gr),F=$._query;const ie=new Na(x);w={next:ve=>{e[d]&&e[d](new Rc(x,ie,$,ve))},error:e[d+1],complete:e[d+2]},cv(n._query)}return function($,ie,ve,je){const ot=new ef(je),_t=new by(ie,ot,ve);return $.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return Bh(yield Pl($),_t)})),()=>{ot.bc(),$.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return wy(yield Pl($),_t)}))}}(Qr(x),F,m,w)}function Ld(n,e){return function(t,r){const o=new gt;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Xw(n,e,t){return Gp.apply(this,arguments)}(yield sg(t),r,o)})),o.promise}(Qr(n),e)}function Fl(n,e,t){const r=t.docs.get(e._key),o=new Na(n);return new ju(n,o,e._key,r,new Mc(t.hasPendingWrites,t.fromCache),e.converter)}const UI={maxAttempts:5};class gv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jo(e)}set(e,t,r){this._verifyNotCommitted();const o=Ll(e,this._firestore),u=mg(o.converter,t,r),d=hg(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,pr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Ll(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ma?lv(this._dataReader,"WriteBatch.update",u._key,t,r,o):uv(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ll(e,this._firestore);return this._mutations=this._mutations.concat(new hc(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ll(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Se(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class U0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jo(e)}get(e){const t=Ll(e,this._firestore),r=new O0(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return te();const u=o[0];if(u.isFoundDocument())return new kd(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new kd(this._firestore,r,t._key,null,t.converter);throw te()})}set(e,t,r){const o=Ll(e,this._firestore),u=mg(o.converter,t,r),d=hg(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Ll(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Ma?lv(this._dataReader,"Transaction.update",u._key,t,r,o):uv(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Ll(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ll(e,this._firestore),r=new Na(this._firestore);return super.get(e).then(o=>new ju(this._firestore,r,t._key,o._document,new Mc(!1,!1),t.converter))}}function yv(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $0(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function G0(){if(!function ge(){return"undefined"!=typeof atob}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qa=Mn.SDK_VERSION,(0,Mn._registerComponent)(new Ht.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new gr(new $o(t.getProvider("auth-internal")),new eu(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Mn.registerVersion)(Wc,"3.7.1",n),(0,Mn.registerVersion)(Wc,"3.7.1","esm2017")}();class cf{constructor(e){this._delegate=e}static fromBase64String(e){return G0(),new cf(Yo.fromBase64String(e))}static fromUint8Array(e){return $0(),new cf(Yo.fromUint8Array(e))}toBase64(){return G0(),this._delegate.toBase64()}toUint8Array(){return $0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vv(n){return function GI(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zI{enableIndexedDbPersistence(e,t){return function m0(n,e){lg(n=Sn(n,gr));const t=Qr(n),r=n._freezeSettings(),o=new Jp;return rv(t,o,new r0(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function y0(n){lg(n=Sn(n,gr));const e=Qr(n),t=n._freezeSettings(),r=new Jp;return rv(e,r,new vI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function v0(n){if(n._initialized&&!n._terminated)throw new Se(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gt;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(r){if(!go.C())return Promise.resolve();const o=r+"main";yield go.delete(o)}),function(r){return t.apply(this,arguments)})(Ym(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class z0{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&W("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function a0(n,e,t,r={}){var o;const u=(n=Sn(n,lu))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&W("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Cr.MOCK_USER;else{d=(0,Xt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Cr(w)}n._authCredentials=new Ja(new dr(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function w0(n){return function Qy(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield qy(n),t=yield Ky(n);return e.setNetworkEnabled(!0),function(r){const o=Ue(r);return o.wu.delete(0),Ed(o)}(t)}))}(Qr(n=Sn(n,gr)))}(this._delegate)}disableNetwork(){return function E0(n){return function Yy(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield qy(n),t=yield Ky(n);return e.setNetworkEnabled(!1),(r=(0,ke.Z)(function*(o){const u=Ue(o);u.wu.add(0),yield Aa(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Qr(n=Sn(n,gr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,si("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _0(n){return function(e){const t=new gt;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function gI(n,e){return Sd.apply(this,arguments)}(yield sg(e),t)})),t.promise}(Qr(n=Sn(n,gr)))}(this._delegate)}onSnapshotsInSync(e){return function LI(n,e){return function ev(n,e){const t=new ef(e);return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield Pl(n),o=t,Ue(r).bu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield Pl(n),o=t,void Ue(r).bu.delete(o);var r,o}))}}(Qr(n=Sn(n,gr)),ug(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vl(this,Gy(this._delegate,e))}catch(t){throw Qi(t,"collection()","Firestore.collection()")}}doc(e){try{return new bo(this,Rd(this._delegate,e))}catch(t){throw Qi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fi(this,function ND(n,e){if(n=Sn(n,lu),By("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ki(n,null,(t=e,new Nu(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Qi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function BI(n,e,t){n=Sn(n,gr);const r=Object.assign(Object.assign({},UI),t);return function(o){if(o.maxAttempts<1)throw new Se(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new gt;return o.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const w=yield function Zy(n){return rg(n).then(e=>e.datastore)}(o);new _I(o.asyncQueue,w,d,u,m).run()})),m.promise}(Qr(n),o=>e(new U0(n,o)),r)}(this._delegate,t=>e(new wv(this,t)))}batch(){return Qr(this._delegate),new Ev(new gv(this._delegate,e=>Ld(this._delegate,e)))}loadBundle(e){return function iv(n,e){const t=Qr(n=Sn(n,gr)),r=new p0;return function tv(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,x){if(w instanceof Uint8Array)return u0(w,x);if(w instanceof ArrayBuffer)return u0(new Uint8Array(w),x);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new du(w,d);var w}(t,kh(e));n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function Uy(n,e,t){const r=Ue(n);var o;(o=(0,ke.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(ie,ve){const je=Ue(ie),ot=Rt(ve.createTime);return je.persistence.runTransaction("hasNewerBundle","readonly",_t=>je.Ns.getBundleMetadata(_t,ve.id)).then(_t=>!!_t&&_t.createTime.compareTo(ot)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(ie=w).totalDocuments,bytesLoaded:ie.totalBytes,totalDocuments:ie.totalDocuments,totalBytes:ie.totalBytes}),Promise.resolve(new Set);m._updateProgress(Iy(w));const x=new dI(w,u.localStore,d.It);let F=yield d.mc();for(;F;){const ie=yield x.Fu(F);ie&&m._updateProgress(ie),F=yield d.mc()}const $=yield x.complete();return yield uu(u,$.Lu,void 0),yield function(ie,ve){const je=Ue(ie);return je.persistence.runTransaction("Save bundle","readwrite",ot=>je.Ns.saveBundleMetadata(ot,ve))}(u.localStore,w),m._completeWith($.progress),Promise.resolve($.Bu)}catch(w){return W("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var ie}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield sg(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function sv(n,e){return function h0(n,e){return n.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,r){const o=Ue(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield Sc(n),e)}))}(Qr(n=Sn(n,gr)),e).then(t=>t?new ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Fi(this,t):null)}}class Vd extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cf(new Yo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bo.forKey(t,this.firestore,null)}}class wv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}get(e){const t=Pc(e);return this._delegate.get(t).then(r=>new Nc(this._firestore,new ju(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Pc(e);return r?(yv("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Pc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Pc(e);return this._delegate.delete(t),this}}class Ev{constructor(e){this._delegate=e}set(e,t,r){const o=Pc(e);return r?(yv("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Pc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Pc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new yg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ud(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hu.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Hu(e,new Vd(e),t),o.set(t,u)),u}}Hu.INSTANCES=new WeakMap;class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bo(t,new Tr(t._delegate,r,new ut(e)))}static forKey(e,t,r){return new bo(t,new Tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vl(this.firestore,Gy(this._delegate,e))}catch(t){throw Qi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Tr&&eg(this._delegate,e)}set(e,t){t=yv("DocumentReference.set",t);try{return t?L0(this._delegate,e,t):L0(this._delegate,e)}catch(r){throw Qi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?V0(this._delegate,e):V0(this._delegate,e,t,...r)}catch(o){throw Qi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function kI(n){return Ld(Sn(n.firestore,gr),[new hc(n._key,pr.none())])}(this._delegate)}onSnapshot(...e){const t=W0(e),r=_g(e,o=>new Nc(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return pv(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function NI(n){n=Sn(n,Tr);const e=Sn(n.firestore,gr),t=Qr(e),r=new Na(e);return function Jy(n,e){const t=new gt;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(o,u,d){try{const m=yield function(w,x){const F=Ue(w);return F.persistence.runTransaction("read document","readonly",$=>F.localDocuments.getDocument($,x))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Se(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Cc(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield Sc(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ju(e,r,n._key,o,new Mc(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function PI(n){n=Sn(n,Tr);const e=Sn(n.firestore,gr);return og(Qr(e),n._key,{source:"server"}).then(t=>Fl(e,n,t))}(this._delegate):function k0(n){n=Sn(n,Tr);const e=Sn(n.firestore,gr);return og(Qr(e),n._key).then(t=>Fl(e,n,t))}(this._delegate),t.then(r=>new Nc(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?Hu.getInstance(this.firestore,e):null))}}function Qi(n,e,t){return n.message=n.message.replace(e,t),n}function W0(n){for(const e of n)if("object"==typeof e&&!vv(e))return e;return{}}function _g(n,e){var t,r;let o;return o=vv(n[0])?n[0]:vv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Nc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RI(this._delegate,e._delegate)}}class Ud extends Nc{data(e){const t=this._delegate.data(e);return function dt(n,e){n||te()}(void 0!==t),t}}class Fi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}where(e,t,r){try{return new Fi(this.firestore,kl(this._delegate,function af(n,e,t){const r=e,o=sf("where",n);return new TI(o,r,t)}(e,t,r)))}catch(o){throw Qi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Fi(this.firestore,kl(this._delegate,function SI(n,e="asc"){const t=e,r=sf("orderBy",n);return new AI(r,t)}(e,t)))}catch(r){throw Qi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fi(this.firestore,kl(this._delegate,function pg(n){return o0("limit",n),new x0("limit",n,"F")}(e)))}catch(t){throw Qi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Fi(this.firestore,kl(this._delegate,function M0(n){return o0("limitToLast",n),new x0("limitToLast",n,"L")}(e)))}catch(t){throw Qi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fi(this.firestore,kl(this._delegate,function R0(...n){return new dv("startAt",n,!0)}(...e)))}catch(t){throw Qi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fi(this.firestore,kl(this._delegate,function xI(...n){return new dv("startAfter",n,!1)}(...e)))}catch(t){throw Qi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fi(this.firestore,kl(this._delegate,function uf(...n){return new Fd("endBefore",n,!1)}(...e)))}catch(t){throw Qi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fi(this.firestore,kl(this._delegate,function MI(...n){return new Fd("endAt",n,!0)}(...e)))}catch(t){throw Qi(t,"endAt()","Query.endAt()")}}isEqual(e){return Eo(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lf(n){n=Sn(n,ki);const e=Sn(n.firestore,gr),t=Qr(e),r=new Na(e);return function Xy(n,e){const t=new gt;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(o,u,d){try{const m=yield Ph(o,u,!0),w=new jh(u,m.Hi),x=w.Wu(m.documents),F=w.applyChanges(x,!1);d.resolve(F.snapshot)}catch(m){const w=Cc(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield Sc(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Rc(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function OI(n){n=Sn(n,ki);const e=Sn(n.firestore,gr),t=Qr(e),r=new Na(e);return ag(t,n._query,{source:"server"}).then(o=>new Rc(e,r,n,o))}(this._delegate):function F0(n){n=Sn(n,ki);const e=Sn(n.firestore,gr),t=Qr(e),r=new Na(e);return cv(n._query),ag(t,n._query).then(o=>new Rc(e,r,n,o))}(this._delegate),t.then(r=>new bv(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=W0(e),r=_g(e,o=>new bv(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return pv(this._delegate,t,r)}withConverter(e){return new Fi(this.firestore,this._delegate.withConverter(e?Hu.getInstance(this.firestore,e):null))}}class WI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ud(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ud(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WI(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ud(this._firestore,r))})}isEqual(e){return RI(this._delegate,e._delegate)}}class Vl extends Fi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bo(this.firestore,e):null}doc(e){try{return new bo(this.firestore,void 0===e?Rd(this._delegate):Rd(this._delegate,e))}catch(t){throw Qi(t,"doc()","CollectionReference.doc()")}}add(e){return function FI(n,e){const t=Sn(n.firestore,gr),r=Rd(n),o=mg(n.converter,e);return Ld(t,[hg(Jo(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new bo(this.firestore,t))}isEqual(e){return eg(this._delegate,e._delegate)}withConverter(e){return new Vl(this.firestore,this._delegate.withConverter(e?Hu.getInstance(this.firestore,e):null))}}function Pc(n){return Sn(n,Tr)}class wg{constructor(...e){this._delegate=new Ma(...e)}static documentId(){return new wg(hr.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Ma&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jI(){return new fg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ul(e)}static delete(){const e=function mv(){return new xc("deleteField")}();return e._methodName="FieldValue.delete",new Ul(e)}static arrayUnion(...e){const t=function B0(...n){return new C0("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ul(t)}static arrayRemove(...e){const t=function j0(...n){return new DI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ul(t)}static increment(e){const t=function HI(n){return new Gt("increment",n)}(e);return t._methodName="FieldValue.increment",new Ul(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Eg={Firestore:z0,GeoPoint:Pd,Timestamp:Dr,Blob:cf,Transaction:wv,WriteBatch:Ev,DocumentReference:bo,DocumentSnapshot:Nc,Query:Fi,QueryDocumentSnapshot:Ud,QuerySnapshot:bv,CollectionReference:Vl,FieldPath:wg,FieldValue:Ul,setLogLevel:function _v(n){!function A(n){Ki.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function q0(n){(function qI(n,e){n.INTERNAL.registerComponent(new Ht.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Eg)))})(n,(e,t)=>new z0(e,t,new zI)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(_n.Z);var Oc=j(7579),KI=j(6451),kc=j(5363),bg=j(8421);function oi(n,e){return(0,Tn.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,$t.x)(r,w=>{null==o||o.unsubscribe();let x=0;const F=u++;(0,bg.Xf)(n(w,F)).subscribe(o=(0,$t.x)(r,$=>r.next(e?e(w,$,F,x++):$),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var df=j(6063);class ZI extends Oc.x{constructor(e=1/0,t=1/0,r=df.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var VD=j(3099);function Iv(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,VD.B)({connector:()=>new ZI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Ig=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fc=j(515);function Cg(n){return n<=0?()=>Fc.E:(0,Tn.e)((e,t)=>{let r=0;e.subscribe((0,$t.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Cv(n){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,$t.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Dv(n=Dg){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,$t.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Dg(){return new Ig}function fu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((o,u)=>n(o,u,r)):vn.y,Cg(1),t?Cv(e):Dv(()=>new Ig))}var Bl=j(576);function K0(n,e){return(0,Bl.m)(e)?oi(()=>n,e):oi(()=>n)}var Tg=j(9468);j(5867);const ff=new Map,J0={activated:!1,tokenObservers:[]},X0={initialized:!1,enabled:!1};function gi(n){return ff.get(n)||J0}function Io(n,e){ff.set(n,e)}function pf(){return X0}class rE{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function iE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Yi=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xv(n){if(!gi(n).activated)throw Yi.create("use-before-activation",{appName:n.name})}function xg(n,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ke.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const ve=yield d.getHeartbeatsHeader();ve&&(u["X-Firebase-Client"]=ve)}const m={method:"POST",body:JSON.stringify(e),headers:u};let w,x;try{w=yield fetch(n,m)}catch(ve){throw Yi.create("fetch-network-error",{originalErrorMessage:null===(r=ve)||void 0===r?void 0:r.message})}if(200!==w.status)throw Yi.create("fetch-status-error",{httpStatus:w.status});try{x=yield w.json()}catch(ve){throw Yi.create("fetch-parse-error",{originalErrorMessage:null===(o=ve)||void 0===o?void 0:o.message})}const F=x.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${x.ttl}`});const $=1e3*Number(F[1]),ie=Date.now();return{token:x.token,expireTimeMillis:ie+$,issuedAtTimeMillis:ie}}),Mg.apply(this,arguments)}function vf(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ks="firebase-app-check-store";let Lc=null;function jd(){return Lc||(Lc=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(Yi.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(r){e(Yi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Lc)}function Nv(){return Nv=(0,ke.Z)(function*(n,e){const r=(yield jd()).transaction(Ks,"readwrite"),u=r.objectStore(Ks).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var x;m(Yi.create("storage-set",{originalErrorMessage:null===(x=w.target.error)||void 0===x?void 0:x.message}))}})}),Nv.apply(this,arguments)}const Vc=new Xr.Yd("@firebase/app-check");function kv(n,e){return(0,Xt.hl)()?function oC(n,e){return function _f(n,e){return Nv.apply(this,arguments)}(function Pv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Pg(){return pf().enabled}function Fv(){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ke.Z)(function*(){const n=pf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ef.apply(this,arguments)}const uC={error:"UNKNOWN_ERROR"};function lC(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function Og(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,ke.Z)(function*(n,e=!1){const t=n.app;xv(t);const r=gi(t);let u,o=r.token;if(o&&!Uc(o)&&(Io(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(Uc(w)?o=w:yield kv(t,void 0))}if(!e&&o&&Uc(o))return{token:o.token};let m,d=!1;if(Pg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xg(vf(t,yield Fv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield kv(t,w),Io(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Vc.warn(w.message):Vc.error(w),u=w}return o?u?m=Uc(o)?{token:o.token,internalError:u}:hE(u):(m={token:o.token},Io(t,Object.assign(Object.assign({},r),{token:o})),yield kv(t,o)):m=hE(u),d&&Bv(t,m),m}),Vv.apply(this,arguments)}function bf(n,e){const t=gi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Io(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Uv(n){const{app:e}=n,t=gi(e);let r=t.tokenRefresher;r||(r=function dE(n){const{app:e}=n;return new rE((0,ke.Z)(function*(){let r;if(r=gi(e).token?yield Og(n,!0):yield Og(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Io(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Bv(n,e){const t=gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Uc(n){return n.expireTimeMillis-Date.now()>0}function hE(n){return{token:lC(uC),error:n}}class fE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gi(this.app);for(const t of e)bf(this.app,t.next);return Promise.resolve()}}const IE="app-check-internal";!function Gv(){(0,Mn._registerComponent)(new Ht.wA("app-check",n=>function pE(n,e){return new fE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IE).initialize()})),(0,Mn._registerComponent)(new Ht.wA(IE,n=>function cC(n){return{getToken:e=>Og(n,e),addTokenListener:e=>function kg(n,e,t,r){const{app:o}=n,u=gi(o),d={next:t,error:r,type:e};if(Io(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Uc(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Uv(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Uv(n))}(n,"INTERNAL",e),removeTokenListener:e=>bf(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mn.registerVersion)("@firebase/app-check","0.5.15")}();class zv{constructor(){return(0,rt.vb)("app-check")}}"undefined"!=typeof window&&window;var TE=j(127);const Wv=new h.InjectionToken("angularfire2.auth.use-emulator"),qv=new h.InjectionToken("angularfire2.auth.settings"),SE=new h.InjectionToken("angularfire2.auth.tenant-id"),xE=new h.InjectionToken("angularfire2.auth.langugage-code"),ME=new h.InjectionToken("angularfire2.auth.use-device-language"),RE=new h.InjectionToken("angularfire.auth.persistence"),NE=(n,e,t,r,o,u,d,m)=>(0,z.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),d)for(const[x,F]of Object.entries(d))w.settings[x]=F;return m&&w.setPersistence(m),w},[t,r,o,u,d,m]);let Tf=(()=>{class n{constructor(t,r,o,u,d,m,w,x,F,$,ie,ve){const je=new Oc.x,ot=et(void 0).pipe((0,kc.Q)(d.outsideAngular),oi(()=>u.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,St.U)(()=>(0,z.on)(t,u,r)),(0,St.U)(_t=>NE(_t,u,m,x,F,$,w,ie)),Iv({bufferSize:1,refCount:!1}));if((0,C.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ot.pipe(fu()).subscribe();const wn=ot.pipe(oi(En=>En.getRedirectResult().then(pn=>pn,()=>null)),rt.iC,Iv({bufferSize:1,refCount:!1})),kn=ot.pipe(oi(En=>new Qe.y(pn=>({unsubscribe:u.runOutsideAngular(()=>En.onAuthStateChanged(Dn=>pn.next(Dn),Dn=>pn.error(Dn),()=>pn.complete()))})))),Cn=ot.pipe(oi(En=>new Qe.y(pn=>({unsubscribe:u.runOutsideAngular(()=>En.onIdTokenChanged(Dn=>pn.next(Dn),Dn=>pn.error(Dn),()=>pn.complete()))}))));this.authState=wn.pipe(K0(kn),(0,Tg.R)(d.outsideAngular),(0,kc.Q)(d.insideAngular)),this.user=wn.pipe(K0(Cn),(0,Tg.R)(d.outsideAngular),(0,kc.Q)(d.insideAngular)),this.idToken=this.user.pipe(oi(En=>En?(0,Xe.D)(En.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(oi(En=>En?(0,Xe.D)(En.getIdTokenResult()):et(null))),this.credential=(0,KI.T)(wn,je,this.authState.pipe(An(En=>!En))).pipe((0,St.U)(En=>(null==En?void 0:En.user)?En:null),(0,Tg.R)(d.outsideAngular),(0,kc.Q)(d.insideAngular))}return(0,z.pX)(this,ot,u,{spy:{apply:(_t,wn,kn)=>{(_t.startsWith("signIn")||_t.startsWith("createUser"))&&kn.then(Cn=>je.next(Cn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(z.Dh),h.\u0275\u0275inject(z.xv,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(rt.HU),h.\u0275\u0275inject(Wv,8),h.\u0275\u0275inject(qv,8),h.\u0275\u0275inject(SE,8),h.\u0275\u0275inject(xE,8),h.\u0275\u0275inject(ME,8),h.\u0275\u0275inject(RE,8),h.\u0275\u0275inject(zv,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DC=(()=>{class n{constructor(){TE.Z.registerVersion("angularfire",rt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[Tf]}),n})();function TC(n,e){return function Hg(n,e=we.z){return new Qe.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Af(n,e){return TC(n,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function Sf(n,e){return Af(n,e).pipe(Sr(void 0),Ji(),(0,St.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(F=>F.doc.ref.isEqual(d.ref)),x=null==t?void 0:t.payload.docs.find(F=>F.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&x&&JSON.stringify(x.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function Kv(n,e,t){return Sf(n,t).pipe(jt((r,o)=>function AC(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function OE(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xf(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xf(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xf(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function $r(n,e=vn.y){return n=null!=n?n:Ai,(0,Tn.e)((t,r)=>{let o,u=!0;t.subscribe((0,$t.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,St.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function xf(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Zv(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Qv{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Sf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,St.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Sr(void 0),Ji(),An(([r,o])=>o.length>0||!r),(0,St.U)(([r,o])=>o),rt.iC)}auditTrail(e){return this.stateChanges(e).pipe(jt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Zv(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(rt.iC)}valueChanges(e={}){return Af(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),rt.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(rt.iC)}add(e){return this.ref.add(e)}doc(e){return new kE(this.ref.doc(e),this.afs)}}class kE{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=VE(r,t);return new Qv(o,u,this.afs)}snapshotChanges(){return function PE(n,e){return TC(n,e).pipe(Sr(void 0),Ji(),(0,St.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,St.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xe.D)(this.ref.get(e)).pipe(rt.iC)}}class FE{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Sf(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),An(t=>t.length>0),rt.iC):Sf(this.query,this.afs.schedulers.outsideAngular).pipe(rt.iC)}auditTrail(e){return this.stateChanges(e).pipe(jt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Zv(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(rt.iC)}valueChanges(e={}){return Af(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),rt.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(rt.iC)}}const LE=new h.InjectionToken("angularfire2.enableFirestorePersistence"),$g=new h.InjectionToken("angularfire2.firestore.persistenceSettings"),SC=new h.InjectionToken("angularfire2.firestore.settings"),xC=new h.InjectionToken("angularfire2.firestore.use-emulator");function VE(n,e=(t=>t)){return{query:e(n),ref:n}}let Pa=(()=>{class n{constructor(t,r,o,u,d,m,w,x,F,$,ie,ve,je,ot,_t,wn,kn){this.schedulers=w;const Cn=(0,z.on)(t,m,r),En=F;$&&NE(Cn,m,ie,je,ot,_t,ve,wn),[this.firestore,this.persistenceEnabled$]=(0,z.cc)(`${Cn.name}.firestore`,"AngularFirestore",Cn.name,()=>{const pn=m.runOutsideAngular(()=>Cn.firestore());if(u&&pn.settings(u),En&&pn.useEmulator(...En),o&&!(0,C.isPlatformServer)(d)){const Dn=()=>{try{return(0,Xe.D)(pn.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(Vi){return"undefined"!=typeof console&&console.warn(Vi),et(!1)}};return[pn,m.runOutsideAngular(Dn)]}return[pn,et(!1)]},[u,En,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=VE(o,r),m=this.schedulers.ngZone.run(()=>u);return new Qv(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new FE(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new kE(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(z.Dh),h.\u0275\u0275inject(z.xv,8),h.\u0275\u0275inject(LE,8),h.\u0275\u0275inject(SC,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(rt.HU),h.\u0275\u0275inject($g,8),h.\u0275\u0275inject(xC,8),h.\u0275\u0275inject(Tf,8),h.\u0275\u0275inject(Wv,8),h.\u0275\u0275inject(qv,8),h.\u0275\u0275inject(SE,8),h.\u0275\u0275inject(xE,8),h.\u0275\u0275inject(ME,8),h.\u0275\u0275inject(RE,8),h.\u0275\u0275inject(zv,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UE=(()=>{class n{constructor(){TE.Z.registerVersion("angularfire",rt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:LE,useValue:!0},{provide:$g,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[Pa]}),n})();const{isArray:MC}=Array,{getPrototypeOf:BE,prototype:RC,keys:NC}=Object;function Gg(n){if(1===n.length){const e=n[0];if(MC(e))return{args:e,keys:null};if(function PC(n){return n&&"object"==typeof n&&BE(n)===RC}(e)){const t=NC(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Oa}=Array;function zg(n){return(0,St.U)(e=>function OC(n,e){return Oa(e)?n(...e):n(e)}(n,e))}function jE(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Wg=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n}),n})(),jl=(()=>{class n extends Wg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();const ka=new h.InjectionToken("NgValueAccessor"),Jv={provide:ka,useExisting:(0,h.forwardRef)(()=>pu),multi:!0},LC=new h.InjectionToken("CompositionEventMode");let pu=(()=>{class n extends Wg{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FC(){const n=(0,C.\u0275getDOM)()?(0,C.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(LC,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h.\u0275\u0275ProvidersFeature([Jv]),h.\u0275\u0275InheritDefinitionFeature]}),n})();function Ti(n){return null==n||0===n.length}const bs=new h.InjectionToken("NgValidators"),$u=new h.InjectionToken("NgAsyncValidators");function r_(n){return Ti(n.value)?{required:!0}:null}function Mf(n){return null}function Zg(n){return null!=n}function Qg(n){const e=(0,h.\u0275isPromise)(n)?(0,Xe.D)(n):n;return(0,h.\u0275isObservable)(e),e}function i_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function WE(n,e){return e.map(t=>t(n))}function s_(n){return n.map(e=>function qE(n){return!n.validate}(e)?e:t=>e.validate(t))}function o_(n){return null!=n?function KE(n){if(!n)return null;const e=n.filter(Zg);return 0==e.length?null:function(t){return i_(WE(t,e))}}(s_(n)):null}function a_(n){return null!=n?function ZE(n){if(!n)return null;const e=n.filter(Zg);return 0==e.length?null:function(t){return function kC(...n){const e=(0,Et.jO)(n),{args:t,keys:r}=Gg(n),o=new Qe.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,x=d;for(let F=0;F<d;F++){let $=!1;(0,bg.Xf)(t[F]).subscribe((0,$t.x)(u,ie=>{$||($=!0,x--),m[F]=ie},()=>w--,void 0,()=>{(!w||!$)&&(x||u.next(r?jE(r,m):m),u.complete())}))}});return e?o.pipe(zg(e)):o}(WE(t,e).map(Qg)).pipe((0,St.U)(i_))}}(s_(n)):null}function u_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function d_(n){return n?Array.isArray(n)?n:[n]:[]}function Rf(n,e){return Array.isArray(n)?n.includes(e):n===e}function QE(n,e){const t=d_(e);return d_(n).forEach(o=>{Rf(t,o)||t.push(o)}),t}function VC(n,e){return d_(e).filter(t=>!Rf(n,t))}class YE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=a_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hl extends YE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Li extends YE{get formDirective(){return null}get path(){return null}}class Gd{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Bc=(()=>{class n extends Gd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Hl,2))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})(),Xo=(()=>{class n extends Gd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Li,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();function Wd(n,e){Xg(n,e),e.valueAccessor.writeValue(n.value),function KD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&em(n,e)})}(n,e),function HC(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nb(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&em(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function jC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xg(n,e){const t=function l_(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(u_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function c_(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(u_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Jg(e._rawValidators,o),Jg(e._rawAsyncValidators,o)}function em(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function y_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const kf="VALID",tm="INVALID",Kd="PENDING",i="DISABLED";function a(n){return(y(n)?n.validators:n)||null}function l(n){return Array.isArray(n)?o_(n):n||null}function c(n,e){return(y(e)?e.asyncValidators:n)||null}function f(n){return Array.isArray(n)?a_(n):n||null}function y(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const T=n=>n instanceof nt;function k(n){return(n=>n instanceof He)(n)?n.value:n.getRawValue()}function G(n,e){const t=T(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.\u0275RuntimeError(1e3,"");if(!r[e])throw new h.\u0275RuntimeError(1001,"")}function X(n,e){T(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new h.\u0275RuntimeError(1002,"")})}class de{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=l(this._rawValidators),this._composedAsyncValidatorFn=f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kf}get invalid(){return this.status===tm}get pending(){return this.status==Kd}get disabled(){return this.status===i}get enabled(){return this.status!==i}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=l(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=f(e)}addValidators(e){this.setValidators(QE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VC(e,this._rawAsyncValidators))}hasValidator(e){return Rf(this._rawValidators,e)}hasAsyncValidator(e){return Rf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=i,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kf||this.status===Kd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?i:kf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kd,this._hasOwnPendingAsyncValidator=!0;const t=Qg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function s(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=T(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof ft)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.EventEmitter,this.statusChanges=new h.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?i:this.errors?tm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kd)?Kd:this._anyControlsHaveStatus(tm)?tm:kf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){y(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class He extends de{constructor(e=null,t,r){super(a(t),c(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),y(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class nt extends de{constructor(e,t,r){super(a(t),c(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X(this,e),Object.keys(e).forEach(r=>{G(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=k(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ft extends de{constructor(e,t,r){super(a(t),c(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X(this,e),e.forEach((r,o)=>{G(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>k(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Dt={provide:Li,useExisting:(0,h.forwardRef)(()=>Nt)},Ze=(()=>Promise.resolve(null))();let Nt=(()=>{class n extends Li{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.EventEmitter,this.form=new nt({},o_(t),a_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ze.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Wd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ze.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ze.then(()=>{const r=this._findContainer(t.path),o=new nt({});(function rb(n,e){Xg(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ze.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ze.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function sb(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(bs,10),h.\u0275\u0275directiveInject($u,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([Dt]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const w_={provide:Hl,useExisting:(0,h.forwardRef)(()=>Gu)},rm=(()=>Promise.resolve(null))();let Gu=(()=>{class n extends Hl{constructor(t,r,o,u,d){super(),this._changeDetectorRef=d,this.control=new He,this._registered=!1,this.update=new h.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function m_(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===pu?t=u:function GC(n){return Object.getPrototypeOf(n.constructor)===jl}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function g_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rm.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;rm.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function Pf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Li,9),h.\u0275\u0275directiveInject(bs,10),h.\u0275\u0275directiveInject($u,10),h.\u0275\u0275directiveInject(ka,10),h.\u0275\u0275directiveInject(h.ChangeDetectorRef,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.\u0275\u0275ProvidersFeature([w_]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),n})(),$l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({}),n})();let Ff=(()=>{class n{constructor(){this._validator=Mf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275NgOnChangesFeature]}),n})();const ZA={provide:bs,useExisting:(0,h.forwardRef)(()=>b_),multi:!0};let b_=(()=>{class n extends Ff{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function WA(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>r_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[h.\u0275\u0275ProvidersFeature([ZA]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const JA={provide:bs,useExisting:(0,h.forwardRef)(()=>ab),multi:!0};let ab=(()=>{class n extends Ff{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function uT(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Kg(n){return e=>Ti(e.value)||!function Xv(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h.\u0275\u0275ProvidersFeature([JA]),h.\u0275\u0275InheritDefinitionFeature]}),n})(),tS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[[XD]]}),n})(),nS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[tS]}),n})();var jc=j(3241),rS=j(7573);let sm=(()=>{class n{constructor(t){this.afAuth=t}login(t,r){return new Promise((o,u)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(d=>o(d),d=>u(d))})}loginWithGoogle(){return new Promise((t,r)=>{this.afAuth.signInWithPopup(new rS.Q).then(o=>t(o),o=>r(o))})}getAuth(){return this.afAuth.authState.pipe((0,St.U)(t=>t))}logOut(){this.afAuth.signOut()}Regsiter(t,r){return new Promise((o,u)=>{this.afAuth.createUserWithEmailAndPassword(t,r).then(d=>o(d),d=>u(d))})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Tf))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zu extends Oc.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var iS=j(9672);function mT(n,e,t){n?(0,iS.f)(t,n,e):e()}function ub(n,e){const t=(0,Bl.m)(n)?n:()=>n,r=o=>o.error(t());return new Qe.y(e?o=>e.schedule(r,0,o):r)}function yT(n){return new Qe.y(e=>{(0,bg.Xf)(n()).subscribe(e)})}var vT=j(727);function _T(){return(0,Tn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$t.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class aS extends Qe.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vT.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$t.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vT.w0.EMPTY)}return e}refCount(){return _T()(this)}}function Qd(n){return(0,Tn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,$t.x)(t,void 0,void 0,d=>{u=(0,bg.Xf)(n(d,Qd(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Zs=j(5577);function I_(n,e){return(0,Bl.m)(e)?(0,Zs.z)(n,e,1):(0,Zs.z)(n,1)}function QC(n){return n<=0?()=>Fc.E:(0,Tn.e)((e,t)=>{let r=[];e.subscribe((0,$t.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}var Fa=j(8505);class Hc{constructor(e,t){this.id=e,this.url=t}}class YC extends Hc{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class C_ extends Hc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wT extends Hc{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cS extends Hc{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dS extends Hc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hS extends Hc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fS extends Hc{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pS extends Hc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gS extends Hc{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ET{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mS{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yS{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vS{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _S{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nn="primary";class wS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function om(n){return new wS(n)}const CT="ngNavigationCancelingError";function JC(n){const e=Error("NavigationCancelingError: "+n);return e[CT]=!0,e}function bS(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Gl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!DT(n[o],e[o]))return!1;return!0}function DT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function TT(n){return Array.prototype.concat.apply([],n)}function AT(n){return n.length>0?n[n.length-1]:null}function Is(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zl(n){return(0,h.\u0275isObservable)(n)?n:(0,h.\u0275isPromise)(n)?(0,Xe.D)(Promise.resolve(n)):et(n)}const DS={exact:function MT(n,e,t){if(!Vf(n.segments,e.segments)||!lb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!MT(n.children[r],e.children[r],t))return!1;return!0},subset:RT},ST={exact:function TS(n,e){return Gl(n,e)},subset:function AS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DT(n[t],e[t]))},ignored:()=>!0};function xT(n,e,t){return DS[t.paths](n.root,e.root,t.matrixParams)&&ST[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function RT(n,e,t){return NT(n,e,e.segments,t)}function NT(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Vf(o,t)||e.hasChildren()||!lb(o,t,r))}if(n.segments.length===t.length){if(!Vf(n.segments,t)||!lb(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!RT(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Vf(n.segments,o)&&lb(n.segments,o,r)&&n.children[Nn])&&NT(n.children[Nn],e,u,r)}}function lb(n,e,t){return e.every((r,o)=>ST[t](n[o].parameters,r.parameters))}class Lf{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=om(this.queryParams)),this._queryParamMap}toString(){return MS.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Is(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cb(this)}}class D_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=om(this.parameters)),this._parameterMap}toString(){return LT(this)}}function Vf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class PT{}class OT{parse(e){const t=new US(e);return new Lf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${T_(e.root,!0)}`,r=function PS(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${db(t)}=${db(o)}`).join("&"):`${db(t)}=${db(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function RS(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const MS=new OT;function cb(n){return n.segments.map(e=>LT(e)).join("/")}function T_(n,e){if(!n.hasChildren())return cb(n);if(e){const t=n.children[Nn]?T_(n.children[Nn],!1):"",r=[];return Is(n.children,(o,u)=>{u!==Nn&&r.push(`${u}:${T_(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function xS(n,e){let t=[];return Is(n.children,(r,o)=>{o===Nn&&(t=t.concat(e(r,o)))}),Is(n.children,(r,o)=>{o!==Nn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Nn?[T_(n.children[Nn],!1)]:[`${o}:${T_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nn]?`${cb(n)}/${t[0]}`:`${cb(n)}/(${t.join("//")})`}}function kT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function db(n){return kT(n).replace(/%3B/gi,";")}function XC(n){return kT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hb(n){return decodeURIComponent(n)}function FT(n){return hb(n.replace(/\+/g,"%20"))}function LT(n){return`${XC(n.path)}${function NS(n){return Object.keys(n).map(e=>`;${XC(e)}=${XC(n[e])}`).join("")}(n.parameters)}`}const OS=/^[^\/()?;=#]+/;function fb(n){const e=n.match(OS);return e?e[0]:""}const kS=/^[^=?&#]+/,LS=/^[^&#]+/;class US{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nn]=new Bn(e,t)),r}parseSegment(){const e=fb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new D_(hb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fb(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=fb(this.remaining);o&&(r=o,this.capture(r))}e[hb(t)]=hb(r)}parseQueryParam(e){const t=function FS(n){const e=n.match(kS);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function VS(n){const e=n.match(LS);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=FT(t),u=FT(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fb(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Nn);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Nn]:new Bn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class VT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=eD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=eD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return tD(e,this._root).map(t=>t.value)}}function eD(n,e){if(n===e.value)return e;for(const t of e.children){const r=eD(n,t);if(r)return r}return null}function tD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tD(n,t);if(r.length)return r.unshift(e),r}return[]}class $c{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function am(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class UT extends VT{constructor(e,t){super(e),this.snapshot=t,nD(this,e)}toString(){return this.snapshot.toString()}}function BT(n,e){const t=function BS(n,e){const d=new pb([],{},{},"",{},Nn,e,null,n.root,-1,{});return new HT("",new $c(d,[]))}(n,e),r=new zu([new D_("",{})]),o=new zu({}),u=new zu({}),d=new zu({}),m=new zu(""),w=new Yd(r,o,d,m,u,Nn,e,t.root);return w.snapshot=t.root,new UT(new $c(w,[]),t)}class Yd{constructor(e,t,r,o,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>om(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>om(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function jS(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pb{constructor(e,t,r,o,u,d,m,w,x,F,$){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=x,this._lastPathIndex=F,this._resolve=$}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=om(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=om(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HT extends VT{constructor(e,t){super(t),this.url=e,nD(this,t)}toString(){return $T(this._root)}}function nD(n,e){e.value._routerState=n,e.children.forEach(t=>nD(n,t))}function $T(n){const e=n.children.length>0?` { ${n.children.map($T).join(", ")} } `:"";return`${n.value}${e}`}function rD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gl(e.params,t.params)||n.params.next(t.params),function IS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function iD(n,e){const t=Gl(n.params,e.params)&&function SS(n,e){return Vf(n,e)&&n.every((t,r)=>Gl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||iD(n.parent,e.parent))}function A_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function $S(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return A_(n,r,o);return A_(n,r)})}(n,e,t);return new $c(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>A_(n,m)),d}}const r=function GS(n){return new Yd(new zu(n.url),new zu(n.params),new zu(n.queryParams),new zu(n.fragment),new zu(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>A_(n,u));return new $c(r,o)}}function gb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function S_(n){return"object"==typeof n&&null!=n&&n.outlets}function sD(n,e,t,r,o){let u={};if(r&&Is(r,(m,w)=>{u[w]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),n===e)return new Lf(t,u,o);const d=GT(n,e,t);return new Lf(d,u,o)}function GT(n,e,t){const r={};return Is(n.children,(o,u)=>{r[u]=o===e?t:GT(o,e,t)}),new Bn(n.segments,r)}class zT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gb(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(S_);if(o&&o!==AT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oD{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function WT(n,e,t){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return mb(n,e,t);const r=function QS(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(S_(m))break;const w=`${m}`,x=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&x&&"object"==typeof x&&void 0===x.outlets){if(!KT(w,x,d))return u;r+=2}else{if(!KT(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bn(n.segments.slice(0,r.pathIndex),{});return u.children[Nn]=new Bn(n.segments.slice(r.pathIndex),n.children),mb(u,0,o)}return r.match&&0===o.length?new Bn(n.segments,{}):r.match&&!n.hasChildren()?aD(n,e,t):r.match?mb(n,0,o):aD(n,e,t)}function mb(n,e,t){if(0===t.length)return new Bn(n.segments,{});{const r=function ZS(n){return S_(n[0])?n[0].outlets:{[Nn]:n}}(t),o={};return Is(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=WT(n.children[d],e,u))}),Is(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Bn(n.segments,o)}}function aD(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(S_(u)){const w=YS(u.outlets);return new Bn(r,w)}if(0===o&&gb(t[0])){r.push(new D_(n.segments[e].path,qT(t[0]))),o++;continue}const d=S_(u)?u.outlets[Nn]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&gb(m)?(r.push(new D_(d,qT(m))),o+=2):(r.push(new D_(d,{})),o++)}return new Bn(r,{})}function YS(n){const e={};return Is(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=aD(new Bn([],{}),0,t))}),e}function qT(n){const e={};return Is(n,(t,r)=>e[r]=`${t}`),e}function KT(n,e,t){return n==t.path&&Gl(e,t.parameters)}class XS{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=am(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Is(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=am(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=am(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=am(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new _S(u.value.snapshot))}),e.children.length&&this.forwardEvent(new yS(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(rD(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),rD(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function ex(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),w=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=w,d.outlet&&d.outlet.activateWith(o,w),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class uD{constructor(e,t){this.routes=e,this.module=t}}function Jd(n){return"function"==typeof n}function Uf(n){return n instanceof Lf}const x_=Symbol("INITIAL_VALUE");function M_(){return oi(n=>function sS(...n){const e=(0,Et.yG)(n),t=(0,Et.jO)(n),{args:r,keys:o}=Gg(n);if(0===r.length)return(0,Xe.D)([],e);const u=new Qe.y(function oS(n,e,t=vn.y){return r=>{mT(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)mT(e,()=>{const x=(0,Xe.D)(n[w],e);let F=!1;x.subscribe((0,$t.x)(r,$=>{u[w]=$,F||(F=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>jE(o,d):vn.y));return t?u.pipe(zg(t)):u}(n.map(e=>e.pipe(Cg(1),Sr(x_)))).pipe(jt((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==x_?o:(u===x_&&(r=!0),r||!1!==u&&d!==t.length-1&&!Uf(u)?o:u),e)},x_),An(e=>e!==x_),(0,St.U)(e=>Uf(e)?e:!0===e),Cg(1)))}class ox{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new R_,this.attachRef=null}}class R_{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ox,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let lD=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.EventEmitter,this.deactivateEvents=new h.EventEmitter,this.attachEvents=new h.EventEmitter,this.detachEvents=new h.EventEmitter,this.name=u||Nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new ax(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(R_),h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.ComponentFactoryResolver),h.\u0275\u0275injectAttribute("name"),h.\u0275\u0275directiveInject(h.ChangeDetectorRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ax{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yd?this.route:e===R_?this.childContexts:this.parent.get(e,t)}}let ZT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h.\u0275\u0275element(0,"router-outlet")},directives:[lD],encapsulation:2}),n})();function QT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ux(r,lx(e,r))}}function ux(n,e){n.children&&QT(n.children,e)}function lx(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cD(n){const e=n.children&&n.children.map(cD),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nn&&(t.component=ZT),t}function gu(n){return n.outlet||Nn}function YT(n,e){const t=n.filter(r=>gu(r)===e);return t.push(...n.filter(r=>gu(r)!==e)),t}const JT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yb(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},JT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||bS)(t,n,e);if(!u)return Object.assign({},JT);const d={};Is(u.posParams,(w,x)=>{d[x]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function vb(n,e,t,r,o="corrected"){if(t.length>0&&function hx(n,e,t){return t.some(r=>_b(n,e,r)&&gu(r)!==Nn)}(n,t,r)){const d=new Bn(e,function dx(n,e,t,r){const o={};o[Nn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&gu(u)!==Nn){const d=new Bn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[gu(u)]=d}return o}(n,e,r,new Bn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function fx(n,e,t){return t.some(r=>_b(n,e,r))}(n,t,r)){const d=new Bn(n.segments,function cx(n,e,t,r,o,u){const d={};for(const m of r)if(_b(n,t,m)&&!o[gu(m)]){const w=new Bn([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[gu(m)]=w}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Bn(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function _b(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function XT(n,e,t,r){return!!(gu(n)===r||r!==Nn&&_b(e,t,n))&&("**"===n.path||yb(e,n,t).matched)}function eA(n,e,t){return 0===e.length&&!n.children[t]}class wb{constructor(e){this.segmentGroup=e||null}}class tA{constructor(e){this.urlTree=e}}function N_(n){return ub(new wb(n))}function nA(n){return ub(new tA(n))}function px(n){return ub(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class yx{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.NgModuleRef)}apply(){const e=vb(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Nn).pipe((0,St.U)(u=>this.createUrlTree(dD(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qd(u=>{if(u instanceof tA)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof wb?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Nn).pipe((0,St.U)(o=>this.createUrlTree(dD(o),e.queryParams,e.fragment))).pipe(Qd(o=>{throw o instanceof wb?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Bn([],{[Nn]:e}):e;return new Lf(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(u=>new Bn([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Xe.D)(o).pipe(I_(u=>{const d=r.children[u],m=YT(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,St.U)(w=>({segment:w,outlet:u})))}),jt((u,d)=>(u[d.outlet]=d.segment,u),{}),function uS(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((o,u)=>n(o,u,r)):vn.y,QC(1),t?Cv(e):Dv(()=>new Ig))}())}expandSegment(e,t,r,o,u,d){return(0,Xe.D)(r).pipe(I_(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(Qd(x=>{if(x instanceof wb)return et(null);throw x}))),fu(m=>!!m),Qd((m,w)=>{if(m instanceof Ig||"EmptyError"===m.name)return eA(t,o,u)?et(new Bn([],{})):N_(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return XT(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):N_(t):N_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nA(u):this.lineralizeSegments(r,u).pipe((0,Zs.z)(d=>{const m=new Bn(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:w,remainingSegments:x,positionalParamSegments:F}=yb(t,o,u);if(!m)return N_(t);const $=this.applyRedirectCommands(w,o.redirectTo,F);return o.redirectTo.startsWith("/")?nA($):this.lineralizeSegments(o,$).pipe((0,Zs.z)(ie=>this.expandSegment(e,t,r,ie.concat(x),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,St.U)($=>(r._loadedConfig=$,new Bn(o,{})))):et(new Bn(o,{}));const{matched:d,consumedSegments:m,remainingSegments:w}=yb(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,Zs.z)(F=>{const $=F.module,ie=F.routes,{segmentGroup:ve,slicedSegments:je}=vb(t,m,w,ie),ot=new Bn(ve.segments,ve.children);if(0===je.length&&ot.hasChildren())return this.expandChildren($,ie,ot).pipe((0,St.U)(Cn=>new Bn(m,Cn)));if(0===ie.length&&0===je.length)return et(new Bn(m,{}));const _t=gu(r)===u;return this.expandSegment($,ot,ie,je,_t?Nn:u,!0).pipe((0,St.U)(kn=>new Bn(m.concat(kn.segments),kn.children)))})):N_(t)}getChildConfig(e,t,r){return t.children?et(new uD(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Zs.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,St.U)(u=>(t._loadedConfig=u,u))):function gx(n){return ub(JC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new uD([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return et(!0);const u=o.map(d=>{const m=e.get(d);let w;if(function nx(n){return n&&Jd(n.canLoad)}(m))w=m.canLoad(t,r);else{if(!Jd(m))throw new Error("Invalid CanLoad guard");w=m(t,r)}return zl(w)});return et(u).pipe(M_(),(0,Fa.b)(d=>{if(!Uf(d))return;const m=JC(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,St.U)(d=>!0===d))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return et(r);if(o.numberOfChildren>1||!o.children[Nn])return px(e.redirectTo);o=o.children[Nn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Lf(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Is(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Is(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,o)}),new Bn(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function dD(n){const e={};for(const r of Object.keys(n.children)){const u=dD(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function vx(n){if(1===n.numberOfChildren&&n.children[Nn]){const e=n.children[Nn];return new Bn(n.segments.concat(e.segments),e.children)}return n}(new Bn(n.segments,e))}class rA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eb{constructor(e,t){this.component=e,this.route=t}}function wx(n,e,t){const r=n._root;return P_(r,e?e._root:null,t,[r.value])}function bb(n,e,t){const r=function bx(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function P_(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=am(e);return n.children.forEach(d=>{(function Ix(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function Cx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vf(n.url,e.url)||!Gl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iD(n,e)||!Gl(n.queryParams,e.queryParams);default:return!iD(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new rA(r)):(u.data=d.data,u._resolvedData=d._resolvedData),P_(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Eb(m.outlet.component,d))}else d&&O_(e,m,o),o.canActivateChecks.push(new rA(r)),P_(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Is(u,(d,m)=>O_(d,t.getContext(m),o)),o}function O_(n,e,t){const r=am(n),o=n.value;Is(r,(u,d)=>{O_(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Eb(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Px{}function iA(n){return new Qe.y(e=>e.error(n))}class kx{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=vb(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Nn);if(null===t)return null;const r=new pb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new $c(r,t),u=new HT(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=jT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=YT(e,u),w=this.processSegmentGroup(m,d,u);if(null===w)return null;r.push(...w)}const o=sA(r);return function Fx(n){n.sort((e,t)=>e.value.outlet===Nn?-1:t.value.outlet===Nn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return eA(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!XT(e,t,r,o))return null;let u,d=[],m=[];if("**"===e.path){const ve=r.length>0?AT(r).parameters:{};u=new pb(r,ve,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uA(e),gu(e),e.component,e,oA(t),aA(t)+r.length,lA(e))}else{const ve=yb(t,e,r);if(!ve.matched)return null;d=ve.consumedSegments,m=ve.remainingSegments,u=new pb(d,ve.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uA(e),gu(e),e.component,e,oA(t),aA(t)+d.length,lA(e))}const w=function Lx(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:F}=vb(t,d,m,w.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===F.length&&x.hasChildren()){const ve=this.processChildren(w,x);return null===ve?null:[new $c(u,ve)]}if(0===w.length&&0===F.length)return[new $c(u,[])];const $=gu(e)===o,ie=this.processSegment(w,x,F,$?Nn:o);return null===ie?null:[new $c(u,ie)]}}function Vx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sA(n){const e=[],t=new Set;for(const r of n){if(!Vx(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=sA(r.children);e.push(new $c(r.value,o))}return e.filter(r=>!t.has(r))}function oA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function uA(n){return n.data||{}}function lA(n){return n.resolve||{}}function cA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hD(n){return oi(e=>{const t=n(e);return t?(0,Xe.D)(t).pipe((0,St.U)(()=>e)):et(e)})}class Wx extends class zx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fD=new h.InjectionToken("ROUTES");class dA{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,St.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new uD(TT(d.injector.get(fD,void 0,h.InjectFlags.Self|h.InjectFlags.Optional)).map(cD),d)}),Qd(u=>{throw t._loader$=void 0,u}));return t._loader$=new aS(o,()=>new Oc.x).pipe(_T()),t._loader$}loadModuleFactory(e){return zl(e()).pipe((0,Zs.z)(t=>t instanceof h.NgModuleFactory?et(t):(0,Xe.D)(this.compiler.compileModuleAsync(t))))}}class Kx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Zx(n){throw n}function Qx(n,e,t){return e.parse("/")}function hA(n,e){return et(null)}const Yx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class n{constructor(t,r,o,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oc.x,this.errorHandler=Zx,this.malformedUriErrorHandler=Qx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hA,afterPreactivation:hA},this.urlHandlingStrategy=new Kx,this.routeReuseStrategy=new Wx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(h.NgModuleRef),this.console=d.get(h.\u0275Console);const $=d.get(h.NgZone);this.isNgZoneEnabled=$ instanceof h.NgZone&&h.NgZone.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function CS(){return new Lf(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dA(d,m,ie=>this.triggerEvent(new ET(ie)),ie=>this.triggerEvent(new bT(ie))),this.routerState=BT(this.currentUrlTree,this.rootComponentType),this.transitions=new zu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(An(o=>0!==o.id),(0,St.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),oi(o=>{let u=!1,d=!1;return et(o).pipe((0,Fa.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),oi(m=>{const w=this.browserUrlTree.toString(),x=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return fA(m.source)&&(this.browserUrlTree=m.extractedUrl),et(m).pipe(oi($=>{const ie=this.transitions.getValue();return r.next(new YC($.id,this.serializeUrl($.extractedUrl),$.source,$.restoredState)),ie!==this.transitions.getValue()?Fc.E:Promise.resolve($)}),function _x(n,e,t,r){return oi(o=>function mx(n,e,t,r,o){return new yx(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,St.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fa.b)($=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:$.urlAfterRedirects})}),function Ux(n,e,t,r,o){return(0,Zs.z)(u=>function Ox(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new kx(n,e,t,r,o,u).recognize();return null===d?iA(new Px):et(d)}catch(d){return iA(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,St.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,$=>this.serializeUrl($),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fa.b)($=>{if("eager"===this.urlUpdateStrategy){if(!$.extras.skipLocationChange){const ve=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl);this.setBrowserUrl(ve,$)}this.browserUrlTree=$.urlAfterRedirects}const ie=new dS($.id,this.serializeUrl($.extractedUrl),this.serializeUrl($.urlAfterRedirects),$.targetSnapshot);r.next(ie)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ie,extractedUrl:ve,source:je,restoredState:ot,extras:_t}=m,wn=new YC(ie,this.serializeUrl(ve),je,ot);r.next(wn);const kn=BT(ve,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},m),{targetSnapshot:kn,urlAfterRedirects:ve,extras:Object.assign(Object.assign({},_t),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Fc.E}),hD(m=>{const{targetSnapshot:w,id:x,extractedUrl:F,rawUrl:$,extras:{skipLocationChange:ie,replaceUrl:ve}}=m;return this.hooks.beforePreactivation(w,{navigationId:x,appliedUrlTree:F,rawUrlTree:$,skipLocationChange:!!ie,replaceUrl:!!ve})}),(0,Fa.b)(m=>{const w=new hS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,St.U)(m=>Object.assign(Object.assign({},m),{guards:wx(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Dx(n,e){return(0,Zs.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function Tx(n,e,t,r){return(0,Xe.D)(n).pipe((0,Zs.z)(o=>function Nx(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?et(u.map(m=>{const w=bb(m,e,o);let x;if(function sx(n){return n&&Jd(n.canDeactivate)}(w))x=zl(w.canDeactivate(n,e,t,r));else{if(!Jd(w))throw new Error("Invalid CanDeactivate guard");x=zl(w(n,e,t,r))}return x.pipe(fu())})).pipe(M_()):et(!0)}(o.component,o.route,t,e,r)),fu(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Zs.z)(m=>m&&function tx(n){return"boolean"==typeof n}(m)?function Ax(n,e,t,r){return(0,Xe.D)(e).pipe(I_(o=>Ut(function xx(n,e){return null!==n&&e&&e(new mS(n)),et(!0)}(o.route.parent,r),function Sx(n,e){return null!==n&&e&&e(new vS(n)),et(!0)}(o.route,r),function Rx(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Ex(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>yT(()=>et(d.guards.map(w=>{const x=bb(w,d.node,t);let F;if(function ix(n){return n&&Jd(n.canActivateChild)}(x))F=zl(x.canActivateChild(r,n));else{if(!Jd(x))throw new Error("Invalid CanActivateChild guard");F=zl(x(r,n))}return F.pipe(fu())})).pipe(M_())));return et(u).pipe(M_())}(n,o.path,t),function Mx(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const o=r.map(u=>yT(()=>{const d=bb(u,e,t);let m;if(function rx(n){return n&&Jd(n.canActivate)}(d))m=zl(d.canActivate(e,n));else{if(!Jd(d))throw new Error("Invalid CanActivate guard");m=zl(d(e,n))}return m.pipe(fu())}));return et(o).pipe(M_())}(n,o.route,t))),fu(o=>!0!==o,!0))}(r,u,n,e):et(m)),(0,St.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Fa.b)(m=>{if(Uf(m.guardsResult)){const x=JC(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw x.url=m.guardsResult,x}const w=new fS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),An(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),hD(m=>{if(m.guards.canActivateChecks.length)return et(m).pipe((0,Fa.b)(w=>{const x=new pS(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}),oi(w=>{let x=!1;return et(w).pipe(function Bx(n,e){return(0,Zs.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return et(t);let u=0;return(0,Xe.D)(o).pipe(I_(d=>function jx(n,e,t,r){return function Hx(n,e,t,r){const o=cA(n);if(0===o.length)return et({});const u={};return(0,Xe.D)(o).pipe((0,Zs.z)(d=>function $x(n,e,t,r){const o=bb(n,e,r);return zl(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,Fa.b)(m=>{u[d]=m}))),QC(1),(0,Zs.z)(()=>cA(u).length===o.length?et(u):Fc.E))}(n._resolve,n,e,r).pipe((0,St.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),jT(n,t).resolve),null)))}(d.route,r,n,e)),(0,Fa.b)(()=>u++),QC(1),(0,Zs.z)(d=>u===o.length?et(t):Fc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fa.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Fa.b)(w=>{const x=new gS(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}))}),hD(m=>{const{targetSnapshot:w,id:x,extractedUrl:F,rawUrl:$,extras:{skipLocationChange:ie,replaceUrl:ve}}=m;return this.hooks.afterPreactivation(w,{navigationId:x,appliedUrlTree:F,rawUrlTree:$,skipLocationChange:!!ie,replaceUrl:!!ve})}),(0,St.U)(m=>{const w=function HS(n,e,t){const r=A_(n,e._root,t?t._root:void 0);return new UT(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,Fa.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new XS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Fa.b)({next(){u=!0},complete(){u=!0}}),function lS(n){return(0,Tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Qd(m=>{if(d=!0,function ES(n){return n&&n[CT]}(m)){const w=Uf(m.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const x=new wT(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(x),w?setTimeout(()=>{const F=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),$={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fA(o.source)};this.scheduleNavigation(F,"imperative",null,$,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new cS(o.id,this.serializeUrl(o.extractedUrl),m);r.next(w);try{o.resolve(this.errorHandler(m))}catch(x){o.reject(x)}}return Fc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){QT(t),this.config=t.map(cD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,x=o||this.routerState.root,F=w?this.currentUrlTree.fragment:d;let $=null;switch(m){case"merge":$=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":$=this.currentUrlTree.queryParams;break;default:$=u||null}return null!==$&&($=this.removeEmptyProps($)),function zS(n,e,t,r,o){if(0===t.length)return sD(e.root,e.root,e.root,r,o);const u=function WS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zT(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Is(u.outlets,(w,x)=>{m[x]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new zT(t,e,r)}(t);if(u.toRoot())return sD(e.root,e.root,new Bn([],{}),r,o);const d=function qS(n,e,t){if(n.isAbsolute)return new oD(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new oD(u,u===e.root,0)}const r=gb(n.commands[0])?0:1;return function KS(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new oD(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?mb(d.segmentGroup,d.index,u.commands):WT(d.segmentGroup,d.index,u.commands);return sD(e.root,d.segmentGroup,m,r,o)}(x,this.currentUrlTree,t,$,null!=F?F:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Uf(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Xx(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Yx):!1===r?Object.assign({},Jx):r,Uf(t))return xT(this.currentUrlTree,t,o);const u=this.parseUrl(t);return xT(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new C_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var m,w;if(this.disposed)return Promise.resolve(!1);let x,F,$;d?(x=d.resolve,F=d.reject,$=d.promise):$=new Promise((je,ot)=>{x=je,F=ot});const ie=++this.navigationId;let ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ve=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):ve=0,this.setTransition({id:ie,targetPageId:ve,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:x,reject:F,promise:$,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$.catch(je=>Promise.reject(je))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new wT(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.\u0275\u0275invalidFactory()},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function fA(n){return"imperative"!==n}let Ib=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new Oc.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:um(this.skipLocationChange),replaceUrl:um(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:um(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(Yd),h.\u0275\u0275injectAttribute("tabindex"),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.\u0275\u0275NgOnChangesFeature]}),n})(),Xd=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Oc.x,this.subscription=t.events.subscribe(u=>{u instanceof C_&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){if(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:um(this.skipLocationChange),replaceUrl:um(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:um(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(Yd),h.\u0275\u0275directiveInject(C.LocationStrategy))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.\u0275\u0275attribute("target",r.target)("href",r.href,h.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.\u0275\u0275NgOnChangesFeature]}),n})();function um(n){return""===n||!!n}class pA{}class gA{preload(e,t){return et(null)}}let mA=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new dA(o,r,w=>t.triggerEvent(new ET(w)),w=>t.triggerEvent(new bT(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof C_),I_(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Xe.D)(o).pipe((0,fn.J)(),(0,St.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Zs.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(mi),h.\u0275\u0275inject(h.Compiler),h.\u0275\u0275inject(h.Injector),h.\u0275\u0275inject(pA))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),pD=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof YC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof C_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof IT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new IT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.\u0275\u0275invalidFactory()},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Bf=new h.InjectionToken("ROUTER_CONFIGURATION"),yA=new h.InjectionToken("ROUTER_FORROOT_GUARD"),rM=[C.Location,{provide:PT,useClass:OT},{provide:mi,useFactory:function uM(n,e,t,r,o,u,d={},m,w){const x=new mi(null,n,e,t,r,o,TT(u));return m&&(x.urlHandlingStrategy=m),w&&(x.routeReuseStrategy=w),function lM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),d.enableTracing&&x.events.subscribe(F=>{var $,ie;null===($=console.group)||void 0===$||$.call(console,`Router Event: ${F.constructor.name}`),console.log(F.toString()),console.log(F),null===(ie=console.groupEnd)||void 0===ie||ie.call(console)}),x},deps:[PT,R_,C.Location,h.Injector,h.Compiler,fD,Bf,[class qx{},new h.Optional],[class Gx{},new h.Optional]]},R_,{provide:Yd,useFactory:function cM(n){return n.routerState.root},deps:[mi]},mA,gA,class nM{preload(e,t){return t().pipe(Qd(()=>et(null)))}},{provide:Bf,useValue:{enableTracing:!1}}];function iM(){return new h.NgProbeToken("Router",mi)}let vA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[rM,_A(t),{provide:yA,useFactory:aM,deps:[[mi,new h.Optional,new h.SkipSelf]]},{provide:Bf,useValue:r||{}},{provide:C.LocationStrategy,useFactory:oM,deps:[C.PlatformLocation,[new h.Inject(C.APP_BASE_HREF),new h.Optional],Bf]},{provide:pD,useFactory:sM,deps:[mi,C.ViewportScroller,Bf]},{provide:pA,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gA},{provide:h.NgProbeToken,multi:!0,useFactory:iM},[gD,{provide:h.APP_INITIALIZER,multi:!0,useFactory:dM,deps:[gD]},{provide:wA,useFactory:hM,deps:[gD]},{provide:h.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:wA}]]}}static forChild(t){return{ngModule:n,providers:[_A(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(yA,8),h.\u0275\u0275inject(mi,8))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({}),n})();function sM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new pD(n,e,t)}function oM(n,e,t={}){return t.useHash?new C.HashLocationStrategy(n,e):new C.PathLocationStrategy(n,e)}function aM(n){return"guarded"}function _A(n){return[{provide:h.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:fD,multi:!0,useValue:n}]}let gD=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oc.x}appInitializer(){return this.injector.get(C.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(mi),d=this.injector.get(Bf);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Bf),o=this.injector.get(mA),u=this.injector.get(pD),d=this.injector.get(mi),m=this.injector.get(h.ApplicationRef);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(h.Injector))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function dM(n){return n.appInitializer.bind(n)}function hM(n){return n.bootstrapListener.bind(n)}const wA=new h.InjectionToken("Router Initializer");function pM(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",8)(1,"a",9),h.\u0275\u0275text(2,"Dashboard "),h.\u0275\u0275elementStart(3,"span",10),h.\u0275\u0275text(4," (current) "),h.\u0275\u0275elementEnd()()())}function gM(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",11)(1,"a",12),h.\u0275\u0275text(2,"Register"),h.\u0275\u0275elementEnd()())}function mM(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",11)(1,"a",13),h.\u0275\u0275text(2,"Login"),h.\u0275\u0275elementEnd()())}function yM(n,e){if(1&n&&(h.\u0275\u0275elementStart(0,"li",11)(1,"a",12),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd()()),2&n){const t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(t.username)}}function vM(n,e){if(1&n){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"li",11)(1,"a",14),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext().onLogOut()}),h.\u0275\u0275text(2,"logout"),h.\u0275\u0275elementEnd()()}}let _M=(()=>{class n{constructor(t,r,o){this.authservice=t,this.flashMesssage=r,this.route=o,this.isLogin=!1}ngOnInit(){this.authservice.getAuth().subscribe(t=>{t?(this.isLogin=!0,this.username=t.email):this.isLogin=!1})}onLogOut(){return this.authservice.logOut(),this.route.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(sm),h.\u0275\u0275directiveInject(jc.GQ),h.\u0275\u0275directiveInject(mi))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["navbar"]],decls:12,vars:5,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-primary"],["routerlink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#collapsibleNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-lg-up"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],["class","nav-item active",4,"ngIf"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item","active"],["routerLink","/",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"],["routerLink","#",1,"nav-link",3,"click"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"nav",0)(1,"a",1),h.\u0275\u0275text(2,"Navbar"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(3,"button",2),h.\u0275\u0275elementStart(4,"div",3)(5,"ul",4),h.\u0275\u0275template(6,pM,5,0,"li",5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"ul",6),h.\u0275\u0275template(8,gM,3,0,"li",7),h.\u0275\u0275template(9,mM,3,0,"li",7),h.\u0275\u0275template(10,yM,3,1,"li",7),h.\u0275\u0275template(11,vM,3,0,"li",7),h.\u0275\u0275elementEnd()()()),2&t&&(h.\u0275\u0275advance(6),h.\u0275\u0275property("ngIf",r.isLogin),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",!r.isLogin),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!r.isLogin),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",r.isLogin),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",r.isLogin))},directives:[C.NgIf,Xd],styles:[""]}),n})(),wM=(()=>{class n{constructor(){this.title="angularClientPanel"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(h.\u0275\u0275element(0,"navbar"),h.\u0275\u0275elementStart(1,"div",0),h.\u0275\u0275element(2,"flash-messages")(3,"router-outlet"),h.\u0275\u0275elementEnd())},directives:[_M,jc.cS,lD],styles:[""]}),n})(),k_=(()=>{class n{constructor(t){this.afs=t,this.clientsColl=this.afs.collection("clients")}getClients(t){return this.afs.collection("clients",r=>r.where("user","==",t)).snapshotChanges().pipe((0,St.U)(r=>r.map(o=>{const u=o.payload.doc.data();return Object.assign({id:o.payload.doc.id},u)})))}newClient(t){this.clientsColl.add(t)}getClient(t){return this.clientsColl.doc(t).valueChanges()}updateClient(t){this.clientsDoc=this.clientsColl.doc(t.id),this.clientsDoc.update(t)}removeClient(t){this.clientsDoc=this.clientsColl.doc(t),this.clientsDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Pa))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F_=function(n){return{"is-invalid":n}};let EM=(()=>{class n{constructor(t,r,o,u){this.cls=t,this.route=r,this.fm=o,this.authSvc=u,this.client={firstName:"",lastName:"",email:"",phone:0,balance:0,user:""}}ngOnInit(){this.authSvc.getAuth().subscribe(t=>{this.client.user=t.uid})}onSubmit(){return this.cls.newClient(this.client),this.fm.show("client added successfully",{cssClass:"alert-success",timeout:5e3}),this.route.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(k_),h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(jc.GQ),h.\u0275\u0275directiveInject(sm))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-add-client"]],decls:59,vars:30,consts:[[1,"row","m-3"],[1,"col-md-12"],["routerLink","/"],["aria-hidden","true",1,"fa","fa-arrow-circle-left"],[1,"row"],[1,"card"],[1,"card-body"],[1,"card-title"],["aria-hidden","true",1,"fa","fa-user"],[3,"ngSubmit"],["fClient","ngForm"],[1,"form-group"],["for",""],["type","text","name","firstName","required","","minlength","3",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["clientLastName","ngModel"],["type","text","name","email","required","","minlength","10",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientEmail","ngModel"],["type","text","name","phone","required","","minlength","10",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientPhone","ngModel"],["type","text","name","balance","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientBalance","ngModel"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"]],template:function(t,r){if(1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"a",2),h.\u0275\u0275element(3,"i",3),h.\u0275\u0275text(4,"Back to dashboard"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(5,"div",4)(6,"div",1)(7,"div",5)(8,"div",6)(9,"h4",7),h.\u0275\u0275element(10,"i",8),h.\u0275\u0275text(11,"New client"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"form",9,10),h.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),h.\u0275\u0275elementStart(14,"div",11)(15,"label",12),h.\u0275\u0275text(16,"FirstName"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"input",13,14),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.firstName=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"div",15),h.\u0275\u0275text(20," FirstName is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",15),h.\u0275\u0275text(22," Must be at least 3 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(23,"div",11)(24,"label",12),h.\u0275\u0275text(25,"LaststName"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"input",13,16),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.lastName=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"div",15),h.\u0275\u0275text(29," LastName is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(30,"div",15),h.\u0275\u0275text(31," Must be at least 3 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(32,"div",11)(33,"label",12),h.\u0275\u0275text(34,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(35,"input",17,18),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.email=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"div",15),h.\u0275\u0275text(38," Email is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(39,"div",15),h.\u0275\u0275text(40," must be at least 4 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(41,"div",11)(42,"label",12),h.\u0275\u0275text(43,"Phone"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"input",19,20),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.phone=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"div",15),h.\u0275\u0275text(47," Phone is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(48,"div",15),h.\u0275\u0275text(49," must be at least 10 numbers "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(50,"div",11)(51,"label",12),h.\u0275\u0275text(52,"Balance"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(53,"input",21,22),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.balance=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"div",15),h.\u0275\u0275text(56," Balance is required "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(57,"button",23),h.\u0275\u0275text(58,"Add"),h.\u0275\u0275elementEnd()()()()()()),2&t){const o=h.\u0275\u0275reference(13),u=h.\u0275\u0275reference(18),d=h.\u0275\u0275reference(27),m=h.\u0275\u0275reference(36),w=h.\u0275\u0275reference(45),x=h.\u0275\u0275reference(54);h.\u0275\u0275advance(17),h.\u0275\u0275property("ngModel",r.client.firstName)("ngClass",h.\u0275\u0275pureFunction1(20,F_,u.errors&&u.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.lastName)("ngClass",h.\u0275\u0275pureFunction1(22,F_,d.errors&&d.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.email)("ngClass",h.\u0275\u0275pureFunction1(24,F_,m.errors&&m.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.phone)("ngClass",h.\u0275\u0275pureFunction1(26,F_,w.errors&&w.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.balance)("ngClass",h.\u0275\u0275pureFunction1(28,F_,x.errors&&x.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=x.errors&&x.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("disabled",!o.valid)}},directives:[Xd,$l,Xo,Nt,pu,b_,ab,Bc,Gu,C.NgClass],styles:[""]}),n})();var bM=j(5226),EA=j.n(bM);function IM(n,e){if(1&n){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"tr",15),h.\u0275\u0275listener("click",function(){const u=h.\u0275\u0275restoreView(t).$implicit;return h.\u0275\u0275nextContext().deleteClient(u.id)}),h.\u0275\u0275elementStart(1,"td",16),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"td"),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"td"),h.\u0275\u0275text(6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"td"),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"td"),h.\u0275\u0275text(10),h.\u0275\u0275pipe(11,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"td",4)(13,"a",17),h.\u0275\u0275element(14,"i",18),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"a",19),h.\u0275\u0275element(16,"i",20),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"a",21),h.\u0275\u0275element(18,"i",22),h.\u0275\u0275elementEnd()()()}if(2&n){const t=e.$implicit;h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",t.firstName,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",t.lastName,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",t.email,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",t.phone," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind3(11,7,t.balance,"USD","symbol")," "),h.\u0275\u0275advance(3),h.\u0275\u0275propertyInterpolate1("routerLink","/client/",t.id,""),h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate1("routerLink","/client/edit/",t.id,"")}}let CM=(()=>{class n{constructor(t,r,o,u){this.Cls=t,this.Fm=r,this.router=o,this.as=u,this.clients=[],this.total=0}ngOnInit(){this.as.getAuth().subscribe(t=>{this.Cls.getClients(t.uid).subscribe(r=>{this.searchClient=this.clients=r,this.total=this.getTotal()})})}getTotal(){return this.clients.reduce((t,r)=>t+parseFloat(r.balance.toString()),0)}deleteClient(t){EA().fire({title:"Are you sure?",text:"You won't be able to delete this client!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(this.Cls.removeClient(t),this.Fm.show("client deleted",{cssClass:"alert-danger",timeout:4e3}),this.router.navigate(["/"]),EA().fire({title:"deleted",text:"this client is deleted",icon:"success",timer:3e3}))})}search(t){this.searchClient=t?this.clients.filter(r=>{var o,u;return(null===(o=r.firstName)||void 0===o?void 0:o.toLowerCase().includes(t.toLowerCase()))||(null===(u=r.lastName)||void 0===u?void 0:u.toLowerCase().includes(t.toLowerCase()))}):this.clients}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(k_),h.\u0275\u0275directiveInject(jc.GQ),h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(sm))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["clients"]],decls:34,vars:6,consts:[[1,"row","m-3"],[1,"col-md-6"],["routerLink","/client/add",1,"btn","btn-success"],["aria-hidden","true",1,"fa","fa-plus"],[1,"text-right"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","text","placeholder","Search...",1,"form-control",3,"keyup"],["query",""],[1,"table-responsive"],[1,"table","table-striped"],[1,"table-light"],[1,"table-group-divider"],["class","table-primary",3,"click",4,"ngFor","ngForOf"],[1,"table-primary",3,"click"],["scope","row"],[1,"btn","btn-info",3,"routerLink"],["aria-hidden","true",1,"fa","fa-info-circle"],[1,"btn","btn-warning",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil"],["routerLink","/",1,"btn","btn-dark"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(t,r){if(1&t){const o=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"a",2),h.\u0275\u0275element(3,"i",3),h.\u0275\u0275text(4,"New client "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(5,"div",1)(6,"h4",4),h.\u0275\u0275text(7),h.\u0275\u0275pipe(8,"currency"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(9,"div",5)(10,"div",6)(11,"h4",7),h.\u0275\u0275text(12,"List Clients"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"input",8,9),h.\u0275\u0275listener("keyup",function(){h.\u0275\u0275restoreView(o);const d=h.\u0275\u0275reference(14);return r.search(d.value)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(15,"div",10)(16,"table",11)(17,"thead",12)(18,"tr")(19,"th"),h.\u0275\u0275text(20,"firstName"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"th"),h.\u0275\u0275text(22,"lastName "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(23,"th"),h.\u0275\u0275text(24,"Email "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"th"),h.\u0275\u0275text(26,"Phone"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"th"),h.\u0275\u0275text(28,"Balance"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"th"),h.\u0275\u0275text(30,"#Action"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(31,"tbody",13),h.\u0275\u0275template(32,IM,19,11,"tr",14),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(33,"tfoot"),h.\u0275\u0275elementEnd()()()()}2&t&&(h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate1("Total :",h.\u0275\u0275pipeBind3(8,2,r.total,"USD","symbol"),""),h.\u0275\u0275advance(25),h.\u0275\u0275property("ngForOf",r.searchClient))},directives:[Xd,C.NgForOf],pipes:[C.CurrencyPipe],styles:[""]}),n})(),DM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-dashboard"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-md-12"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1),h.\u0275\u0275element(2,"clients"),h.\u0275\u0275elementEnd()())},directives:[CM],styles:[""]}),n})();function TM(n,e){if(1&n){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div")(1,"form",22),h.\u0275\u0275listener("submit",function(){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext().onSubmit()}),h.\u0275\u0275elementStart(2,"div",23)(3,"input",24),h.\u0275\u0275listener("ngModelChange",function(o){return h.\u0275\u0275restoreView(t),h.\u0275\u0275nextContext().client.balance=o}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",25)(5,"button",26),h.\u0275\u0275text(6,"Update"),h.\u0275\u0275elementEnd()()()()()}if(2&n){const t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(3),h.\u0275\u0275property("ngModel",t.client.balance)}}const AM=function(n,e){return{"text-danger":n,"text-success":e}};let SM=(()=>{class n{constructor(t,r,o,u){this.clientService=t,this.router=r,this.route=o,this.Fm=u,this.showBalance=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(t=>{this.client=t})}onSubmit(){this.client.id=this.id,this.clientService.updateClient(this.client),this.Fm.show("Balance updated",{cssClass:"alert-warning",timeout:4e3})}deleteClient(t){confirm("are you sure to delete this client ??")?(this.clientService.removeClient(t),this.Fm.show("client deleted",{cssClass:"alert-danger",timeout:4e3}),this.router.navigate(["/"])):this.Fm.show("client not deleted ",{cssClass:"alert-danger",timeout:4e3})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(k_),h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(Yd),h.\u0275\u0275directiveInject(jc.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-datails-client"]],decls:43,vars:16,consts:[[1,"row","m-3"],[1,"col-md-6"],["routerLink","/"],["aria-hidden","true",1,"fa","fa-arrow-circle-left"],[1,"btn-group","pull-right"],[1,"btn","btn-danger",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"btn","btn-dark",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col-md-8"],[1,"list-group"],[1,"list-group-item"],[1,"col-md-4","text-right"],[1,"h5"],[1,"btn","btn-success",3,"click"],[3,"ngClass"],[4,"ngIf"],[1,"col-md-12"],[3,"submit"],[1,"input-group"],["type","text","name","balance",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-group"],[1,"btn","btn-warning"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"a",2),h.\u0275\u0275element(3,"i",3),h.\u0275\u0275text(4," Go to dashboard "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(5,"div",1)(6,"div",4)(7,"button",5),h.\u0275\u0275element(8,"i",6),h.\u0275\u0275text(9,"Edit"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"button",7),h.\u0275\u0275listener("click",function(){return r.deleteClient(r.id)}),h.\u0275\u0275element(11,"i",8),h.\u0275\u0275text(12,"Delete"),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(13,"div",9)(14,"div",10)(15,"h4",11),h.\u0275\u0275text(16),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",12)(18,"div",13)(19,"ul",14)(20,"li",15),h.\u0275\u0275text(21,"Id : "),h.\u0275\u0275elementStart(22,"strong"),h.\u0275\u0275text(23),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(24,"li",15),h.\u0275\u0275text(25,"phone : "),h.\u0275\u0275elementStart(26,"strong"),h.\u0275\u0275text(27),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(28,"li",15),h.\u0275\u0275text(29,"email : "),h.\u0275\u0275elementStart(30,"strong"),h.\u0275\u0275text(31),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(32,"div",16)(33,"span",17),h.\u0275\u0275text(34,"balance"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(35,"button",18),h.\u0275\u0275listener("click",function(){return r.showBalance=!r.showBalance}),h.\u0275\u0275element(36,"i",6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"h4",19),h.\u0275\u0275text(38),h.\u0275\u0275pipe(39,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(40,TM,7,1,"div",20),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(41,"div",12),h.\u0275\u0275element(42,"div",21),h.\u0275\u0275elementEnd()),2&t&&(h.\u0275\u0275advance(7),h.\u0275\u0275propertyInterpolate1("routerLink","/client/edit/",r.id,""),h.\u0275\u0275advance(9),h.\u0275\u0275textInterpolate2(" ",null==r.client?null:r.client.firstName," ",null==r.client?null:r.client.lastName,""),h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate1(" ",r.id," "),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",null==r.client?null:r.client.phone," "),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(null==r.client?null:r.client.email),h.\u0275\u0275advance(6),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction2(13,AM,r.showBalance,!r.showBalance)),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind3(39,9,null==r.client?null:r.client.balance,"USD","symbol")),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",r.showBalance))},directives:[Xd,Ib,C.NgClass,C.NgIf,$l,Xo,Nt,pu,Bc,Gu],pipes:[C.CurrencyPipe],styles:[""]}),n})();const L_=function(n){return{"is-invalid":n}};let xM=(()=>{class n{constructor(t,r,o,u){this.clientService=t,this.router=r,this.route=o,this.Fm=u,this.client={firstName:"",lastName:"",email:" ",phone:0,balance:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(t=>{this.client=t})}onSubmit(){this.client.id=this.id,this.clientService.updateClient(this.client),this.Fm.show("client Updated",{cssClass:"alert-info",timeout:4e3}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(k_),h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(Yd),h.\u0275\u0275directiveInject(jc.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-edit-client"]],decls:59,vars:30,consts:[[1,"row","m-3"],[1,"col-md-12"],["routerLink","/"],["aria-hidden","true",1,"fa","fa-arrow-circle-left"],[1,"row"],[1,"card"],[1,"card-body"],[1,"card-title"],["aria-hidden","true",1,"fa","fa-user"],[3,"ngSubmit"],["fClient","ngForm"],[1,"form-group"],["for",""],["type","text","name","firstName","required","","minlength","3",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["clientLastName","ngModel"],["type","text","name","email","required","","minlength","10",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientEmail","ngModel"],["type","text","name","phone","required","","minlength","10",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientPhone","ngModel"],["type","text","name","balance","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientBalance","ngModel"],["type","submit",1,"btn","btn-warning","btn-lg","btn-block",3,"disabled"]],template:function(t,r){if(1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"a",2),h.\u0275\u0275element(3,"i",3),h.\u0275\u0275text(4,"Back to dashboard"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(5,"div",4)(6,"div",1)(7,"div",5)(8,"div",6)(9,"h4",7),h.\u0275\u0275element(10,"i",8),h.\u0275\u0275text(11,"Update client"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"form",9,10),h.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),h.\u0275\u0275elementStart(14,"div",11)(15,"label",12),h.\u0275\u0275text(16,"FirstName"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"input",13,14),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.firstName=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"div",15),h.\u0275\u0275text(20," FirstName is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",15),h.\u0275\u0275text(22," Must be at least 3 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(23,"div",11)(24,"label",12),h.\u0275\u0275text(25,"LaststName"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(26,"input",13,16),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.lastName=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"div",15),h.\u0275\u0275text(29," LastName is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(30,"div",15),h.\u0275\u0275text(31," Must be at least 3 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(32,"div",11)(33,"label",12),h.\u0275\u0275text(34,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(35,"input",17,18),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.email=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"div",15),h.\u0275\u0275text(38," Email is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(39,"div",15),h.\u0275\u0275text(40," must be at least 4 characters "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(41,"div",11)(42,"label",12),h.\u0275\u0275text(43,"Phone"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(44,"input",19,20),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.phone=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"div",15),h.\u0275\u0275text(47," Phone is required "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(48,"div",15),h.\u0275\u0275text(49," must be at least 10 numbers "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(50,"div",11)(51,"label",12),h.\u0275\u0275text(52,"Balance"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(53,"input",21,22),h.\u0275\u0275listener("ngModelChange",function(u){return r.client.balance=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"div",15),h.\u0275\u0275text(56," Balance is required "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(57,"button",23),h.\u0275\u0275text(58,"Update"),h.\u0275\u0275elementEnd()()()()()()),2&t){const o=h.\u0275\u0275reference(13),u=h.\u0275\u0275reference(18),d=h.\u0275\u0275reference(27),m=h.\u0275\u0275reference(36),w=h.\u0275\u0275reference(45),x=h.\u0275\u0275reference(54);h.\u0275\u0275advance(17),h.\u0275\u0275property("ngModel",r.client.firstName)("ngClass",h.\u0275\u0275pureFunction1(20,L_,u.errors&&u.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.lastName)("ngClass",h.\u0275\u0275pureFunction1(22,L_,d.errors&&d.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.email)("ngClass",h.\u0275\u0275pureFunction1(24,L_,m.errors&&m.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.phone)("ngClass",h.\u0275\u0275pureFunction1(26,L_,w.errors&&w.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.balance)("ngClass",h.\u0275\u0275pureFunction1(28,L_,x.errors&&x.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=x.errors&&x.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("disabled",!o.valid)}},directives:[Xd,$l,Xo,Nt,pu,b_,ab,Bc,Gu,C.NgClass],styles:[""]}),n})(),MM=(()=>{class n{constructor(t,r,o){this.authService=t,this.flashMessage=r,this.route=o}ngOnInit(){}onLogin(){this.authService.login(this.email,this.password).then(t=>{t&&(this.flashMessage.show("you are logged successufully",{cssClass:"alert-success",timeout:2e3}),this.route.navigate(["/"]))}).catch(t=>{this.flashMessage.show(t.message,{cssClass:"alert-danger",timeout:1e4}),this.route.navigate(["/"])})}onLoginWithGoogle(){this.authService.loginWithGoogle().then(t=>{t&&(this.flashMessage.show("you are logged successufully",{cssClass:"alert-success",timeout:2e3}),this.route.navigate(["/"]))}).catch(t=>{this.flashMessage.show(t.message,{cssClass:"alert-danger",timeout:1e4}),this.route.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(sm),h.\u0275\u0275directiveInject(jc.GQ),h.\u0275\u0275directiveInject(mi))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"row","mt-4"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-canter"],[1,"text-primary"],["aria-hidden","true",1,"fa","fa-lock"],[3,"ngSubmit"],[1,"group-form"],["for",""],["type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-primary","btn-lg","btn-block"],["type","submit",1,"btn","btn-danger","btn-lg","btn-block",3,"click"],["aria-hidden","true",1,"fa","fa-google-plus"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),h.\u0275\u0275element(6,"i",6),h.\u0275\u0275text(7," Login Panel "),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(8,"Client "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"form",7),h.\u0275\u0275listener("ngSubmit",function(){return r.onLogin()}),h.\u0275\u0275elementStart(10,"div",8)(11,"label",9),h.\u0275\u0275text(12,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"input",10),h.\u0275\u0275listener("ngModelChange",function(u){return r.email=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(14,"div",8)(15,"label",9),h.\u0275\u0275text(16,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"input",11),h.\u0275\u0275listener("ngModelChange",function(u){return r.password=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(18,"br")(19,"input",12)(20,"br")(21,"br"),h.\u0275\u0275elementStart(22,"button",13),h.\u0275\u0275listener("click",function(){return r.onLoginWithGoogle()}),h.\u0275\u0275element(23,"i",14),h.\u0275\u0275text(24,"Google Account "),h.\u0275\u0275elementEnd()()()()()()),2&t&&(h.\u0275\u0275advance(13),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},directives:[$l,Xo,Nt,pu,Bc,Gu],styles:[""]}),n})(),RM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"not-found works!"),h.\u0275\u0275elementEnd())},styles:[""]}),n})(),NM=(()=>{class n{constructor(t,r,o){this.authservice=t,this.route=r,this.Fm=o}ngOnInit(){}onRegister(){this.authservice.Regsiter(this.email,this.password).then(t=>{this.Fm.show("Registred successufully",{cssClass:"alert-success",timeOut:2e3}),this.route.navigate(["/login"])}).catch(t=>{this.Fm.show("sorry youre registred not successufully try again ",{cssClass:"alert-danger",timeout:3e3})})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(sm),h.\u0275\u0275directiveInject(mi),h.\u0275\u0275directiveInject(jc.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-register"]],decls:20,vars:2,consts:[[1,"row","mt-4"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-canter"],[1,"text-success"],["aria-hidden","true",1,"fa","fa-lock"],[3,"ngSubmit"],[1,"group-form"],["for",""],["type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Register",1,"btn","btn-success","btn-lg","btn-block"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),h.\u0275\u0275element(6,"i",6),h.\u0275\u0275text(7," Register Panel "),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(8,"Client "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"form",7),h.\u0275\u0275listener("ngSubmit",function(){return r.onRegister()}),h.\u0275\u0275elementStart(10,"div",8)(11,"label",9),h.\u0275\u0275text(12,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"input",10),h.\u0275\u0275listener("ngModelChange",function(u){return r.email=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(14,"div",8)(15,"label",9),h.\u0275\u0275text(16,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"input",11),h.\u0275\u0275listener("ngModelChange",function(u){return r.password=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(18,"br")(19,"input",12),h.\u0275\u0275elementEnd()()()()()),2&t&&(h.\u0275\u0275advance(13),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},directives:[$l,Xo,Nt,pu,Bc,Gu],styles:[""]}),n})(),PM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-settings"]],decls:2,vars:0,template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"settings works!"),h.\u0275\u0275elementEnd())},styles:[""]}),n})(),jf=(()=>{class n{constructor(t,r){this.afAuth=t,this.route=r}canActivate(){return this.afAuth.authState.pipe((0,St.U)(t=>!!t||(this.route.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Tf),h.\u0275\u0275inject(mi))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OM=[{path:"",component:DM,canActivate:[jf]},{path:"login",component:MM},{path:"register",component:NM},{path:"client/add",component:EM,canActivate:[jf]},{path:"client/edit/:id",component:xM,canActivate:[jf]},{path:"client/:id",component:SM,canActivate:[jf]},{path:"settings",component:PM,canActivate:[jf]},{path:"**",component:RM,canActivate:[jf]}];let kM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[jf],imports:[[vA.forRoot(OM)],vA]}),n})();const bA_firebase={apiKey:"AIzaSyAENqh7Ls6I28I63KaWJC5YOj0_mA3zcpY",authDomain:"angularclientpanel-2ace0.firebaseapp.com",projectId:"angularclientpanel-2ace0",storageBucket:"angularclientpanel-2ace0.appspot.com",messagingSenderId:"765244884582",appId:"1:765244884582:web:4d7b91fd9f9e787a414fa7",measurementId:"G-FMJRYH98Y0"};let FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n,bootstrap:[wM]}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[k_,sm],imports:[[jn,kM,z.hO.initializeApp(bA_firebase),UE,DC,nS,jc.qz.forRoot()]]}),n})();(0,h.enableProdMode)(),Kn().bootstrapModule(FM).catch(n=>console.error(n))},5867:(pt,ae,j)=>{"use strict";j.d(ae,{Mq:()=>C.getApp,C6:()=>C.getApps});var C=j(9681);(0,C.registerVersion)("firebase","9.12.1","app")},127:(pt,ae,j)=>{"use strict";j.d(ae,{Z:()=>C.Z});var C=j(3942);C.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(pt,ae,j)=>{"use strict";j.r(ae);var C=j(5861),h=j(3942),V=j(7573),he=j(2090),_e=(j(9681),j(1877),j(4859));function pe(){return window}function Y(){return(Y=(0,C.Z)(function*(q,U,z){var we;const{BuildInfo:Qe}=pe();(0,V.aq)(U.sessionId,"AuthEvent did not contain a session ID");const Xe=yield Te(U.sessionId),Et={};return(0,V.ar)()?Et.ibi=Qe.packageName:(0,V.as)()?Et.apn=Qe.packageName:(0,V.at)(q,"operation-not-supported-in-this-environment"),Qe.displayName&&(Et.appDisplayName=Qe.displayName),Et.sessionId=Xe,(0,V.au)(q,z,U.type,void 0,null!==(we=U.eventId)&&void 0!==we?we:void 0,Et)})).apply(this,arguments)}function Ye(){return(Ye=(0,C.Z)(function*(q){const{BuildInfo:U}=pe(),z={};(0,V.ar)()?z.iosBundleId=U.packageName:(0,V.as)()?z.androidPackageName=U.packageName:(0,V.at)(q,"operation-not-supported-in-this-environment"),yield(0,V.av)(q,z)})).apply(this,arguments)}function Fe(){return(Fe=(0,C.Z)(function*(q,U,z){const{cordova:we}=pe();let Qe=()=>{};try{yield new Promise((Xe,Et)=>{let et=null;function rt(){var Ut;Xe();const Tn=null===(Ut=we.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Tn&&Tn(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function fn(){et||(et=window.setTimeout(()=>{Et((0,V.aw)(q,"redirect-cancelled-by-user"))},2e3))}function er(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}U.addPassiveListener(rt),document.addEventListener("resume",fn,!1),(0,V.as)()&&document.addEventListener("visibilitychange",er,!1),Qe=()=>{U.removePassiveListener(rt),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",er,!1),et&&window.clearTimeout(et)}})}finally{Qe()}})).apply(this,arguments)}function Te(q){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(q){const U=Je(q),z=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(z)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(q){if((0,V.aq)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const U=new ArrayBuffer(q.length),z=new Uint8Array(U);for(let we=0;we<q.length;we++)z[we]=q.charCodeAt(we);return z}class We extends V.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(U)),super.onEvent(U)}initialized(){var U=this;return(0,C.Z)(function*(){yield U.initPromise})()}}function fe(q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,C.Z)(function*(q){const U=yield le()._get(me(q));return U&&(yield le()._remove(me(q))),U})).apply(this,arguments)}function re(){const q=[],U="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const we=Math.floor(Math.random()*U.length);q.push(U.charAt(we))}return q.join("")}function le(){return(0,V.ay)(V.b)}function me(q){return(0,V.az)("authEvent",q.config.apiKey,q.name)}function Ge(q){if(!(null==q?void 0:q.includes("?")))return{};const[U,...z]=q.split("?");return(0,he.zd)(z.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aw)("no-auth-event")}}function Ft(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function nn(q=(0,he.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const q=self.localStorage,U=V.aI();if(q)return q.setItem(U,"1"),q.removeItem(U),!function Wt(q=(0,he.z$)()){return function kr(){return(0,he.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Hn(q=(0,he.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,he.hl)()}catch(q){return Zn()&&(0,he.hl)()}return!1}function Zn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function on(){return"http:"===Ft()||"https:"===Ft()}()||(0,he.ru)()||nn())&&!function mr(){return(0,he.b$)()||(0,he.UG)()}()&&Kn()&&!Zn()}function Ln(){return nn()&&"undefined"!=typeof document}function yr(){return(yr=(0,C.Z)(function*(){return!!Ln()&&new Promise(q=>{const U=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),q(!0)})})})).apply(this,arguments)}const Zt={LOCAL:"local",NONE:"none",SESSION:"session"},vr=V.ax,Ar="persistence";function Pn(q){return an.apply(this,arguments)}function an(){return(an=(0,C.Z)(function*(q){yield q._initializationPromise;const U=ht(),z=V.az(Ar,q.config.apiKey,q.name);U&&U.setItem(z,q._getPersistence())})).apply(this,arguments)}function ht(){var q;try{return(null===(q=function xn(){return"undefined"!=typeof window?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch(U){return null}}const Tt=V.ax;class yt{constructor(){this.browserResolver=V.ay(V.k),this.cordovaResolver=V.ay(class hn{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(U){var z=this;return(0,C.Z)(function*(){const we=U._key();let Qe=z.eventManagers.get(we);return Qe||(Qe=new We(U),z.eventManagers.set(we,Qe),z.attachCallbackListeners(U,Qe)),Qe})()}_openPopup(U){(0,V.at)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,z,we,Qe){var Xe=this;return(0,C.Z)(function*(){!function ye(q){var U,z,we,Qe,Xe,Et,et,rt,fn,er;const Ut=pe();(0,V.ax)("function"==typeof(null===(U=null==Ut?void 0:Ut.universalLinks)||void 0===U?void 0:U.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.ax)(void 0!==(null===(z=null==Ut?void 0:Ut.BuildInfo)||void 0===z?void 0:z.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.ax)("function"==typeof(null===(Xe=null===(Qe=null===(we=null==Ut?void 0:Ut.cordova)||void 0===we?void 0:we.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Xe?void 0:Xe.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(rt=null===(et=null===(Et=null==Ut?void 0:Ut.cordova)||void 0===Et?void 0:Et.plugins)||void 0===et?void 0:et.browsertab)||void 0===rt?void 0:rt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(er=null===(fn=null==Ut?void 0:Ut.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===er?void 0:er.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Et=yield Xe._initialize(U);yield Et.initialized(),Et.resetRedirect(),(0,V.aD)(),yield Xe._originValidation(U);const et=function Be(q,U,z=null){return{type:U,eventId:z,urlResponse:null,sessionId:re(),postBody:null,tenantId:q.tenantId,error:(0,V.aw)(q,"no-auth-event")}}(U,we,Qe);yield function it(q,U){return le()._set(me(q),U)}(U,et);const rt=yield function Q(q,U,z){return Y.apply(this,arguments)}(U,et,z),fn=yield function Ee(q){const{cordova:U}=pe();return new Promise(z=>{U.plugins.browsertab.isAvailable(we=>{let Qe=null;we?U.plugins.browsertab.openUrl(q):Qe=U.InAppBrowser.open(q,(0,V.ap)()?"_blank":"_system","location=yes"),z(Qe)})})}(rt);return function Me(q,U,z){return Fe.apply(this,arguments)}(U,Et,fn)})()}_isIframeWebStorageSupported(U,z){throw new Error("Method not implemented.")}_originValidation(U){const z=U._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function ue(q){return Ye.apply(this,arguments)}(U)),this.originValidationPromises[z]}attachCallbackListeners(U,z){const{universalLinks:we,handleOpenURL:Qe,BuildInfo:Xe}=pe(),Et=setTimeout((0,C.Z)(function*(){yield fe(U),z.onEvent(lt())}),500),et=function(){var er=(0,C.Z)(function*(Ut){clearTimeout(Et);const Tn=yield fe(U);let Sr=null;Tn&&(null==Ut?void 0:Ut.url)&&(Sr=function Oe(q,U){var z,we;const Qe=function be(q){const U=Ge(q),z=U.link?decodeURIComponent(U.link):void 0,we=Ge(z).link,Qe=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return Ge(Qe).link||Qe||we||z||q}(U);if(Qe.includes("/__/auth/callback")){const Xe=Ge(Qe),Et=Xe.firebaseError?function Re(q){try{return JSON.parse(q)}catch(U){return null}}(decodeURIComponent(Xe.firebaseError)):null,et=null===(we=null===(z=null==Et?void 0:Et.code)||void 0===z?void 0:z.split("auth/"))||void 0===we?void 0:we[1],rt=et?(0,V.aw)(et):null;return rt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:rt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Qe,postBody:null}}return null}(Tn,Ut.url)),z.onEvent(Sr||lt())});return function(Tn){return er.apply(this,arguments)}}();void 0!==we&&"function"==typeof we.subscribe&&we.subscribe(null,et);const rt=Qe,fn=`${Xe.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var er=(0,C.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(fn)&&et({url:Ut}),"function"==typeof rt)try{rt(Ut)}catch(Tn){console.error(Tn)}});return function(Ut){return er.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(U){var z=this;return(0,C.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,z,we,Qe){var Xe=this;return(0,C.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openPopup(U,z,we,Qe)})()}_openRedirect(U,z,we,Qe){var Xe=this;return(0,C.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openRedirect(U,z,we,Qe)})()}_isIframeWebStorageSupported(U,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,z)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Ln()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,C.Z)(function*(){if(U.underlyingResolver)return;const z=yield function mt(){return yr.apply(this,arguments)}();U.underlyingResolver=z?U.cordovaResolver:U.browserResolver})()}}function Hr(q){return q.unwrap()}function un(q){return Xn(q)}function Xn(q){const{_tokenResponse:U}=q instanceof he.ZR?q.customData:q;if(!U)return null;if(!(q instanceof he.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return V.P.credentialFromResult(q);const z=U.providerId;if(!z||z===V.o.PASSWORD)return null;let we;switch(z){case V.o.GOOGLE:we=V.Q;break;case V.o.FACEBOOK:we=V.N;break;case V.o.GITHUB:we=V.T;break;case V.o.TWITTER:we=V.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:Xe,oauthTokenSecret:Et,pendingToken:et,nonce:rt}=U;return Xe||Et||Qe||et?et?z.startsWith("saml.")?V.aL._create(z,et):V.J._fromParams({providerId:z,signInMethod:z,pendingToken:et,idToken:Qe,accessToken:Xe}):new V.U(z).credential({idToken:Qe,accessToken:Xe,rawNonce:rt}):null}return q instanceof he.ZR?we.credentialFromError(q):we.credentialFromResult(q)}function Vn(q,U){return U.catch(z=>{throw z instanceof he.ZR&&function Fr(q,U){var z,we;const Qe=null===(z=U.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===(null===(we=U)||void 0===we?void 0:we.code))U.resolver=new tn(q,V.an(q,U));else if(Qe){const Xe=Xn(U),Et=U;Xe&&(Et.credential=Xe,Et.tenantId=Qe.tenantId||void 0,Et.email=Qe.email||void 0,Et.phoneNumber=Qe.phoneNumber||void 0)}}(q,z),z}).then(z=>{const Qe=z.user;return{operationType:z.operationType,credential:un(z),additionalUserInfo:V.al(z),user:Qn.getOrCreate(Qe)}})}function At(q,U){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(q,U){const z=yield U;return{verificationId:z.verificationId,confirm:we=>Vn(q,z.confirm(we))}})).apply(this,arguments)}class tn{constructor(U,z){this.resolver=z,this.auth=function Yr(q){return q.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return Vn(Hr(this.auth),this.resolver.resolveSignIn(U))}}class Qn{constructor(U){this._delegate=U,this.multiFactor=V.ao(U)}static getOrCreate(U){return Qn.USER_MAP.has(U)||Qn.USER_MAP.set(U,new Qn(U)),Qn.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var z=this;return(0,C.Z)(function*(){return Vn(z.auth,V.Z(z._delegate,U))})()}linkWithPhoneNumber(U,z){var we=this;return(0,C.Z)(function*(){return At(we.auth,V.l(we._delegate,U,z))})()}linkWithPopup(U){var z=this;return(0,C.Z)(function*(){return Vn(z.auth,V.d(z._delegate,U,yt))})()}linkWithRedirect(U){var z=this;return(0,C.Z)(function*(){return yield Pn(V.aE(z.auth)),V.g(z._delegate,U,yt)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var z=this;return(0,C.Z)(function*(){return Vn(z.auth,V._(z._delegate,U))})()}reauthenticateWithPhoneNumber(U,z){return At(this.auth,V.r(this._delegate,U,z))}reauthenticateWithPopup(U){return Vn(this.auth,V.e(this._delegate,U,yt))}reauthenticateWithRedirect(U){var z=this;return(0,C.Z)(function*(){return yield Pn(V.aE(z.auth)),V.h(z._delegate,U,yt)})()}sendEmailVerification(U){return V.ab(this._delegate,U)}unlink(U){var z=this;return(0,C.Z)(function*(){return yield V.ak(z._delegate,U),z})()}updateEmail(U){return V.ag(this._delegate,U)}updatePassword(U){return V.ah(this._delegate,U)}updatePhoneNumber(U){return V.u(this._delegate,U)}updateProfile(U){return V.af(this._delegate,U)}verifyBeforeUpdateEmail(U,z){return V.ac(this._delegate,U,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const ct=V.ax;let $e=(()=>{class q{constructor(z,we){if(this.app=z,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=z.options;ct(Qe,"invalid-api-key",{appName:z.name}),ct(Qe,"invalid-api-key",{appName:z.name});const Xe="undefined"!=typeof window?yt:void 0;this._delegate=we.initialize({options:{persistence:kt(Qe,z.name),popupRedirectResolver:Xe}}),this._delegate._updateErrorMap(V.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,we){V.G(this._delegate,z,we)}applyActionCode(z){return V.a2(this._delegate,z)}checkActionCode(z){return V.a3(this._delegate,z)}confirmPasswordReset(z,we){return V.a1(this._delegate,z,we)}createUserWithEmailAndPassword(z,we){var Qe=this;return(0,C.Z)(function*(){return Vn(Qe._delegate,V.a5(Qe._delegate,z,we))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return V.aa(this._delegate,z)}isSignInWithEmailLink(z){return V.a8(this._delegate,z)}getRedirectResult(){var z=this;return(0,C.Z)(function*(){ct(jn(),z._delegate,"operation-not-supported-in-this-environment");const we=yield V.j(z._delegate,yt);return we?Vn(z._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function cn(q,U){(0,V.aE)(q)._logFramework(U)}(this._delegate,z)}onAuthStateChanged(z,we,Qe){const{next:Xe,error:Et,complete:et}=st(z,we,Qe);return this._delegate.onAuthStateChanged(Xe,Et,et)}onIdTokenChanged(z,we,Qe){const{next:Xe,error:Et,complete:et}=st(z,we,Qe);return this._delegate.onIdTokenChanged(Xe,Et,et)}sendSignInLinkToEmail(z,we){return V.a7(this._delegate,z,we)}sendPasswordResetEmail(z,we){return V.a0(this._delegate,z,we||void 0)}setPersistence(z){var we=this;return(0,C.Z)(function*(){let Qe;switch(function _r(q,U){vr(Object.values(Zt).includes(U),q,"invalid-persistence-type"),(0,he.b$)()?vr(U!==Zt.SESSION,q,"unsupported-persistence-type"):(0,he.UG)()?vr(U===Zt.NONE,q,"unsupported-persistence-type"):Zn()?vr(U===Zt.NONE||U===Zt.LOCAL&&(0,he.hl)(),q,"unsupported-persistence-type"):vr(U===Zt.NONE||Kn(),q,"unsupported-persistence-type")}(we._delegate,z),z){case Zt.SESSION:Qe=V.a;break;case Zt.LOCAL:Qe=(yield V.ay(V.i)._isAvailable())?V.i:V.b;break;case Zt.NONE:Qe=V.L;break;default:return V.at("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Vn(this._delegate,V.X(this._delegate))}signInWithCredential(z){return Vn(this._delegate,V.Y(this._delegate,z))}signInWithCustomToken(z){return Vn(this._delegate,V.$(this._delegate,z))}signInWithEmailAndPassword(z,we){return Vn(this._delegate,V.a6(this._delegate,z,we))}signInWithEmailLink(z,we){return Vn(this._delegate,V.a9(this._delegate,z,we))}signInWithPhoneNumber(z,we){return At(this._delegate,V.s(this._delegate,z,we))}signInWithPopup(z){var we=this;return(0,C.Z)(function*(){return ct(jn(),we._delegate,"operation-not-supported-in-this-environment"),Vn(we._delegate,V.c(we._delegate,z,yt))})()}signInWithRedirect(z){var we=this;return(0,C.Z)(function*(){return ct(jn(),we._delegate,"operation-not-supported-in-this-environment"),yield Pn(we._delegate),V.f(we._delegate,z,yt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return V.a4(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Zt,q})();function st(q,U,z){let we=q;"function"!=typeof q&&({next:we,error:U,complete:z}=q);const Qe=we;return{next:Et=>Qe(Et&&Qn.getOrCreate(Et)),error:U,complete:z}}function kt(q,U){const z=function wr(q,U){const z=ht();if(!z)return[];const we=V.az(Ar,q,U);switch(z.getItem(we)){case Zt.NONE:return[V.L];case Zt.LOCAL:return[V.i,V.a];case Zt.SESSION:return[V.a];default:return[]}}(q,U);if("undefined"!=typeof self&&!z.includes(V.i)&&z.push(V.i),"undefined"!=typeof window)for(const we of[V.b,V.a])z.includes(we)||z.push(we);return z.includes(V.L)||z.push(V.L),z}class Pt{constructor(){this.providerId="phone",this._delegate=new V.P(Hr(h.Z.auth()))}static credential(U,z){return V.P.credential(U,z)}verifyPhoneNumber(U,z){return this._delegate.verifyPhoneNumber(U,z)}unwrap(){return this._delegate}}Pt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Pt.PROVIDER_ID=V.P.PROVIDER_ID;const gn=V.ax;class J{constructor(U,z,we=h.Z.app()){var Qe;gn(null===(Qe=we.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new V.R(U,z,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ne(q){q.INTERNAL.registerComponent(new _e.wA("auth-compat",U=>{const z=U.getProvider("app-compat").getImmediate(),we=U.getProvider("auth");return new $e(z,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.M,FacebookAuthProvider:V.N,GithubAuthProvider:V.T,GoogleAuthProvider:V.Q,OAuthProvider:V.U,SAMLAuthProvider:V.V,PhoneAuthProvider:Pt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:J,TwitterAuthProvider:V.W,Auth:$e,AuthCredential:V.H,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.23")}(h.Z)},4497:(pt,ae)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var j=function(){function C(h,V,he,ce){this.id=C.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,h&&(this.text=h),V&&(this.cssClass=V),he&&(this.closeOnClick=he),ce&&(this.showCloseBtn=ce)}return C.nextId=0,C}();ae.FlashMessage=j},2570:function(pt,ae,j){"use strict";var C=j(5e3),h=j(5673),V=j(9808);function he(Ee,Me){1&Ee&&C.\u0275\u0275element(0,"div",3)}function ce(Ee,Me){if(1&Ee){var Fe=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",7),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(Fe);var Te=C.\u0275\u0275nextContext().$implicit;return C.\u0275\u0275nextContext().close(Te)}),C.\u0275\u0275elementStart(1,"span",8),C.\u0275\u0275text(2,"\xd7"),C.\u0275\u0275elementEnd()()}}var De=function(Ee){return{"alert-dismissible":Ee}};function _e(Ee,Me){if(1&Ee){var Fe=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",4),C.\u0275\u0275listener("click",function(){var Je=C.\u0275\u0275restoreView(Fe).$implicit;return C.\u0275\u0275nextContext().alertClicked(Je)}),C.\u0275\u0275template(1,ce,3,0,"button",5),C.\u0275\u0275element(2,"div",6),C.\u0275\u0275elementEnd()}if(2&Ee){var ye=Me.$implicit;C.\u0275\u0275classMapInterpolate1("alert flash-message ",ye.cssClass,""),C.\u0275\u0275styleProp("cursor",ye.closeOnClick?"pointer":"inherit"),C.\u0275\u0275property("ngClass",C.\u0275\u0275pureFunction1(8,De,ye.showCloseBtn)),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",ye.showCloseBtn),C.\u0275\u0275advance(1),C.\u0275\u0275property("innerHTML",ye.text,C.\u0275\u0275sanitizeHtml)}}var pe=this&&this.__decorate||function(Ee,Me,Fe,ye){var Je,Te=arguments.length,Ve=Te<3?Me:null===ye?ye=Object.getOwnPropertyDescriptor(Me,Fe):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(Ee,Me,Fe,ye);else for(var ze=Ee.length-1;ze>=0;ze--)(Je=Ee[ze])&&(Ve=(Te<3?Je(Ve):Te>3?Je(Me,Fe,Ve):Je(Me,Fe))||Ve);return Te>3&&Ve&&Object.defineProperty(Me,Fe,Ve),Ve},xe=this&&this.__metadata||function(Ee,Me){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ee,Me)};Object.defineProperty(ae,"__esModule",{value:!0});var Q=j(5e3),Y=j(4497),ue=j(5673),Ye=function(){function Ee(Me,Fe){this._flashMessagesService=Me,this._cdRef=Fe,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return Ee.prototype.ngOnInit=function(){},Ee.prototype.show=function(Me,Fe){var ye=this;void 0===Fe&&(Fe={});var Te={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ve in Fe)Te[Ve]=Fe[Ve];var Je=new Y.FlashMessage(Me,Te.cssClass,Te.closeOnClick,Te.showCloseBtn);Je.timer=window.setTimeout(function(){ye._remove(Je),ye._cdRef.detectChanges()},Te.timeout),this.messages.push(Je),this._cdRef.detectChanges()},Ee.prototype.close=function(Me){clearTimeout(Me.timer),this._remove(Me),this._cdRef.detectChanges()},Ee.prototype.alertClicked=function(Me){Me.closeOnClick&&this.close(Me)},Ee.prototype.grayOut=function(Me){void 0===Me&&(Me=!1),this._grayOut=Me},Ee.prototype._remove=function(Me){this.messages=this.messages.filter(function(Fe){return Fe.id!==Me.id})},(Ee=pe([xe("design:paramtypes",[ue.FlashMessagesService,Q.ChangeDetectorRef])],Ee)).\u0275fac=function(Fe){return new(Fe||Ee)(C.\u0275\u0275directiveInject(h.FlashMessagesService),C.\u0275\u0275directiveInject(C.ChangeDetectorRef))},Ee.\u0275cmp=C.\u0275\u0275defineComponent({type:Ee,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Fe,ye){1&Fe&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275template(1,he,1,0,"div",1),C.\u0275\u0275template(2,_e,3,10,"div",2),C.\u0275\u0275elementEnd()),2&Fe&&(C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",ye._grayOut&&ye.messages.length),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngForOf",ye.messages))},directives:[V.NgIf,V.NgForOf,V.NgClass],encapsulation:2}),Ee}();ae.FlashMessagesComponent=Ye},5673:function(pt,ae,j){"use strict";var C=j(5e3);Object.defineProperty(ae,"__esModule",{value:!0}),j(5e3);var he=function(){function ce(){}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275prov=C.\u0275\u0275defineInjectable({token:ce,factory:function(De){return ce.\u0275fac(De)}}),ce}();ae.FlashMessagesService=he},3241:(pt,ae,j)=>{var h=j(2570),V=j(8533);ae.qz=V.FlashMessagesModule;var he=j(5673);ae.GQ=he.FlashMessagesService,ae.cS=h.FlashMessagesComponent},8533:function(pt,ae,j){"use strict";var C=j(5e3);j(2570),j(9808),Object.defineProperty(ae,"__esModule",{value:!0}),j(5e3);var De=j(9808),pe=(j(2570),j(5673)),xe=function(){function Q(){}var Y;return Y=Q,Q.forRoot=function(){return{ngModule:Y,providers:[pe.FlashMessagesService]}},Q.\u0275fac=function(Ye){return new(Ye||Q)},Q.\u0275mod=C.\u0275\u0275defineNgModule({type:Q}),Q.\u0275inj=C.\u0275\u0275defineInjector({providers:[],imports:[[De.CommonModule]]}),Q}();ae.FlashMessagesModule=xe},8306:(pt,ae,j)=>{"use strict";j.d(ae,{y:()=>Q});var C=j(2961),h=j(727),V=j(8822),he=j(4671);var _e=j(2416),pe=j(576),xe=j(2806);let Q=(()=>{class Ee{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const ye=new Ee;return ye.source=this,ye.operator=Fe,ye}subscribe(Fe,ye,Te){const Ve=function Ye(Ee){return Ee&&Ee instanceof C.Lv||function ue(Ee){return Ee&&(0,pe.m)(Ee.next)&&(0,pe.m)(Ee.error)&&(0,pe.m)(Ee.complete)}(Ee)&&(0,h.Nn)(Ee)}(Fe)?Fe:new C.Hp(Fe,ye,Te);return(0,xe.x)(()=>{const{operator:Je,source:ze}=this;Ve.add(Je?Je.call(Ve,ze):ze?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(ye){Fe.error(ye)}}forEach(Fe,ye){return new(ye=Y(ye))((Te,Ve)=>{const Je=new C.Hp({next:ze=>{try{Fe(ze)}catch(We){Ve(We),Je.unsubscribe()}},error:Ve,complete:Te});this.subscribe(Je)})}_subscribe(Fe){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Fe)}[V.L](){return this}pipe(...Fe){return function De(Ee){return 0===Ee.length?he.y:1===Ee.length?Ee[0]:function(Fe){return Ee.reduce((ye,Te)=>Te(ye),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=Y(Fe))((ye,Te)=>{let Ve;this.subscribe(Je=>Ve=Je,Je=>Te(Je),()=>ye(Ve))})}}return Ee.create=Me=>new Ee(Me),Ee})();function Y(Ee){var Me;return null!==(Me=null!=Ee?Ee:_e.v.Promise)&&void 0!==Me?Me:Promise}},7579:(pt,ae,j)=>{"use strict";j.d(ae,{x:()=>_e});var C=j(8306),h=j(727);const he=(0,j(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=j(8737),De=j(2806);let _e=(()=>{class xe extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ue=new pe(this,this);return ue.operator=Y,ue}_throwIfClosed(){if(this.closed)throw new he}next(Y){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(Y)}})}error(Y){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ue}=this;for(;ue.length;)ue.shift().error(Y)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ue,isStopped:Ye,observers:Ee}=this;return ue||Ye?h.Lc:(this.currentObservers=null,Ee.push(Y),new h.w0(()=>{this.currentObservers=null,(0,ce.P)(Ee,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ue,thrownError:Ye,isStopped:Ee}=this;ue?Y.error(Ye):Ee&&Y.complete()}asObservable(){const Y=new C.y;return Y.source=this,Y}}return xe.create=(Q,Y)=>new pe(Q,Y),xe})();class pe extends _e{constructor(Q,Y){super(),this.destination=Q,this.source=Y}next(Q){var Y,ue;null===(ue=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ue||ue.call(Y,Q)}error(Q){var Y,ue;null===(ue=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ue||ue.call(Y,Q)}complete(){var Q,Y;null===(Y=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Y||Y.call(Q)}_subscribe(Q){var Y,ue;return null!==(ue=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Q))&&void 0!==ue?ue:h.Lc}}},2961:(pt,ae,j)=>{"use strict";j.d(ae,{Hp:()=>Fe,Lv:()=>ue});var C=j(576),h=j(727),V=j(2416),he=j(7849);function ce(){}const De=xe("C",void 0,void 0);function xe(ze,We,Be){return{kind:ze,value:We,error:Be}}var Q=j(3410),Y=j(2806);class ue extends h.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,h.Nn)(We)&&We.add(this)):this.destination=Je}static create(We,Be,it){return new Fe(We,Be,it)}next(We){this.isStopped?Ve(function pe(ze){return xe("N",ze,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Ve(function _e(ze){return xe("E",void 0,ze)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Ve(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ee(ze,We){return Ye.call(ze,We)}class Me{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Be}=this;if(Be.next)try{Be.next(We)}catch(it){ye(it)}}error(We){const{partialObserver:Be}=this;if(Be.error)try{Be.error(We)}catch(it){ye(it)}else ye(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Be){ye(Be)}}}class Fe extends ue{constructor(We,Be,it){let fe;if(super(),(0,C.m)(We)||!We)fe={next:null!=We?We:void 0,error:null!=Be?Be:void 0,complete:null!=it?it:void 0};else{let Ae;this&&V.v.useDeprecatedNextContext?(Ae=Object.create(We),Ae.unsubscribe=()=>this.unsubscribe(),fe={next:We.next&&Ee(We.next,Ae),error:We.error&&Ee(We.error,Ae),complete:We.complete&&Ee(We.complete,Ae)}):fe=We}this.destination=new Me(fe)}}function ye(ze){V.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ze):(0,he.h)(ze)}function Ve(ze,We){const{onStoppedNotification:Be}=V.v;Be&&Q.z.setTimeout(()=>Be(ze,We))}const Je={closed:!0,next:ce,error:function Te(ze){throw ze},complete:ce}},727:(pt,ae,j)=>{"use strict";j.d(ae,{Lc:()=>De,w0:()=>ce,Nn:()=>_e});var C=j(576);const V=(0,j(3888).d)(xe=>function(Y){xe(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ue,Ye)=>`${Ye+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var he=j(8737);class ce{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ee of Y)Ee.remove(this);else Y.remove(this);const{initialTeardown:ue}=this;if((0,C.m)(ue))try{ue()}catch(Ee){Q=Ee instanceof V?Ee.errors:[Ee]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ee of Ye)try{pe(Ee)}catch(Me){Q=null!=Q?Q:[],Me instanceof V?Q=[...Q,...Me.errors]:Q.push(Me)}}if(Q)throw new V(Q)}}add(Q){var Y;if(Q&&Q!==this)if(this.closed)pe(Q);else{if(Q instanceof ce){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Q)}}_hasParent(Q){const{_parentage:Y}=this;return Y===Q||Array.isArray(Y)&&Y.includes(Q)}_addParent(Q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Q),Y):Y?[Y,Q]:Q}_removeParent(Q){const{_parentage:Y}=this;Y===Q?this._parentage=null:Array.isArray(Y)&&(0,he.P)(Y,Q)}remove(Q){const{_finalizers:Y}=this;Y&&(0,he.P)(Y,Q),Q instanceof ce&&Q._removeParent(this)}}ce.EMPTY=(()=>{const xe=new ce;return xe.closed=!0,xe})();const De=ce.EMPTY;function _e(xe){return xe instanceof ce||xe&&"closed"in xe&&(0,C.m)(xe.remove)&&(0,C.m)(xe.add)&&(0,C.m)(xe.unsubscribe)}function pe(xe){(0,C.m)(xe)?xe():xe.unsubscribe()}},2416:(pt,ae,j)=>{"use strict";j.d(ae,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,ae,j)=>{"use strict";j.d(ae,{E:()=>h});const h=new(j(8306).y)(ce=>ce.complete())},8996:(pt,ae,j)=>{"use strict";j.d(ae,{D:()=>We});var C=j(8421),h=j(5363),V=j(9468),De=j(8306),pe=j(2202),xe=j(576),Q=j(9672);function ue(Be,it){if(!Be)throw new Error("Iterable cannot be null");return new De.y(fe=>{(0,Q.f)(fe,it,()=>{const Ae=Be[Symbol.asyncIterator]();(0,Q.f)(fe,it,()=>{Ae.next().then(Oe=>{Oe.done?fe.complete():fe.next(Oe.value)})},0,!0)})})}var Ye=j(3670),Ee=j(8239),Me=j(1144),Fe=j(6495),ye=j(2206),Te=j(4532),Ve=j(3260);function We(Be,it){return it?function ze(Be,it){if(null!=Be){if((0,Ye.c)(Be))return function he(Be,it){return(0,C.Xf)(Be).pipe((0,V.R)(it),(0,h.Q)(it))}(Be,it);if((0,Me.z)(Be))return function _e(Be,it){return new De.y(fe=>{let Ae=0;return it.schedule(function(){Ae===Be.length?fe.complete():(fe.next(Be[Ae++]),fe.closed||this.schedule())})})}(Be,it);if((0,Ee.t)(Be))return function ce(Be,it){return(0,C.Xf)(Be).pipe((0,V.R)(it),(0,h.Q)(it))}(Be,it);if((0,ye.D)(Be))return ue(Be,it);if((0,Fe.T)(Be))return function Y(Be,it){return new De.y(fe=>{let Ae;return(0,Q.f)(fe,it,()=>{Ae=Be[pe.h](),(0,Q.f)(fe,it,()=>{let Oe,re;try{({value:Oe,done:re}=Ae.next())}catch(le){return void fe.error(le)}re?fe.complete():fe.next(Oe)},0,!0)}),()=>(0,xe.m)(null==Ae?void 0:Ae.return)&&Ae.return()})}(Be,it);if((0,Ve.L)(Be))return function Je(Be,it){return ue((0,Ve.Q)(Be),it)}(Be,it)}throw(0,Te.z)(Be)}(Be,it):(0,C.Xf)(Be)}},8421:(pt,ae,j)=>{"use strict";j.d(ae,{Xf:()=>Ye});var C=j(655),h=j(1144),V=j(8239),he=j(8306),ce=j(3670),De=j(2206),_e=j(4532),pe=j(6495),xe=j(3260),Q=j(576),Y=j(7849),ue=j(8822);function Ye(ze){if(ze instanceof he.y)return ze;if(null!=ze){if((0,ce.c)(ze))return function Ee(ze){return new he.y(We=>{const Be=ze[ue.L]();if((0,Q.m)(Be.subscribe))return Be.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,h.z)(ze))return function Me(ze){return new he.y(We=>{for(let Be=0;Be<ze.length&&!We.closed;Be++)We.next(ze[Be]);We.complete()})}(ze);if((0,V.t)(ze))return function Fe(ze){return new he.y(We=>{ze.then(Be=>{We.closed||(We.next(Be),We.complete())},Be=>We.error(Be)).then(null,Y.h)})}(ze);if((0,De.D)(ze))return Te(ze);if((0,pe.T)(ze))return function ye(ze){return new he.y(We=>{for(const Be of ze)if(We.next(Be),We.closed)return;We.complete()})}(ze);if((0,xe.L)(ze))return function Ve(ze){return Te((0,xe.Q)(ze))}(ze)}throw(0,_e.z)(ze)}function Te(ze){return new he.y(We=>{(function Je(ze,We){var Be,it,fe,Ae;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Be=(0,C.KL)(ze);!(it=yield Be.next()).done;)if(We.next(it.value),We.closed)return}catch(Oe){fe={error:Oe}}finally{try{it&&!it.done&&(Ae=Be.return)&&(yield Ae.call(Be))}finally{if(fe)throw fe.error}}We.complete()})})(ze,We).catch(Be=>We.error(Be))})}},6451:(pt,ae,j)=>{"use strict";j.d(ae,{T:()=>De});var C=j(8189),h=j(8421),V=j(515),he=j(7669),ce=j(8996);function De(..._e){const pe=(0,he.yG)(_e),xe=(0,he._6)(_e,1/0),Q=_e;return Q.length?1===Q.length?(0,h.Xf)(Q[0]):(0,C.J)(xe)((0,ce.D)(Q,pe)):V.E}},5403:(pt,ae,j)=>{"use strict";j.d(ae,{x:()=>h});var C=j(2961);function h(he,ce,De,_e,pe){return new V(he,ce,De,_e,pe)}class V extends C.Lv{constructor(ce,De,_e,pe,xe,Q){super(ce),this.onFinalize=xe,this.shouldUnsubscribe=Q,this._next=De?function(Y){try{De(Y)}catch(ue){ce.error(ue)}}:super._next,this._error=pe?function(Y){try{pe(Y)}catch(ue){ce.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(Y){ce.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(pt,ae,j)=>{"use strict";j.d(ae,{U:()=>V});var C=j(4482),h=j(5403);function V(he,ce){return(0,C.e)((De,_e)=>{let pe=0;De.subscribe((0,h.x)(_e,xe=>{_e.next(he.call(ce,xe,pe++))}))})}},8189:(pt,ae,j)=>{"use strict";j.d(ae,{J:()=>V});var C=j(5577),h=j(4671);function V(he=1/0){return(0,C.z)(h.y,he)}},5577:(pt,ae,j)=>{"use strict";j.d(ae,{z:()=>pe});var C=j(4004),h=j(8421),V=j(4482),he=j(9672),ce=j(5403),_e=j(576);function pe(xe,Q,Y=1/0){return(0,_e.m)(Q)?pe((ue,Ye)=>(0,C.U)((Ee,Me)=>Q(ue,Ee,Ye,Me))((0,h.Xf)(xe(ue,Ye))),Y):("number"==typeof Q&&(Y=Q),(0,V.e)((ue,Ye)=>function De(xe,Q,Y,ue,Ye,Ee,Me,Fe){const ye=[];let Te=0,Ve=0,Je=!1;const ze=()=>{Je&&!ye.length&&!Te&&Q.complete()},We=it=>Te<ue?Be(it):ye.push(it),Be=it=>{Ee&&Q.next(it),Te++;let fe=!1;(0,h.Xf)(Y(it,Ve++)).subscribe((0,ce.x)(Q,Ae=>{null==Ye||Ye(Ae),Ee?We(Ae):Q.next(Ae)},()=>{fe=!0},void 0,()=>{if(fe)try{for(Te--;ye.length&&Te<ue;){const Ae=ye.shift();Me?(0,he.f)(Q,Me,()=>Be(Ae)):Be(Ae)}ze()}catch(Ae){Q.error(Ae)}}))};return xe.subscribe((0,ce.x)(Q,We,()=>{Je=!0,ze()})),()=>{null==Fe||Fe()}}(ue,Ye,xe,Y)))}},5363:(pt,ae,j)=>{"use strict";j.d(ae,{Q:()=>he});var C=j(9672),h=j(4482),V=j(5403);function he(ce,De=0){return(0,h.e)((_e,pe)=>{_e.subscribe((0,V.x)(pe,xe=>(0,C.f)(pe,ce,()=>pe.next(xe),De),()=>(0,C.f)(pe,ce,()=>pe.complete(),De),xe=>(0,C.f)(pe,ce,()=>pe.error(xe),De)))})}},3099:(pt,ae,j)=>{"use strict";j.d(ae,{B:()=>ce});var C=j(8421),h=j(7579),V=j(2961),he=j(4482);function ce(_e={}){const{connector:pe=(()=>new h.x),resetOnError:xe=!0,resetOnComplete:Q=!0,resetOnRefCountZero:Y=!0}=_e;return ue=>{let Ye,Ee,Me,Fe=0,ye=!1,Te=!1;const Ve=()=>{null==Ee||Ee.unsubscribe(),Ee=void 0},Je=()=>{Ve(),Ye=Me=void 0,ye=Te=!1},ze=()=>{const We=Ye;Je(),null==We||We.unsubscribe()};return(0,he.e)((We,Be)=>{Fe++,!Te&&!ye&&Ve();const it=Me=null!=Me?Me:pe();Be.add(()=>{Fe--,0===Fe&&!Te&&!ye&&(Ee=De(ze,Y))}),it.subscribe(Be),!Ye&&Fe>0&&(Ye=new V.Hp({next:fe=>it.next(fe),error:fe=>{Te=!0,Ve(),Ee=De(Je,xe,fe),it.error(fe)},complete:()=>{ye=!0,Ve(),Ee=De(Je,Q),it.complete()}}),(0,C.Xf)(We).subscribe(Ye))})(ue)}}function De(_e,pe,...xe){if(!0===pe)return void _e();if(!1===pe)return;const Q=new V.Hp({next:()=>{Q.unsubscribe(),_e()}});return pe(...xe).subscribe(Q)}},9468:(pt,ae,j)=>{"use strict";j.d(ae,{R:()=>h});var C=j(4482);function h(V,he=0){return(0,C.e)((ce,De)=>{De.add(V.schedule(()=>ce.subscribe(De),he))})}},8505:(pt,ae,j)=>{"use strict";j.d(ae,{b:()=>ce});var C=j(576),h=j(4482),V=j(5403),he=j(4671);function ce(De,_e,pe){const xe=(0,C.m)(De)||_e||pe?{next:De,error:_e,complete:pe}:De;return xe?(0,h.e)((Q,Y)=>{var ue;null===(ue=xe.subscribe)||void 0===ue||ue.call(xe);let Ye=!0;Q.subscribe((0,V.x)(Y,Ee=>{var Me;null===(Me=xe.next)||void 0===Me||Me.call(xe,Ee),Y.next(Ee)},()=>{var Ee;Ye=!1,null===(Ee=xe.complete)||void 0===Ee||Ee.call(xe),Y.complete()},Ee=>{var Me;Ye=!1,null===(Me=xe.error)||void 0===Me||Me.call(xe,Ee),Y.error(Ee)},()=>{var Ee,Me;Ye&&(null===(Ee=xe.unsubscribe)||void 0===Ee||Ee.call(xe)),null===(Me=xe.finalize)||void 0===Me||Me.call(xe)}))}):he.y}},4408:(pt,ae,j)=>{"use strict";j.d(ae,{o:()=>ce});var C=j(727);class h extends C.w0{constructor(_e,pe){super()}schedule(_e,pe=0){return this}}const V={setInterval(De,_e,...pe){const{delegate:xe}=V;return(null==xe?void 0:xe.setInterval)?xe.setInterval(De,_e,...pe):setInterval(De,_e,...pe)},clearInterval(De){const{delegate:_e}=V;return((null==_e?void 0:_e.clearInterval)||clearInterval)(De)},delegate:void 0};var he=j(8737);class ce extends h{constructor(_e,pe){super(_e,pe),this.scheduler=_e,this.work=pe,this.pending=!1}schedule(_e,pe=0){var xe;if(this.closed)return this;this.state=_e;const Q=this.id,Y=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(Y,Q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(Y,this.id,pe),this}requestAsyncId(_e,pe,xe=0){return V.setInterval(_e.flush.bind(_e,this),xe)}recycleAsyncId(_e,pe,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return pe;null!=pe&&V.clearInterval(pe)}execute(_e,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(_e,pe);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,pe){let Q,xe=!1;try{this.work(_e)}catch(Y){xe=!0,Q=Y||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:_e,scheduler:pe}=this,{actions:xe}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(xe,this),null!=_e&&(this.id=this.recycleAsyncId(pe,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,ae,j)=>{"use strict";j.d(ae,{v:()=>V});var C=j(6063);class h{constructor(ce,De=h.now){this.schedulerActionCtor=ce,this.now=De}schedule(ce,De=0,_e){return new this.schedulerActionCtor(this,ce).schedule(_e,De)}}h.now=C.l.now;class V extends h{constructor(ce,De=h.now){super(ce,De),this.actions=[],this._active=!1}flush(ce){const{actions:De}=this;if(this._active)return void De.push(ce);let _e;this._active=!0;do{if(_e=ce.execute(ce.state,ce.delay))break}while(ce=De.shift());if(this._active=!1,_e){for(;ce=De.shift();)ce.unsubscribe();throw _e}}}},4986:(pt,ae,j)=>{"use strict";j.d(ae,{z:()=>V});var C=j(4408);const V=new(j(7565).v)(C.o)},6063:(pt,ae,j)=>{"use strict";j.d(ae,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(pt,ae,j)=>{"use strict";j.d(ae,{z:()=>C});const C={setTimeout(h,V,...he){const{delegate:ce}=C;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(h,V,...he):setTimeout(h,V,...he)},clearTimeout(h){const{delegate:V}=C;return((null==V?void 0:V.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(pt,ae,j)=>{"use strict";j.d(ae,{h:()=>h});const h=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,ae,j)=>{"use strict";j.d(ae,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,ae,j)=>{"use strict";j.d(ae,{_6:()=>De,jO:()=>he,yG:()=>ce});var C=j(576);function V(_e){return _e[_e.length-1]}function he(_e){return(0,C.m)(V(_e))?_e.pop():void 0}function ce(_e){return function h(_e){return _e&&(0,C.m)(_e.schedule)}(V(_e))?_e.pop():void 0}function De(_e,pe){return"number"==typeof V(_e)?_e.pop():pe}},8737:(pt,ae,j)=>{"use strict";function C(h,V){if(h){const he=h.indexOf(V);0<=he&&h.splice(he,1)}}j.d(ae,{P:()=>C})},3888:(pt,ae,j)=>{"use strict";function C(h){const he=h(ce=>{Error.call(ce),ce.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}j.d(ae,{d:()=>C})},2806:(pt,ae,j)=>{"use strict";j.d(ae,{x:()=>V,O:()=>he});var C=j(2416);let h=null;function V(ce){if(C.v.useDeprecatedSynchronousErrorHandling){const De=!h;if(De&&(h={errorThrown:!1,error:null}),ce(),De){const{errorThrown:_e,error:pe}=h;if(h=null,_e)throw pe}}else ce()}function he(ce){C.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ce)}},9672:(pt,ae,j)=>{"use strict";function C(h,V,he,ce=0,De=!1){const _e=V.schedule(function(){he(),De?h.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(h.add(_e),!De)return _e}j.d(ae,{f:()=>C})},4671:(pt,ae,j)=>{"use strict";function C(h){return h}j.d(ae,{y:()=>C})},1144:(pt,ae,j)=>{"use strict";j.d(ae,{z:()=>C});const C=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(pt,ae,j)=>{"use strict";j.d(ae,{D:()=>h});var C=j(576);function h(V){return Symbol.asyncIterator&&(0,C.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(pt,ae,j)=>{"use strict";function C(h){return"function"==typeof h}j.d(ae,{m:()=>C})},3670:(pt,ae,j)=>{"use strict";j.d(ae,{c:()=>V});var C=j(8822),h=j(576);function V(he){return(0,h.m)(he[C.L])}},6495:(pt,ae,j)=>{"use strict";j.d(ae,{T:()=>V});var C=j(2202),h=j(576);function V(he){return(0,h.m)(null==he?void 0:he[C.h])}},8239:(pt,ae,j)=>{"use strict";j.d(ae,{t:()=>h});var C=j(576);function h(V){return(0,C.m)(null==V?void 0:V.then)}},3260:(pt,ae,j)=>{"use strict";j.d(ae,{Q:()=>V,L:()=>he});var C=j(655),h=j(576);function V(ce){return(0,C.FC)(this,arguments,function*(){const _e=ce.getReader();try{for(;;){const{value:pe,done:xe}=yield(0,C.qq)(_e.read());if(xe)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(pe)}}finally{_e.releaseLock()}})}function he(ce){return(0,h.m)(null==ce?void 0:ce.getReader)}},4482:(pt,ae,j)=>{"use strict";j.d(ae,{A:()=>h,e:()=>V});var C=j(576);function h(he){return(0,C.m)(null==he?void 0:he.lift)}function V(he){return ce=>{if(h(ce))return ce.lift(function(De){try{return he(De,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(pt,ae,j)=>{"use strict";j.d(ae,{h:()=>V});var C=j(2416),h=j(3410);function V(he){h.z.setTimeout(()=>{const{onUnhandledError:ce}=C.v;if(!ce)throw he;ce(he)})}},4532:(pt,ae,j)=>{"use strict";function C(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ae,{z:()=>C})},5226:function(pt){pt.exports=function(){"use strict";var ae={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const C=b=>{const I={};for(const N in b)I[b[N]]="swal2-"+b[N];return I},h=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),V=C(["success","warning","info","question","error"]),he="SweetAlert2:",De=b=>b.charAt(0).toUpperCase()+b.slice(1),_e=b=>{console.warn("".concat(he," ").concat("object"==typeof b?b.join(" "):b))},pe=b=>{console.error("".concat(he," ").concat(b))},xe=[],Y=(b,I)=>{(b=>{xe.includes(b)||(xe.push(b),_e(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},ue=b=>"function"==typeof b?b():b,Ye=b=>b&&"function"==typeof b.toPromise,Ee=b=>Ye(b)?b.toPromise():Promise.resolve(b),Me=b=>b&&Promise.resolve(b)===b,Fe=()=>document.body.querySelector(".".concat(h.container)),ye=b=>{const I=Fe();return I?I.querySelector(b):null},Te=b=>ye(".".concat(b)),Ve=()=>Te(h.popup),Je=()=>Te(h.icon),ze=()=>Te(h.title),We=()=>Te(h["html-container"]),Be=()=>Te(h.image),it=()=>Te(h["progress-steps"]),fe=()=>Te(h["validation-message"]),Ae=()=>ye(".".concat(h.actions," .").concat(h.confirm)),Oe=()=>ye(".".concat(h.actions," .").concat(h.deny)),le=()=>ye(".".concat(h.loader)),me=()=>ye(".".concat(h.actions," .").concat(h.cancel)),Re=()=>Te(h.actions),be=()=>Te(h.footer),Ge=()=>Te(h["timer-progress-bar"]),It=()=>Te(h.close),zt=()=>{const b=Array.from(Ve().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((N,K)=>{const Pe=parseInt(N.getAttribute("tabindex")),vt=parseInt(K.getAttribute("tabindex"));return Pe>vt?1:Pe<vt?-1:0}),I=Array.from(Ve().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(N=>"-1"!==N.getAttribute("tabindex"));return(b=>{const I=[];for(let N=0;N<b.length;N++)-1===I.indexOf(b[N])&&I.push(b[N]);return I})(b.concat(I)).filter(N=>Zt(N))},lt=()=>Ft(document.body,h.shown)&&!Ft(document.body,h["toast-shown"])&&!Ft(document.body,h["no-backdrop"]),cn=()=>Ve()&&Ft(Ve(),h.toast),sn={previousBodyPadding:null},Lt=(b,I)=>{if(b.textContent="",I){const K=(new DOMParser).parseFromString(I,"text/html");Array.from(K.querySelector("head").childNodes).forEach(Pe=>{b.appendChild(Pe)}),Array.from(K.querySelector("body").childNodes).forEach(Pe=>{Pe instanceof HTMLVideoElement||Pe instanceof HTMLAudioElement?b.appendChild(Pe.cloneNode(!0)):b.appendChild(Pe)})}},Ft=(b,I)=>{if(!I)return!1;const N=I.split(/\s+/);for(let K=0;K<N.length;K++)if(!b.classList.contains(N[K]))return!1;return!0},nn=(b,I,N)=>{if(((b,I)=>{Array.from(b.classList).forEach(N=>{!Object.values(h).includes(N)&&!Object.values(V).includes(N)&&!Object.values(I.showClass).includes(N)&&b.classList.remove(N)})})(b,I),I.customClass&&I.customClass[N]){if("string"!=typeof I.customClass[N]&&!I.customClass[N].forEach)return void _e("Invalid type of customClass.".concat(N,'! Expected string or iterable object, got "').concat(typeof I.customClass[N],'"'));Wt(b,I.customClass[N])}},mr=(b,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return b.querySelector(".".concat(h.popup," > .").concat(h[I]));case"checkbox":return b.querySelector(".".concat(h.popup," > .").concat(h.checkbox," input"));case"radio":return b.querySelector(".".concat(h.popup," > .").concat(h.radio," input:checked"))||b.querySelector(".".concat(h.popup," > .").concat(h.radio," input:first-child"));case"range":return b.querySelector(".".concat(h.popup," > .").concat(h.range," input"));default:return b.querySelector(".".concat(h.popup," > .").concat(h.input))}},kr=b=>{if(b.focus(),"file"!==b.type){const I=b.value;b.value="",b.value=I}},Hn=(b,I,N)=>{!b||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(K=>{Array.isArray(b)?b.forEach(Pe=>{N?Pe.classList.add(K):Pe.classList.remove(K)}):N?b.classList.add(K):b.classList.remove(K)}))},Wt=(b,I)=>{Hn(b,I,!0)},Kn=(b,I)=>{Hn(b,I,!1)},Zn=(b,I)=>{const N=Array.from(b.children);for(let K=0;K<N.length;K++){const Pe=N[K];if(Pe instanceof HTMLElement&&Ft(Pe,I))return Pe}},jn=(b,I,N)=>{N==="".concat(parseInt(N))&&(N=parseInt(N)),N||0===parseInt(N)?b.style[I]="number"==typeof N?"".concat(N,"px"):N:b.style.removeProperty(I)},Ln=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},mt=b=>{b.style.display="none"},yr=(b,I,N,K)=>{const Pe=b.querySelector(I);Pe&&(Pe.style[N]=K)},xn=function(b,I){I?Ln(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):mt(b)},Zt=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Ar=b=>b.scrollHeight>b.clientHeight,_r=b=>{const I=window.getComputedStyle(b),N=parseFloat(I.getPropertyValue("animation-duration")||"0"),K=parseFloat(I.getPropertyValue("transition-duration")||"0");return N>0||K>0},Pn=function(b){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const N=Ge();Zt(N)&&(I&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition="width ".concat(b/1e3,"s linear"),N.style.width="0%"},10))},ht={},yt=b=>new Promise(I=>{if(!b)return I();const N=window.scrollX,K=window.scrollY;ht.restoreFocusTimeout=setTimeout(()=>{ht.previousActiveElement instanceof HTMLElement?(ht.previousActiveElement.focus(),ht.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(N,K)}),Hr=()=>"undefined"==typeof window||"undefined"==typeof document,Yr='\n <div aria-labelledby="'.concat(h.title,'" aria-describedby="').concat(h["html-container"],'" class="').concat(h.popup,'" tabindex="-1">\n   <button type="button" class="').concat(h.close,'"></button>\n   <ul class="').concat(h["progress-steps"],'"></ul>\n   <div class="').concat(h.icon,'"></div>\n   <img class="').concat(h.image,'" />\n   <h2 class="').concat(h.title,'" id="').concat(h.title,'"></h2>\n   <div class="').concat(h["html-container"],'" id="').concat(h["html-container"],'"></div>\n   <input class="').concat(h.input,'" />\n   <input type="file" class="').concat(h.file,'" />\n   <div class="').concat(h.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(h.select,'"></select>\n   <div class="').concat(h.radio,'"></div>\n   <label for="').concat(h.checkbox,'" class="').concat(h.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(h.label,'"></span>\n   </label>\n   <textarea class="').concat(h.textarea,'"></textarea>\n   <div class="').concat(h["validation-message"],'" id="').concat(h["validation-message"],'"></div>\n   <div class="').concat(h.actions,'">\n     <div class="').concat(h.loader,'"></div>\n     <button type="button" class="').concat(h.confirm,'"></button>\n     <button type="button" class="').concat(h.deny,'"></button>\n     <button type="button" class="').concat(h.cancel,'"></button>\n   </div>\n   <div class="').concat(h.footer,'"></div>\n   <div class="').concat(h["timer-progress-bar-container"],'">\n     <div class="').concat(h["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Fr=()=>{ht.currentInstance.resetValidationMessage()},tn=b=>{const I=(()=>{const b=Fe();return!!b&&(b.remove(),Kn([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0)})();if(Hr())return void pe("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=h.container,I&&Wt(N,h["no-transition"]),Lt(N,Yr);const K=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);K.appendChild(N),(b=>{const I=Ve();I.setAttribute("role",b.toast?"alert":"dialog"),I.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||I.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&Wt(Fe(),h.rtl)})(K),(()=>{const b=Ve(),I=Zn(b,h.input),N=Zn(b,h.file),K=b.querySelector(".".concat(h.range," input")),Pe=b.querySelector(".".concat(h.range," output")),vt=Zn(b,h.select),Jt=b.querySelector(".".concat(h.checkbox," input")),ti=Zn(b,h.textarea);I.oninput=Fr,N.onchange=Fr,vt.onchange=Fr,Jt.onchange=Fr,ti.oninput=Fr,K.oninput=()=>{Fr(),Pe.value=K.value},K.onchange=()=>{Fr(),Pe.value=K.value}})()},Qn=(b,I)=>{b instanceof HTMLElement?I.appendChild(b):"object"==typeof b?ct(b,I):b&&Lt(I,b)},ct=(b,I)=>{b.jquery?$e(I,b):Lt(I,b.toString())},$e=(b,I)=>{if(b.textContent="",0 in I)for(let N=0;N in I;N++)b.appendChild(I[N].cloneNode(!0));else b.appendChild(I.cloneNode(!0))},st=(()=>{if(Hr())return!1;const b=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const N in I)if(Object.prototype.hasOwnProperty.call(I,N)&&void 0!==b.style[N])return I[N];return!1})(),Pt=(b,I)=>{const N=Re(),K=le();I.showConfirmButton||I.showDenyButton||I.showCancelButton?Ln(N):mt(N),nn(N,I,"actions"),function gn(b,I,N){const K=Ae(),Pe=Oe(),vt=me();Z(K,"confirm",N),Z(Pe,"deny",N),Z(vt,"cancel",N),function J(b,I,N,K){K.buttonsStyling?(Wt([b,I,N],h.styled),K.confirmButtonColor&&(b.style.backgroundColor=K.confirmButtonColor,Wt(b,h["default-outline"])),K.denyButtonColor&&(I.style.backgroundColor=K.denyButtonColor,Wt(I,h["default-outline"])),K.cancelButtonColor&&(N.style.backgroundColor=K.cancelButtonColor,Wt(N,h["default-outline"]))):Kn([b,I,N],h.styled)}(K,Pe,vt,N),N.reverseButtons&&(N.toast?(b.insertBefore(vt,K),b.insertBefore(Pe,K)):(b.insertBefore(vt,I),b.insertBefore(Pe,I),b.insertBefore(K,I)))}(N,K,I),Lt(K,I.loaderHtml),nn(K,I,"loader")};function Z(b,I,N){xn(b,N["show".concat(De(I),"Button")],"inline-block"),Lt(b,N["".concat(I,"ButtonText")]),b.setAttribute("aria-label",N["".concat(I,"ButtonAriaLabel")]),b.className=h[I],nn(b,N,"".concat(I,"Button")),Wt(b,N["".concat(I,"ButtonClass")])}const q=(b,I)=>{const N=Fe();!N||(function U(b,I){"string"==typeof I?b.style.background=I:I||Wt([document.documentElement,document.body],h["no-backdrop"])}(N,I.backdrop),function z(b,I){I in h?Wt(b,h[I]):(_e('The "position" parameter is not valid, defaulting to "center"'),Wt(b,h.center))}(N,I.position),function we(b,I){if(I&&"string"==typeof I){const N="grow-".concat(I);N in h&&Wt(b,h[N])}}(N,I.grow),nn(N,I,"container"))};const Qe=["input","file","range","select","radio","checkbox","textarea"],Et=b=>{if(!$t[b.input])return void pe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const I=Tn(b.input),N=$t[b.input](I,b);Ln(I),setTimeout(()=>{kr(N)})},rt=(b,I)=>{const N=mr(Ve(),b);if(N){(b=>{for(let I=0;I<b.attributes.length;I++){const N=b.attributes[I].name;["type","value","style"].includes(N)||b.removeAttribute(N)}})(N);for(const K in I)N.setAttribute(K,I[K])}},fn=b=>{const I=Tn(b.input);"object"==typeof b.customClass&&Wt(I,b.customClass.input)},er=(b,I)=>{(!b.placeholder||I.inputPlaceholder)&&(b.placeholder=I.inputPlaceholder)},Ut=(b,I,N)=>{if(N.inputLabel){b.id=h.input;const K=document.createElement("label"),Pe=h["input-label"];K.setAttribute("for",b.id),K.className=Pe,"object"==typeof N.customClass&&Wt(K,N.customClass.inputLabel),K.innerText=N.inputLabel,I.insertAdjacentElement("beforebegin",K)}},Tn=b=>Zn(Ve(),h[b]||h.input),Sr=(b,I)=>{["string","number"].includes(typeof I)?b.value="".concat(I):Me(I)||_e('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I,'"'))},$t={};$t.text=$t.email=$t.password=$t.number=$t.tel=$t.url=(b,I)=>(Sr(b,I.inputValue),Ut(b,b,I),er(b,I),b.type=I.input,b),$t.file=(b,I)=>(Ut(b,b,I),er(b,I),b),$t.range=(b,I)=>{const N=b.querySelector("input"),K=b.querySelector("output");return Sr(N,I.inputValue),N.type=I.input,Sr(K,I.inputValue),Ut(N,b,I),b},$t.select=(b,I)=>{if(b.textContent="",I.inputPlaceholder){const N=document.createElement("option");Lt(N,I.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,b.appendChild(N)}return Ut(b,b,I),b},$t.radio=b=>(b.textContent="",b),$t.checkbox=(b,I)=>{const N=mr(Ve(),"checkbox");N.value="1",N.id=h.checkbox,N.checked=Boolean(I.inputValue);const K=b.querySelector("span");return Lt(K,I.inputPlaceholder),N},$t.textarea=(b,I)=>{Sr(b,I.inputValue),er(b,I),Ut(b,b,I);return setTimeout(()=>{if("MutationObserver"in window){const K=parseInt(window.getComputedStyle(Ve()).width);new MutationObserver(()=>{const vt=b.offsetWidth+(K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight))(b);Ve().style.width=vt>K?"".concat(vt,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Ji=(b,I)=>{const N=We();nn(N,I,"htmlContainer"),I.html?(Qn(I.html,N),Ln(N,"block")):I.text?(N.textContent=I.text,Ln(N,"block")):mt(N),((b,I)=>{const N=Ve(),K=ae.innerParams.get(b),Pe=!K||I.input!==K.input;Qe.forEach(vt=>{const Jt=Zn(N,h[vt]);rt(vt,I.inputAttributes),Jt.className=h[vt],Pe&&mt(Jt)}),I.input&&(Pe&&Et(I),fn(I))})(b,I)},jt=(b,I)=>{for(const N in V)I.icon!==N&&Kn(b,V[N]);Wt(b,V[I.icon]),Ui(b,I),vn(),nn(b,I,"icon")},vn=()=>{const b=Ve(),I=window.getComputedStyle(b).getPropertyValue("background-color"),N=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let K=0;K<N.length;K++)N[K].style.backgroundColor=I},An=(b,I)=>{let K,N=b.innerHTML;I.iconHtml?K=_n(I.iconHtml):"success"===I.icon?(K='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',N=N.replace(/ style=".*?"/g,"")):K="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':_n({question:"?",warning:"!",info:"i"}[I.icon]),N.trim()!==K.trim()&&Lt(b,K)},Ui=(b,I)=>{if(I.iconColor){b.style.color=I.iconColor,b.style.borderColor=I.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])yr(b,N,"backgroundColor",I.iconColor);yr(b,".swal2-success-ring","borderColor",I.iconColor)}},_n=b=>'<div class="'.concat(h["icon-content"],'">').concat(b,"</div>"),Ht=(b,I)=>{b.className="".concat(h.popup," ").concat(Zt(b)?I.showClass.popup:""),I.toast?(Wt([document.documentElement,document.body],h["toast-shown"]),Wt(b,h.toast)):Wt(b,h.modal),nn(b,I,"popup"),"string"==typeof I.customClass&&Wt(b,I.customClass),I.icon&&Wt(b,h["icon-".concat(I.icon)])},Xt=b=>{const I=document.createElement("li");return Wt(I,h["progress-step"]),Lt(I,b),I},Xi=b=>{const I=document.createElement("li");return Wt(I,h["progress-step-line"]),b.progressStepsDistance&&jn(I,"width",b.progressStepsDistance),I},at=(b,I)=>{((b,I)=>{const N=Fe(),K=Ve();I.toast?(jn(N,"width",I.width),K.style.width="100%",K.insertBefore(le(),Je())):jn(K,"width",I.width),jn(K,"padding",I.padding),I.color&&(K.style.color=I.color),I.background&&(K.style.background=I.background),mt(fe()),Ht(K,I)})(0,I),q(0,I),((b,I)=>{const N=it();I.progressSteps&&0!==I.progressSteps.length?(Ln(N),N.textContent="",I.currentProgressStep>=I.progressSteps.length&&_e("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach((K,Pe)=>{const vt=Xt(K);if(N.appendChild(vt),Pe===I.currentProgressStep&&Wt(vt,h["active-progress-step"]),Pe!==I.progressSteps.length-1){const Jt=Xi(I);N.appendChild(Jt)}})):mt(N)})(0,I),((b,I)=>{const N=ae.innerParams.get(b),K=Je();N&&I.icon===N.icon?(An(K,I),jt(K,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(V).indexOf(I.icon)?(pe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),mt(K)):(Ln(K),An(K,I),jt(K,I),Wt(K,I.showClass.icon)):mt(K)})(b,I),((b,I)=>{const N=Be();I.imageUrl?(Ln(N,""),N.setAttribute("src",I.imageUrl),N.setAttribute("alt",I.imageAlt),jn(N,"width",I.imageWidth),jn(N,"height",I.imageHeight),N.className=h.image,nn(N,I,"image")):mt(N)})(0,I),((b,I)=>{const N=ze();xn(N,I.title||I.titleText,"block"),I.title&&Qn(I.title,N),I.titleText&&(N.innerText=I.titleText),nn(N,I,"title")})(0,I),((b,I)=>{const N=It();Lt(N,I.closeButtonHtml),nn(N,I,"closeButton"),xn(N,I.showCloseButton),N.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),Ji(b,I),Pt(0,I),((b,I)=>{const N=be();xn(N,I.footer),I.footer&&Qn(I.footer,N),nn(N,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(Ve())};function ai(){const b=ae.innerParams.get(this);if(!b)return;const I=ae.domCache.get(this);mt(I.loader),cn()?b.icon&&Ln(Je()):Ot(I),Kn([I.popup,I.actions],h.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const Ot=b=>{const I=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));I.length?Ln(I[0],"inline-block"):!Zt(Ae())&&!Zt(Oe())&&!Zt(me())&&mt(b.actions)};const es=()=>Ae()&&Ae().click(),ar=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Co=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},Un=(b,I,N)=>{const K=zt();if(K.length)return(I+=N)===K.length?I=0:-1===I&&(I=K.length-1),K[I].focus();Ve().focus()},br=["ArrowRight","ArrowDown"],ur=["ArrowLeft","ArrowUp"],yi=(b,I,N)=>{const K=ae.innerParams.get(b);!K||I.isComposing||229===I.keyCode||(K.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?To(b,I,K):"Tab"===I.key?rr(I,K):[...br,...ur].includes(I.key)?ta(I.key):"Escape"===I.key&&La(I,K,N))},To=(b,I,N)=>{if(ue(N.allowEnterKey)&&I.target&&b.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(N.input))return;es(),I.preventDefault()}},rr=(b,I)=>{const N=b.target,K=zt();let Pe=-1;for(let vt=0;vt<K.length;vt++)if(N===K[vt]){Pe=vt;break}Un(0,Pe,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ta=b=>{const I=Ae(),N=Oe(),K=me();if(document.activeElement instanceof HTMLElement&&![I,N,K].includes(document.activeElement))return;const Pe=br.includes(b)?"nextElementSibling":"previousElementSibling";let vt=document.activeElement;for(let Jt=0;Jt<Re().children.length;Jt++){if(vt=vt[Pe],!vt)return;if(vt instanceof HTMLButtonElement&&Zt(vt))break}vt instanceof HTMLButtonElement&&vt.focus()},La=(b,I,N)=>{ue(I.allowEscapeKey)&&(b.preventDefault(),N(ar.esc))};var zr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ao=()=>{Array.from(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},Cs=()=>{const b=navigator.userAgent,I=!!b.match(/iPad/i)||!!b.match(/iPhone/i),N=!!b.match(/WebKit/i);I&&N&&!b.match(/CriOS/i)&&Ve().scrollHeight>window.innerHeight-44&&(Fe().style.paddingBottom="".concat(44,"px"))},Si=()=>{const b=Fe();let I;b.ontouchstart=N=>{I=Ds(N)},b.ontouchmove=N=>{I&&(N.preventDefault(),N.stopPropagation())}},Ds=b=>{const I=b.target,N=Fe();return!vi(b)&&!na(b)&&(I===N||!Ar(N)&&I instanceof HTMLElement&&"INPUT"!==I.tagName&&"TEXTAREA"!==I.tagName&&!(Ar(We())&&We().contains(I)))},vi=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,na=b=>b.touches&&b.touches.length>1,ns=()=>{null===sn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(sn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(sn.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=h["scrollbar-measure"],document.body.appendChild(b);const I=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),I})(),"px"))};function xo(b,I,N,K){cn()?mu(b,K):(yt(N).then(()=>mu(b,K)),Co(ht)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),lt()&&(null!==sn.previousBodyPadding&&(document.body.style.paddingRight="".concat(sn.previousBodyPadding,"px"),sn.previousBodyPadding=null),(()=>{if(Ft(document.body,h.iosfix)){const b=parseInt(document.body.style.top,10);Kn(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Ao()),function ui(){Kn([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}()}function Mo(b){b=rs(b);const I=zr.swalPromiseResolve.get(this),N=_i(this);this.isAwaitingPromise()?b.isDismissed||(Wr(this),I(b)):N&&I(b)}const _i=b=>{const I=Ve();if(!I)return!1;const N=ae.innerParams.get(b);if(!N||Ft(I,N.hideClass.popup))return!1;Kn(I,N.showClass.popup),Wt(I,N.hideClass.popup);const K=Fe();return Kn(K,N.showClass.backdrop),Wt(K,N.hideClass.backdrop),is(b,I,N),!0};const Wr=b=>{b.isAwaitingPromise()&&(ae.awaitingPromise.delete(b),ae.innerParams.get(b)||b._destroy())},rs=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),is=(b,I,N)=>{const K=Fe(),Pe=st&&_r(I);"function"==typeof N.willClose&&N.willClose(I),Pe?Ua(b,I,K,N.returnFocus,N.didClose):xo(b,K,N.returnFocus,N.didClose)},Ua=(b,I,N,K,Pe)=>{ht.swalCloseEventFinishedCallback=xo.bind(null,b,N,K,Pe),I.addEventListener(st,function(vt){vt.target===I&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback)})},mu=(b,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(b.params)(),b._destroy()})};function wi(b,I,N){const K=ae.domCache.get(b);I.forEach(Pe=>{K[Pe].disabled=N})}function Ro(b,I){if(b)if("radio"===b.type){const K=b.parentNode.parentNode.querySelectorAll("input");for(let Pe=0;Pe<K.length;Pe++)K[Pe].disabled=I}else b.disabled=I}const ni={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ys=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Js={},No=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ei=b=>Object.prototype.hasOwnProperty.call(ni,b),ss=b=>-1!==Ys.indexOf(b),bn=b=>Js[b],M=b=>{ei(b)||_e('Unknown parameter "'.concat(b,'"'))},L=b=>{No.includes(b)&&_e('The parameter "'.concat(b,'" is incompatible with toasts'))},S=b=>{bn(b)&&Y(b,bn(b))};const Ne=b=>{const I={};return Object.keys(b).forEach(N=>{ss(N)?I[N]=b[N]:_e("Invalid parameter to update: ".concat(N))}),I};const bt=b=>{Bt(b),delete b.params,delete ht.keydownHandler,delete ht.keydownTarget,delete ht.currentInstance},Bt=b=>{b.isAwaitingPromise()?(yn(ae,b),ae.awaitingPromise.set(b,!0)):(yn(zr,b),yn(ae,b))},yn=(b,I)=>{for(const N in b)b[N].delete(I)};var qt=Object.freeze({hideLoading:ai,disableLoading:ai,getInput:function Er(b){const I=ae.innerParams.get(b||this),N=ae.domCache.get(b||this);return N?mr(N.popup,I.input):null},close:Mo,isAwaitingPromise:function Qs(){return!!ae.awaitingPromise.get(this)},rejectPromise:function xr(b){const I=zr.swalPromiseReject.get(this);Wr(this),I&&I(b)},handleAwaitingPromise:Wr,closePopup:Mo,closeModal:Mo,closeToast:Mo,enableButtons:function Ei(){wi(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Mr(){wi(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ra(){Ro(this.getInput(),!1)},disableInput:function tr(){Ro(this.getInput(),!0)},showValidationMessage:function qr(b){const I=ae.domCache.get(this),N=ae.innerParams.get(this);Lt(I.validationMessage,b),I.validationMessage.className=h["validation-message"],N.customClass&&N.customClass.validationMessage&&Wt(I.validationMessage,N.customClass.validationMessage),Ln(I.validationMessage);const K=this.getInput();K&&(K.setAttribute("aria-invalid",!0),K.setAttribute("aria-describedby",h["validation-message"]),kr(K),Wt(K,h.inputerror))},resetValidationMessage:function ia(){const b=ae.domCache.get(this);b.validationMessage&&mt(b.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),Kn(I,h.inputerror))},getProgressSteps:function As(){return ae.domCache.get(this).progressSteps},update:function ee(b){const I=Ve(),N=ae.innerParams.get(this);if(!I||Ft(I,N.hideClass.popup))return _e("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const K=Ne(b),Pe=Object.assign({},N,K);at(this,Pe),ae.innerParams.set(this,Pe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function qe(){const b=ae.domCache.get(this),I=ae.innerParams.get(this);I?(b.popup&&ht.swalCloseEventFinishedCallback&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),bt(this)):Bt(this)}});const Qt=b=>{let I=Ve();I||new Yn,I=Ve();const N=le();cn()?mt(Je()):$n(I,b),Ln(N),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},$n=(b,I)=>{const N=Re(),K=le();!I&&Zt(Ae())&&(I=Ae()),Ln(N),I&&(mt(I),K.setAttribute("data-button-to-replace",I.className)),K.parentNode.insertBefore(K,I),Wt([b,N],h.loading)},li=b=>b.checked?1:0,Ur=b=>b.checked?b.value:null,xt=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Bi=(b,I)=>{const N=Ve(),K=Pe=>{sa[I.input](N,ji(Pe),I)};Ye(I.inputOptions)||Me(I.inputOptions)?(Qt(Ae()),Ee(I.inputOptions).then(Pe=>{b.hideLoading(),K(Pe)})):"object"==typeof I.inputOptions?K(I.inputOptions):pe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},Ss=(b,I)=>{const N=b.getInput();mt(N),Ee(I.inputValue).then(K=>{N.value="".concat("number"===I.input?parseFloat(K)||0:K),Ln(N),N.focus(),b.hideLoading()}).catch(K=>{pe("Error in inputValue promise: ".concat(K)),N.value="",Ln(N),N.focus(),b.hideLoading()})},sa={select:(b,I,N)=>{const K=Zn(b,h.select),Pe=(vt,Jt,ti)=>{const sr=document.createElement("option");sr.value=ti,Lt(sr,Jt),sr.selected=oa(ti,N.inputValue),vt.appendChild(sr)};I.forEach(vt=>{const Jt=vt[0],ti=vt[1];if(Array.isArray(ti)){const sr=document.createElement("optgroup");sr.label=Jt,sr.disabled=!1,K.appendChild(sr),ti.forEach(zi=>Pe(sr,zi[1],zi[0]))}else Pe(K,ti,Jt)}),K.focus()},radio:(b,I,N)=>{const K=Zn(b,h.radio);I.forEach(vt=>{const Jt=vt[0],ti=vt[1],sr=document.createElement("input"),zi=document.createElement("label");sr.type="radio",sr.name=h.radio,sr.value=Jt,oa(Jt,N.inputValue)&&(sr.checked=!0);const Vo=document.createElement("span");Lt(Vo,ti),Vo.className=h.label,zi.appendChild(sr),zi.appendChild(Vo),K.appendChild(zi)});const Pe=K.querySelectorAll("input");Pe.length&&Pe[0].focus()}},ji=b=>{const I=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((N,K)=>{let Pe=N;"object"==typeof Pe&&(Pe=ji(Pe)),I.push([K,Pe])}):Object.keys(b).forEach(N=>{let K=b[N];"object"==typeof K&&(K=ji(K)),I.push([N,K])}),I},oa=(b,I)=>I&&I.toString()===b.toString(),rn=(b,I)=>{const N=ae.innerParams.get(b);if(!N.input)return void pe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(De(I)));const K=((b,I)=>{const N=b.getInput();if(!N)return null;switch(I.input){case"checkbox":return li(N);case"radio":return Ur(N);case"file":return xt(N);default:return I.inputAutoTrim?N.value.trim():N.value}})(b,N);N.inputValidator?Po(b,K,I):b.getInput().checkValidity()?"deny"===I?qn(b,K):Kr(b,K):(b.enableButtons(),b.showValidationMessage(N.validationMessage))},Po=(b,I,N)=>{const K=ae.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>Ee(K.inputValidator(I,K.validationMessage))).then(vt=>{b.enableButtons(),b.enableInput(),vt?b.showValidationMessage(vt):"deny"===N?qn(b,I):Kr(b,I)})},qn=(b,I)=>{const N=ae.innerParams.get(b||void 0);N.showLoaderOnDeny&&Qt(Oe()),N.preDeny?(ae.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>Ee(N.preDeny(I,N.validationMessage))).then(Pe=>{!1===Pe?(b.hideLoading(),Wr(b)):b.close({isDenied:!0,value:void 0===Pe?I:Pe})}).catch(Pe=>Ms(b||void 0,Pe))):b.close({isDenied:!0,value:I})},os=(b,I)=>{b.close({isConfirmed:!0,value:I})},Ms=(b,I)=>{b.rejectPromise(I)},Kr=(b,I)=>{const N=ae.innerParams.get(b||void 0);N.showLoaderOnConfirm&&Qt(),N.preConfirm?(b.resetValidationMessage(),ae.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>Ee(N.preConfirm(I,N.validationMessage))).then(Pe=>{Zt(fe())||!1===Pe?(b.hideLoading(),Wr(b)):os(b,void 0===Pe?I:Pe)}).catch(Pe=>Ms(b||void 0,Pe))):os(b,I)},Xs=(b,I,N)=>{I.popup.onclick=()=>{const K=ae.innerParams.get(b);K&&(vu(K)||K.timer||K.input)||N(ar.close)}},vu=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let aa=!1;const Oo=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(I){b.container.onmouseup=void 0,I.target===b.container&&(aa=!0)}}},as=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(I){b.popup.onmouseup=void 0,(I.target===b.popup||b.popup.contains(I.target))&&(aa=!0)}}},Br=(b,I,N)=>{I.container.onclick=K=>{const Pe=ae.innerParams.get(b);aa?aa=!1:K.target===I.container&&ue(Pe.allowOutsideClick)&&N(ar.backdrop)}},us=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const cs=()=>{if(ht.timeout)return(()=>{const b=Ge(),I=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const K=I/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(K,"%")})(),ht.timeout.stop()},Ba=()=>{if(ht.timeout){const b=ht.timeout.start();return Pn(b),b}};let ua=!1;const eo={};const Ns=b=>{for(let I=b.target;I&&I!==document;I=I.parentNode)for(const N in eo){const K=I.getAttribute(N);if(K)return void eo[N].fire({template:K})}};var la=Object.freeze({isValidParameter:ei,isUpdatableParameter:ss,isDeprecatedParameter:bn,argsToParams:b=>{const I={};return"object"!=typeof b[0]||us(b[0])?["title","html","icon"].forEach((N,K)=>{const Pe=b[K];"string"==typeof Pe||us(Pe)?I[N]=Pe:void 0!==Pe&&pe("Unexpected type of ".concat(N,'! Expected "string" or "Element", got ').concat(typeof Pe))}):Object.assign(I,b[0]),I},isVisible:()=>Zt(Ve()),clickConfirm:es,clickDeny:()=>Oe()&&Oe().click(),clickCancel:()=>me()&&me().click(),getContainer:Fe,getPopup:Ve,getTitle:ze,getHtmlContainer:We,getImage:Be,getIcon:Je,getInputLabel:()=>Te(h["input-label"]),getCloseButton:It,getActions:Re,getConfirmButton:Ae,getDenyButton:Oe,getCancelButton:me,getLoader:le,getFooter:be,getTimerProgressBar:Ge,getFocusableElements:zt,getValidationMessage:fe,isLoading:()=>Ve().hasAttribute("data-loading"),fire:function ls(){const b=this;for(var I=arguments.length,N=new Array(I),K=0;K<I;K++)N[K]=arguments[K];return new b(...N)},mixin:function Mi(b){return class I extends(this){_main(K,Pe){return super._main(K,Object.assign({},b,Pe))}}},showLoading:Qt,enableLoading:Qt,getTimerLeft:()=>ht.timeout&&ht.timeout.getTimerLeft(),stopTimer:cs,resumeTimer:Ba,toggleTimer:()=>{const b=ht.timeout;return b&&(b.running?cs():Ba())},increaseTimer:b=>{if(ht.timeout){const I=ht.timeout.increase(b);return Pn(I,!0),I}},isTimerRunning:()=>ht.timeout&&ht.timeout.isRunning(),bindClickHandler:function Rs(){eo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ua||(document.body.addEventListener("click",Ns),ua=!0)}});class Ps{constructor(I,N){this.callback=I,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const N=this.running;return N&&this.stop(),this.remaining+=I,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ca=["swal-title","swal-html","swal-footer"],to=b=>{const I={};return Array.from(b.querySelectorAll("swal-param")).forEach(K=>{ds(K,["name","value"]);const Pe=K.getAttribute("name"),vt=K.getAttribute("value");I[Pe]="boolean"==typeof ni[Pe]?"false"!==vt:"object"==typeof ni[Pe]?JSON.parse(vt):vt}),I},da=b=>{const I={};return Array.from(b.querySelectorAll("swal-function-param")).forEach(K=>{const Pe=K.getAttribute("name"),vt=K.getAttribute("value");I[Pe]=new Function("return ".concat(vt))()}),I},wu=b=>{const I={};return Array.from(b.querySelectorAll("swal-button")).forEach(K=>{ds(K,["type","color","aria-label"]);const Pe=K.getAttribute("type");I["".concat(Pe,"ButtonText")]=K.innerHTML,I["show".concat(De(Pe),"Button")]=!0,K.hasAttribute("color")&&(I["".concat(Pe,"ButtonColor")]=K.getAttribute("color")),K.hasAttribute("aria-label")&&(I["".concat(Pe,"ButtonAriaLabel")]=K.getAttribute("aria-label"))}),I},cr=b=>{const I={},N=b.querySelector("swal-image");return N&&(ds(N,["src","width","height","alt"]),N.hasAttribute("src")&&(I.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(I.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(I.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(I.imageAlt=N.getAttribute("alt"))),I},Ni=b=>{const I={},N=b.querySelector("swal-icon");return N&&(ds(N,["type","color"]),N.hasAttribute("type")&&(I.icon=N.getAttribute("type")),N.hasAttribute("color")&&(I.iconColor=N.getAttribute("color")),I.iconHtml=N.innerHTML),I},nr=b=>{const I={},N=b.querySelector("swal-input");N&&(ds(N,["type","label","placeholder","value"]),I.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(I.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(I.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(I.inputValue=N.getAttribute("value")));const K=Array.from(b.querySelectorAll("swal-input-option"));return K.length&&(I.inputOptions={},K.forEach(Pe=>{ds(Pe,["value"]);const vt=Pe.getAttribute("value");I.inputOptions[vt]=Pe.innerHTML})),I},Wl=(b,I)=>{const N={};for(const K in I){const Pe=I[K],vt=b.querySelector(Pe);vt&&(ds(vt,[]),N[Pe.replace(/^swal-/,"")]=vt.innerHTML.trim())}return N},ha=b=>{const I=ca.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(b.children).forEach(N=>{const K=N.tagName.toLowerCase();I.includes(K)||_e("Unrecognized element <".concat(K,">"))})},ds=(b,I)=>{Array.from(b.attributes).forEach(N=>{-1===I.indexOf(N.name)&&_e(['Unrecognized attribute "'.concat(N.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})},Ha=b=>{const I=Fe(),N=Ve();"function"==typeof b.willOpen&&b.willOpen(N);const Pe=window.getComputedStyle(document.body).overflowY;Gi(I,N,b),setTimeout(()=>{no(I,N)},10),lt()&&($i(I,b.scrollbarPadding,Pe),Array.from(document.body.children).forEach(I=>{I===Fe()||I.contains(Fe())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!cn()&&!ht.previousActiveElement&&(ht.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(N)),Kn(I,h["no-transition"])},Ku=b=>{const I=Ve();if(b.target!==I)return;const N=Fe();I.removeEventListener(st,Ku),N.style.overflowY="auto"},no=(b,I)=>{st&&_r(I)?(b.style.overflowY="hidden",I.addEventListener(st,Ku)):b.style.overflowY="auto"},$i=(b,I,N)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Ft(document.body,h.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),Wt(document.body,h.iosfix),Si(),Cs()}})(),I&&"hidden"!==N&&ns(),setTimeout(()=>{b.scrollTop=0})},Gi=(b,I,N)=>{Wt(b,N.showClass.backdrop),I.style.setProperty("opacity","0","important"),Ln(I,"grid"),setTimeout(()=>{Wt(I,N.showClass.popup),I.style.removeProperty("opacity")},10),Wt([document.documentElement,document.body],h.shown),N.heightAuto&&N.backdrop&&!N.toast&&Wt([document.documentElement,document.body],h["height-auto"])};var Fo={email:(b,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(b,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function ri(b){(function ir(b){b.inputValidator||Object.keys(Fo).forEach(I=>{b.input===I&&(b.inputValidator=Fo[I])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&_e("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Lo(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(_e('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),tn(b)}let Rr;class Os{constructor(){if("undefined"==typeof window)return;Rr=this;for(var I=arguments.length,N=new Array(I),K=0;K<I;K++)N[K]=arguments[K];const Pe=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:Pe,writable:!1,enumerable:!0,configurable:!0}});const vt=Rr._main(Rr.params);ae.promise.set(this,vt)}_main(I){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!1===b.backdrop&&b.allowOutsideClick&&_e('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in b)M(I),b.toast&&L(I),S(I)})(Object.assign({},N,I)),ht.currentInstance&&(ht.currentInstance._destroy(),lt()&&Ao()),ht.currentInstance=Rr;const K=hs(I,N);ri(K),Object.freeze(K),ht.timeout&&(ht.timeout.stop(),delete ht.timeout),clearTimeout(ht.restoreFocusTimeout);const Pe=ro(Rr);return at(Rr,K),ae.innerParams.set(Rr,K),Eu(Rr,Pe,K)}then(I){return ae.promise.get(this).then(I)}finally(I){return ae.promise.get(this).finally(I)}}const Eu=(b,I,N)=>new Promise((K,Pe)=>{const vt=Jt=>{b.close({isDismissed:!0,dismiss:Jt})};zr.swalPromiseResolve.set(b,K),zr.swalPromiseReject.set(b,Pe),I.confirmButton.onclick=()=>{(b=>{const I=ae.innerParams.get(b);b.disableButtons(),I.input?rn(b,"confirm"):Kr(b,!0)})(b)},I.denyButton.onclick=()=>{(b=>{const I=ae.innerParams.get(b);b.disableButtons(),I.returnInputValueOnDeny?rn(b,"deny"):qn(b,!1)})(b)},I.cancelButton.onclick=()=>{((b,I)=>{b.disableButtons(),I(ar.cancel)})(b,vt)},I.closeButton.onclick=()=>{vt(ar.close)},((b,I,N)=>{ae.innerParams.get(b).toast?Xs(b,I,N):(Oo(I),as(I),Br(b,I,N))})(b,I,vt),((b,I,N,K)=>{Co(I),N.toast||(I.keydownHandler=Pe=>yi(b,Pe,K),I.keydownTarget=N.keydownListenerCapture?window:Ve(),I.keydownListenerCapture=N.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(b,ht,N,vt),((b,I)=>{"select"===I.input||"radio"===I.input?Bi(b,I):["text","email","number","tel","textarea"].includes(I.input)&&(Ye(I.inputValue)||Me(I.inputValue))&&(Qt(Ae()),Ss(b,I))})(b,N),Ha(N),ql(ht,N,vt),io(I,N),setTimeout(()=>{I.container.scrollTop=0})}),hs=(b,I)=>{const N=(b=>{const I="string"==typeof b.template?document.querySelector(b.template):b.template;if(!I)return{};const N=I.content;return ha(N),Object.assign(to(N),da(N),wu(N),cr(N),Ni(N),nr(N),Wl(N,ca))})(b),K=Object.assign({},ni,I,N,b);return K.showClass=Object.assign({},ni.showClass,K.showClass),K.hideClass=Object.assign({},ni.hideClass,K.hideClass),K},ro=b=>{const I={popup:Ve(),container:Fe(),actions:Re(),confirmButton:Ae(),denyButton:Oe(),cancelButton:me(),loader:le(),closeButton:It(),validationMessage:fe(),progressSteps:it()};return ae.domCache.set(b,I),I},ql=(b,I,N)=>{const K=Ge();mt(K),I.timer&&(b.timeout=new Ps(()=>{N("timer"),delete b.timeout},I.timer),I.timerProgressBar&&(Ln(K),nn(K,I,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&Pn(I.timer)})))},io=(b,I)=>{if(!I.toast){if(!ue(I.allowEnterKey))return void Zu();ks(b,I)||Un(0,-1,1)}},ks=(b,I)=>I.focusDeny&&Zt(b.denyButton)?(b.denyButton.focus(),!0):I.focusCancel&&Zt(b.cancelButton)?(b.cancelButton.focus(),!0):!(!I.focusConfirm||!Zt(b.confirmButton)||(b.confirmButton.focus(),0)),Zu=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};"undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&(document.body.style.pointerEvents="none"),Object.assign(Os.prototype,qt),Object.assign(Os,la),Object.keys(qt).forEach(b=>{Os[b]=function(){if(Rr)return Rr[b](...arguments)}}),Os.DismissReason=ar,Os.version="11.5.2";const Yn=Os;return Yn.default=Yn,Yn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ae,j){var C=ae.createElement("style");if(ae.getElementsByTagName("head")[0].appendChild(C),C.styleSheet)C.styleSheet.disabled||(C.styleSheet.cssText=j);else try{C.innerHTML=j}catch(h){C.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(pt,ae,j)=>{"use strict";function he(re,le){var me={};for(var Re in re)Object.prototype.hasOwnProperty.call(re,Re)&&le.indexOf(Re)<0&&(me[Re]=re[Re]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(Re=Object.getOwnPropertySymbols(re);be<Re.length;be++)le.indexOf(Re[be])<0&&Object.prototype.propertyIsEnumerable.call(re,Re[be])&&(me[Re[be]]=re[Re[be]])}return me}function pe(re,le,me,Re){return new(me||(me=Promise))(function(Ge,It){function hn(cn){try{lt(Re.next(cn))}catch(Fn){It(Fn)}}function zt(cn){try{lt(Re.throw(cn))}catch(Fn){It(Fn)}}function lt(cn){cn.done?Ge(cn.value):function be(Ge){return Ge instanceof me?Ge:new me(function(It){It(Ge)})}(cn.value).then(hn,zt)}lt((Re=Re.apply(re,le||[])).next())})}function ye(re){return this instanceof ye?(this.v=re,this):new ye(re)}function Te(re,le,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Re=me.apply(re,le||[]),Ge=[];return be={},It("next"),It("throw"),It("return"),be[Symbol.asyncIterator]=function(){return this},be;function It(sn){Re[sn]&&(be[sn]=function(Lt){return new Promise(function(Ft,on){Ge.push([sn,Lt,Ft,on])>1||hn(sn,Lt)})})}function hn(sn,Lt){try{!function zt(sn){sn.value instanceof ye?Promise.resolve(sn.value.v).then(lt,cn):Fn(Ge[0][2],sn)}(Re[sn](Lt))}catch(Ft){Fn(Ge[0][3],Ft)}}function lt(sn){hn("next",sn)}function cn(sn){hn("throw",sn)}function Fn(sn,Lt){sn(Lt),Ge.shift(),Ge.length&&hn(Ge[0][0],Ge[0][1])}}function Je(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=re[Symbol.asyncIterator];return le?le.call(re):(re=function ue(re){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&re[le],Re=0;if(me)return me.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Re>=re.length&&(re=void 0),{value:re&&re[Re++],done:!re}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),me={},Re("next"),Re("throw"),Re("return"),me[Symbol.asyncIterator]=function(){return this},me);function Re(Ge){me[Ge]=re[Ge]&&function(It){return new Promise(function(hn,zt){!function be(Ge,It,hn,zt){Promise.resolve(zt).then(function(lt){Ge({value:lt,done:hn})},It)}(hn,zt,(It=re[Ge](It)).done,It.value)})}}}j.d(ae,{_T:()=>he,mG:()=>pe,qq:()=>ye,FC:()=>Te,KL:()=>Je})},9808:(pt,ae,j)=>{"use strict";j.r(ae),j.d(ae,{APP_BASE_HREF:()=>Ve,AsyncPipe:()=>Ao,CommonModule:()=>wi,CurrencyPipe:()=>Wr,DATE_PIPE_DEFAULT_TIMEZONE:()=>vi,DOCUMENT:()=>_e,DatePipe:()=>na,DecimalPipe:()=>_i,FormStyle:()=>le,FormatWidth:()=>Re,HashLocationStrategy:()=>ze,I18nPluralPipe:()=>ns,I18nSelectPipe:()=>Ts,JsonPipe:()=>xo,KeyValuePipe:()=>Mo,LOCATION_INITIALIZED:()=>Q,Location:()=>We,LocationStrategy:()=>ye,LowerCasePipe:()=>So,NgClass:()=>Xt,NgComponentOutlet:()=>Xi,NgForOf:()=>at,NgForOfContext:()=>Lr,NgIf:()=>Er,NgIfContext:()=>mn,NgLocaleLocalization:()=>Mn,NgLocalization:()=>_n,NgPlural:()=>Un,NgPluralCase:()=>br,NgStyle:()=>ur,NgSwitch:()=>Gr,NgSwitchCase:()=>ar,NgSwitchDefault:()=>Co,NgTemplateOutlet:()=>yi,NumberFormatStyle:()=>Oe,NumberSymbol:()=>be,PathLocationStrategy:()=>Je,PercentPipe:()=>xr,PlatformLocation:()=>pe,Plural:()=>re,SlicePipe:()=>Ua,TitleCasePipe:()=>Si,TranslationWidth:()=>me,UpperCasePipe:()=>Ds,VERSION:()=>ni,ViewportScroller:()=>Ys,WeekDay:()=>Ge,XhrFactory:()=>bn,formatCurrency:()=>St,formatDate:()=>Hr,formatNumber:()=>jt,formatPercent:()=>tt,getCurrencySymbol:()=>vr,getLocaleCurrencyCode:()=>Wt,getLocaleCurrencyName:()=>Hn,getLocaleCurrencySymbol:()=>kr,getLocaleDateFormat:()=>Lt,getLocaleDateTimeFormat:()=>on,getLocaleDayNames:()=>zt,getLocaleDayPeriods:()=>hn,getLocaleDirection:()=>yr,getLocaleEraNames:()=>cn,getLocaleExtraDayPeriodRules:()=>Ln,getLocaleExtraDayPeriods:()=>mt,getLocaleFirstDayOfWeek:()=>Fn,getLocaleId:()=>It,getLocaleMonthNames:()=>lt,getLocaleNumberFormat:()=>mr,getLocaleNumberSymbol:()=>nn,getLocalePluralCase:()=>Zn,getLocaleTimeFormat:()=>Ft,getLocaleWeekEndRange:()=>sn,getNumberOfCurrencyDigits:()=>_r,isPlatformBrowser:()=>tr,isPlatformServer:()=>qr,isPlatformWorkerApp:()=>ia,isPlatformWorkerUi:()=>As,registerLocaleData:()=>Ht,\u0275BrowserPlatformLocation:()=>Y,\u0275DomAdapter:()=>De,\u0275NullViewportScroller:()=>ss,\u0275PLATFORM_BROWSER_ID:()=>Ro,\u0275PLATFORM_SERVER_ID:()=>Ei,\u0275PLATFORM_WORKER_APP_ID:()=>Mr,\u0275PLATFORM_WORKER_UI_ID:()=>ra,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>Xr,\u0275setRootDomAdapter:()=>ce});var C=j(5e3);let h=null;function V(){return h}function ce(M){h||(h=M)}class De{}const _e=new C.InjectionToken("DocumentToken");let pe=(()=>{class M{historyGo(S){throw new Error("Not implemented")}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:function(){return function xe(){return(0,C.\u0275\u0275inject)(Y)}()},providedIn:"platform"}),M})();const Q=new C.InjectionToken("Location Initialized");let Y=(()=>{class M extends pe{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(S){const B=V().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",S,!1),()=>B.removeEventListener("popstate",S)}onHashChange(S){const B=V().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",S,!1),()=>B.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,B,ee){ue()?this._history.pushState(S,B,ee):this.location.hash=ee}replaceState(S,B,ee){ue()?this._history.replaceState(S,B,ee):this.location.hash=ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275inject(_e))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:function(){return function Ye(){return new Y((0,C.\u0275\u0275inject)(_e))}()},providedIn:"platform"}),M})();function ue(){return!!window.history.pushState}function Ee(M,L){if(0==M.length)return L;if(0==L.length)return M;let S=0;return M.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?M+L.substring(1):1==S?M+L:M+"/"+L}function Me(M){const L=M.match(/#|\?|$/),S=L&&L.index||M.length;return M.slice(0,S-("/"===M[S-1]?1:0))+M.slice(S)}function Fe(M){return M&&"?"!==M[0]?"?"+M:M}let ye=(()=>{class M{historyGo(S){throw new Error("Not implemented")}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:function(){return function Te(M){const L=(0,C.\u0275\u0275inject)(_e).location;return new Je((0,C.\u0275\u0275inject)(pe),L&&L.origin||"")}()},providedIn:"root"}),M})();const Ve=new C.InjectionToken("appBaseHref");let Je=(()=>{class M extends ye{constructor(S,B){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==B&&(B=this._platformLocation.getBaseHrefFromDOM()),null==B)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=B}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ee(this._baseHref,S)}path(S=!1){const B=this._platformLocation.pathname+Fe(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&S?`${B}${ee}`:B}pushState(S,B,ee,Ne){const qe=this.prepareExternalUrl(ee+Fe(Ne));this._platformLocation.pushState(S,B,qe)}replaceState(S,B,ee,Ne){const qe=this.prepareExternalUrl(ee+Fe(Ne));this._platformLocation.replaceState(S,B,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var B,ee;null===(ee=(B=this._platformLocation).historyGo)||void 0===ee||ee.call(B,S)}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275inject(pe),C.\u0275\u0275inject(Ve,8))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),M})(),ze=(()=>{class M extends ye{constructor(S,B){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(S){const B=Ee(this._baseHref,S);return B.length>0?"#"+B:B}pushState(S,B,ee,Ne){let qe=this.prepareExternalUrl(ee+Fe(Ne));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(S,B,qe)}replaceState(S,B,ee,Ne){let qe=this.prepareExternalUrl(ee+Fe(Ne));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(S,B,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var B,ee;null===(ee=(B=this._platformLocation).historyGo)||void 0===ee||ee.call(B,S)}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275inject(pe),C.\u0275\u0275inject(Ve,8))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),M})(),We=(()=>{class M{constructor(S,B){this._subject=new C.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=S;const ee=this._platformStrategy.getBaseHref();this._platformLocation=B,this._baseHref=Me(fe(ee)),this._platformStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,B=""){return this.path()==this.normalize(S+Fe(B))}normalize(S){return M.stripTrailingSlash(function it(M,L){return M&&L.startsWith(M)?L.substring(M.length):L}(this._baseHref,fe(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,B="",ee=null){this._platformStrategy.pushState(ee,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Fe(B)),ee)}replaceState(S,B="",ee=null){this._platformStrategy.replaceState(ee,"",S,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Fe(B)),ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var B,ee;null===(ee=(B=this._platformStrategy).historyGo)||void 0===ee||ee.call(B,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}))}_notifyUrlChangeListeners(S="",B){this._urlChangeListeners.forEach(ee=>ee(S,B))}subscribe(S,B,ee){return this._subject.subscribe({next:S,error:B,complete:ee})}}return M.normalizeQueryParams=Fe,M.joinWithSlash=Ee,M.stripTrailingSlash=Me,M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275inject(ye),C.\u0275\u0275inject(pe))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:function(){return function Be(){return new We((0,C.\u0275\u0275inject)(ye),(0,C.\u0275\u0275inject)(pe))}()},providedIn:"root"}),M})();function fe(M){return M.replace(/\/index.html$/,"")}const Ae={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Oe=(()=>((Oe=Oe||{})[Oe.Decimal=0]="Decimal",Oe[Oe.Percent=1]="Percent",Oe[Oe.Currency=2]="Currency",Oe[Oe.Scientific=3]="Scientific",Oe))(),re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))(),le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),be=(()=>((be=be||{})[be.Decimal=0]="Decimal",be[be.Group=1]="Group",be[be.List=2]="List",be[be.PercentSign=3]="PercentSign",be[be.PlusSign=4]="PlusSign",be[be.MinusSign=5]="MinusSign",be[be.Exponential=6]="Exponential",be[be.SuperscriptingExponent=7]="SuperscriptingExponent",be[be.PerMille=8]="PerMille",be[be.Infinity=9]="Infinity",be[be.NaN=10]="NaN",be[be.TimeSeparator=11]="TimeSeparator",be[be.CurrencyDecimal=12]="CurrencyDecimal",be[be.CurrencyGroup=13]="CurrencyGroup",be))(),Ge=(()=>((Ge=Ge||{})[Ge.Sunday=0]="Sunday",Ge[Ge.Monday=1]="Monday",Ge[Ge.Tuesday=2]="Tuesday",Ge[Ge.Wednesday=3]="Wednesday",Ge[Ge.Thursday=4]="Thursday",Ge[Ge.Friday=5]="Friday",Ge[Ge.Saturday=6]="Saturday",Ge))();function It(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.LocaleId]}function hn(M,L,S){const B=(0,C.\u0275findLocaleData)(M),Ne=xn([B[C.\u0275LocaleDataIndex.DayPeriodsFormat],B[C.\u0275LocaleDataIndex.DayPeriodsStandalone]],L);return xn(Ne,S)}function zt(M,L,S){const B=(0,C.\u0275findLocaleData)(M),Ne=xn([B[C.\u0275LocaleDataIndex.DaysFormat],B[C.\u0275LocaleDataIndex.DaysStandalone]],L);return xn(Ne,S)}function lt(M,L,S){const B=(0,C.\u0275findLocaleData)(M),Ne=xn([B[C.\u0275LocaleDataIndex.MonthsFormat],B[C.\u0275LocaleDataIndex.MonthsStandalone]],L);return xn(Ne,S)}function cn(M,L){return xn((0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.Eras],L)}function Fn(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.FirstDayOfWeek]}function sn(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.WeekendRange]}function Lt(M,L){return xn((0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.DateFormat],L)}function Ft(M,L){return xn((0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.TimeFormat],L)}function on(M,L){return xn((0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.DateTimeFormat],L)}function nn(M,L){const S=(0,C.\u0275findLocaleData)(M),B=S[C.\u0275LocaleDataIndex.NumberSymbols][L];if(void 0===B){if(L===be.CurrencyDecimal)return S[C.\u0275LocaleDataIndex.NumberSymbols][be.Decimal];if(L===be.CurrencyGroup)return S[C.\u0275LocaleDataIndex.NumberSymbols][be.Group]}return B}function mr(M,L){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.NumberFormats][L]}function kr(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.CurrencySymbol]||null}function Hn(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.CurrencyName]||null}function Wt(M){return(0,C.\u0275getLocaleCurrencyCode)(M)}const Zn=C.\u0275getLocalePluralCase;function jn(M){if(!M[C.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[C.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ln(M){const L=(0,C.\u0275findLocaleData)(M);return jn(L),(L[C.\u0275LocaleDataIndex.ExtraData][2]||[]).map(B=>"string"==typeof B?Zt(B):[Zt(B[0]),Zt(B[1])])}function mt(M,L,S){const B=(0,C.\u0275findLocaleData)(M);jn(B);const Ne=xn([B[C.\u0275LocaleDataIndex.ExtraData][0],B[C.\u0275LocaleDataIndex.ExtraData][1]],L)||[];return xn(Ne,S)||[]}function yr(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.Directionality]}function xn(M,L){for(let S=L;S>-1;S--)if(void 0!==M[S])return M[S];throw new Error("Locale data API: locale data undefined")}function Zt(M){const[L,S]=M.split(":");return{hours:+L,minutes:+S}}function vr(M,L,S="en"){const B=function Kn(M){return(0,C.\u0275findLocaleData)(M)[C.\u0275LocaleDataIndex.Currencies]}(S)[M]||Ae[M]||[],ee=B[1];return"narrow"===L&&"string"==typeof ee?ee:B[0]||M}function _r(M){let L;const S=Ae[M];return S&&(L=S[2]),"number"==typeof L?L:2}const Pn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,an={},wr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.ShortGMT=1]="ShortGMT",ht[ht.Long=2]="Long",ht[ht.Extended=3]="Extended",ht))(),Tt=(()=>((Tt=Tt||{})[Tt.FullYear=0]="FullYear",Tt[Tt.Month=1]="Month",Tt[Tt.Date=2]="Date",Tt[Tt.Hours=3]="Hours",Tt[Tt.Minutes=4]="Minutes",Tt[Tt.Seconds=5]="Seconds",Tt[Tt.FractionalSeconds=6]="FractionalSeconds",Tt[Tt.Day=7]="Day",Tt))(),yt=(()=>((yt=yt||{})[yt.DayPeriods=0]="DayPeriods",yt[yt.Days=1]="Days",yt[yt.Months=2]="Months",yt[yt.Eras=3]="Eras",yt))();function Hr(M,L,S,B){let ee=function we(M){if(Xe(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[ee,Ne=1,qe=1]=M.split("-").map(bt=>+bt);return Yr(ee,Ne-1,qe)}const S=parseFloat(M);if(!isNaN(M-S))return new Date(S);let B;if(B=M.match(Pn))return function Qe(M){const L=new Date(0);let S=0,B=0;const ee=M[8]?L.setUTCFullYear:L.setFullYear,Ne=M[8]?L.setUTCHours:L.setHours;M[9]&&(S=Number(M[9]+M[10]),B=Number(M[9]+M[11])),ee.call(L,Number(M[1]),Number(M[2])-1,Number(M[3]));const qe=Number(M[4]||0)-S,bt=Number(M[5]||0)-B,Bt=Number(M[6]||0),yn=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Ne.call(L,qe,bt,Bt,yn),L}(B)}const L=new Date(M);if(!Xe(L))throw new Error(`Unable to convert "${M}" into a date`);return L}(M);L=un(S,L)||L;let bt,qe=[];for(;L;){if(bt=wr.exec(L),!bt){qe.push(L);break}{qe=qe.concat(bt.slice(1));const qt=qe.pop();if(!qt)break;L=qt}}let Bt=ee.getTimezoneOffset();B&&(Bt=q(B,Bt),ee=function z(M,L,S){const B=S?-1:1,ee=M.getTimezoneOffset();return function U(M,L){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+L),M}(M,B*(q(L,ee)-ee))}(ee,B,!0));let yn="";return qe.forEach(qt=>{const Qt=function ne(M){if(Z[M])return Z[M];let L;switch(M){case"G":case"GG":case"GGG":L=tn(yt.Eras,me.Abbreviated);break;case"GGGG":L=tn(yt.Eras,me.Wide);break;case"GGGGG":L=tn(yt.Eras,me.Narrow);break;case"y":L=At(Tt.FullYear,1,0,!1,!0);break;case"yy":L=At(Tt.FullYear,2,0,!0,!0);break;case"yyy":L=At(Tt.FullYear,3,0,!1,!0);break;case"yyyy":L=At(Tt.FullYear,4,0,!1,!0);break;case"Y":L=J(1);break;case"YY":L=J(2,!0);break;case"YYY":L=J(3);break;case"YYYY":L=J(4);break;case"M":case"L":L=At(Tt.Month,1,1);break;case"MM":case"LL":L=At(Tt.Month,2,1);break;case"MMM":L=tn(yt.Months,me.Abbreviated);break;case"MMMM":L=tn(yt.Months,me.Wide);break;case"MMMMM":L=tn(yt.Months,me.Narrow);break;case"LLL":L=tn(yt.Months,me.Abbreviated,le.Standalone);break;case"LLLL":L=tn(yt.Months,me.Wide,le.Standalone);break;case"LLLLL":L=tn(yt.Months,me.Narrow,le.Standalone);break;case"w":L=gn(1);break;case"ww":L=gn(2);break;case"W":L=gn(1,!0);break;case"d":L=At(Tt.Date,1);break;case"dd":L=At(Tt.Date,2);break;case"c":case"cc":L=At(Tt.Day,1);break;case"ccc":L=tn(yt.Days,me.Abbreviated,le.Standalone);break;case"cccc":L=tn(yt.Days,me.Wide,le.Standalone);break;case"ccccc":L=tn(yt.Days,me.Narrow,le.Standalone);break;case"cccccc":L=tn(yt.Days,me.Short,le.Standalone);break;case"E":case"EE":case"EEE":L=tn(yt.Days,me.Abbreviated);break;case"EEEE":L=tn(yt.Days,me.Wide);break;case"EEEEE":L=tn(yt.Days,me.Narrow);break;case"EEEEEE":L=tn(yt.Days,me.Short);break;case"a":case"aa":case"aaa":L=tn(yt.DayPeriods,me.Abbreviated);break;case"aaaa":L=tn(yt.DayPeriods,me.Wide);break;case"aaaaa":L=tn(yt.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":L=tn(yt.DayPeriods,me.Abbreviated,le.Standalone,!0);break;case"bbbb":L=tn(yt.DayPeriods,me.Wide,le.Standalone,!0);break;case"bbbbb":L=tn(yt.DayPeriods,me.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":L=tn(yt.DayPeriods,me.Abbreviated,le.Format,!0);break;case"BBBB":L=tn(yt.DayPeriods,me.Wide,le.Format,!0);break;case"BBBBB":L=tn(yt.DayPeriods,me.Narrow,le.Format,!0);break;case"h":L=At(Tt.Hours,1,-12);break;case"hh":L=At(Tt.Hours,2,-12);break;case"H":L=At(Tt.Hours,1);break;case"HH":L=At(Tt.Hours,2);break;case"m":L=At(Tt.Minutes,1);break;case"mm":L=At(Tt.Minutes,2);break;case"s":L=At(Tt.Seconds,1);break;case"ss":L=At(Tt.Seconds,2);break;case"S":L=At(Tt.FractionalSeconds,1);break;case"SS":L=At(Tt.FractionalSeconds,2);break;case"SSS":L=At(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=ct(ht.Short);break;case"ZZZZZ":L=ct(ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=ct(ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=ct(ht.Long);break;default:return null}return Z[M]=L,L}(qt);yn+=Qt?Qt(ee,S,Bt):"''"===qt?"'":qt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),yn}function Yr(M,L,S){const B=new Date(0);return B.setFullYear(M,L,S),B.setHours(0,0,0),B}function un(M,L){const S=It(M);if(an[S]=an[S]||{},an[S][L])return an[S][L];let B="";switch(L){case"shortDate":B=Lt(M,Re.Short);break;case"mediumDate":B=Lt(M,Re.Medium);break;case"longDate":B=Lt(M,Re.Long);break;case"fullDate":B=Lt(M,Re.Full);break;case"shortTime":B=Ft(M,Re.Short);break;case"mediumTime":B=Ft(M,Re.Medium);break;case"longTime":B=Ft(M,Re.Long);break;case"fullTime":B=Ft(M,Re.Full);break;case"short":const ee=un(M,"shortTime"),Ne=un(M,"shortDate");B=Fr(on(M,Re.Short),[ee,Ne]);break;case"medium":const qe=un(M,"mediumTime"),bt=un(M,"mediumDate");B=Fr(on(M,Re.Medium),[qe,bt]);break;case"long":const Bt=un(M,"longTime"),yn=un(M,"longDate");B=Fr(on(M,Re.Long),[Bt,yn]);break;case"full":const qt=un(M,"fullTime"),Qt=un(M,"fullDate");B=Fr(on(M,Re.Full),[qt,Qt])}return B&&(an[S][L]=B),B}function Fr(M,L){return L&&(M=M.replace(/\{([^}]+)}/g,function(S,B){return null!=L&&B in L?L[B]:S})),M}function Xn(M,L,S="-",B,ee){let Ne="";(M<0||ee&&M<=0)&&(ee?M=1-M:(M=-M,Ne=S));let qe=String(M);for(;qe.length<L;)qe="0"+qe;return B&&(qe=qe.substr(qe.length-L)),Ne+qe}function At(M,L,S=0,B=!1,ee=!1){return function(Ne,qe){let bt=function Jr(M,L){switch(M){case Tt.FullYear:return L.getFullYear();case Tt.Month:return L.getMonth();case Tt.Date:return L.getDate();case Tt.Hours:return L.getHours();case Tt.Minutes:return L.getMinutes();case Tt.Seconds:return L.getSeconds();case Tt.FractionalSeconds:return L.getMilliseconds();case Tt.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Ne);if((S>0||bt>-S)&&(bt+=S),M===Tt.Hours)0===bt&&-12===S&&(bt=12);else if(M===Tt.FractionalSeconds)return function Vn(M,L){return Xn(M,3).substr(0,L)}(bt,L);const Bt=nn(qe,be.MinusSign);return Xn(bt,L,Bt,B,ee)}}function tn(M,L,S=le.Format,B=!1){return function(ee,Ne){return function Qn(M,L,S,B,ee,Ne){switch(S){case yt.Months:return lt(L,ee,B)[M.getMonth()];case yt.Days:return zt(L,ee,B)[M.getDay()];case yt.DayPeriods:const qe=M.getHours(),bt=M.getMinutes();if(Ne){const yn=Ln(L),qt=mt(L,ee,B),Qt=yn.findIndex($n=>{if(Array.isArray($n)){const[Yt,Kt]=$n,li=qe>=Yt.hours&&bt>=Yt.minutes,Ur=qe<Kt.hours||qe===Kt.hours&&bt<Kt.minutes;if(Yt.hours<Kt.hours){if(li&&Ur)return!0}else if(li||Ur)return!0}else if($n.hours===qe&&$n.minutes===bt)return!0;return!1});if(-1!==Qt)return qt[Qt]}return hn(L,ee,B)[qe<12?0:1];case yt.Eras:return cn(L,B)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(ee,Ne,M,L,S,B)}}function ct(M){return function(L,S,B){const ee=-1*B,Ne=nn(S,be.MinusSign),qe=ee>0?Math.floor(ee/60):Math.ceil(ee/60);switch(M){case ht.Short:return(ee>=0?"+":"")+Xn(qe,2,Ne)+Xn(Math.abs(ee%60),2,Ne);case ht.ShortGMT:return"GMT"+(ee>=0?"+":"")+Xn(qe,1,Ne);case ht.Long:return"GMT"+(ee>=0?"+":"")+Xn(qe,2,Ne)+":"+Xn(Math.abs(ee%60),2,Ne);case ht.Extended:return 0===B?"Z":(ee>=0?"+":"")+Xn(qe,2,Ne)+":"+Xn(Math.abs(ee%60),2,Ne);default:throw new Error(`Unknown zone width "${M}"`)}}}function Pt(M){return Yr(M.getFullYear(),M.getMonth(),M.getDate()+(4-M.getDay()))}function gn(M,L=!1){return function(S,B){let ee;if(L){const Ne=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,qe=S.getDate();ee=1+Math.floor((qe+Ne)/7)}else{const Ne=Pt(S),qe=function kt(M){const L=Yr(M,0,1).getDay();return Yr(M,0,1+(L<=4?4:11)-L)}(Ne.getFullYear()),bt=Ne.getTime()-qe.getTime();ee=1+Math.round(bt/6048e5)}return Xn(ee,M,nn(B,be.MinusSign))}}function J(M,L=!1){return function(S,B){return Xn(Pt(S).getFullYear(),M,nn(B,be.MinusSign),L)}}const Z={};function q(M,L){M=M.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(S)?L:S}function Xe(M){return M instanceof Date&&!isNaN(M.valueOf())}const Et=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ji(M,L,S,B,ee,Ne,qe=!1){let bt="",Bt=!1;if(isFinite(M)){let yn=function Ai(M){let B,ee,Ne,qe,bt,L=Math.abs(M)+"",S=0;for((ee=L.indexOf("."))>-1&&(L=L.replace(".","")),(Ne=L.search(/e/i))>0?(ee<0&&(ee=Ne),ee+=+L.slice(Ne+1),L=L.substring(0,Ne)):ee<0&&(ee=L.length),Ne=0;"0"===L.charAt(Ne);Ne++);if(Ne===(bt=L.length))B=[0],ee=1;else{for(bt--;"0"===L.charAt(bt);)bt--;for(ee-=Ne,B=[],qe=0;Ne<=bt;Ne++,qe++)B[qe]=Number(L.charAt(Ne))}return ee>22&&(B=B.splice(0,21),S=ee-1,ee=1),{digits:B,exponent:S,integerLen:ee}}(M);qe&&(yn=function $r(M){if(0===M.digits[0])return M;const L=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===L?M.digits.push(0,0):1===L&&M.digits.push(0),M.integerLen+=2),M}(yn));let qt=L.minInt,Qt=L.minFrac,$n=L.maxFrac;if(Ne){const Bi=Ne.match(Et);if(null===Bi)throw new Error(`${Ne} is not a valid digit info`);const Ss=Bi[1],sa=Bi[3],ji=Bi[5];null!=Ss&&(qt=Ui(Ss)),null!=sa&&(Qt=Ui(sa)),null!=ji?$n=Ui(ji):null!=sa&&Qt>$n&&($n=Qt)}!function An(M,L,S){if(L>S)throw new Error(`The minimum number of digits after fraction (${L}) is higher than the maximum (${S}).`);let B=M.digits,ee=B.length-M.integerLen;const Ne=Math.min(Math.max(L,ee),S);let qe=Ne+M.integerLen,bt=B[qe];if(qe>0){B.splice(Math.max(M.integerLen,qe));for(let Qt=qe;Qt<B.length;Qt++)B[Qt]=0}else{ee=Math.max(0,ee),M.integerLen=1,B.length=Math.max(1,qe=Ne+1),B[0]=0;for(let Qt=1;Qt<qe;Qt++)B[Qt]=0}if(bt>=5)if(qe-1<0){for(let Qt=0;Qt>qe;Qt--)B.unshift(0),M.integerLen++;B.unshift(1),M.integerLen++}else B[qe-1]++;for(;ee<Math.max(0,Ne);ee++)B.push(0);let Bt=0!==Ne;const yn=L+M.integerLen,qt=B.reduceRight(function(Qt,$n,Yt,Kt){return Kt[Yt]=($n+=Qt)<10?$n:$n-10,Bt&&(0===Kt[Yt]&&Yt>=yn?Kt.pop():Bt=!1),$n>=10?1:0},0);qt&&(B.unshift(qt),M.integerLen++)}(yn,Qt,$n);let Yt=yn.digits,Kt=yn.integerLen;const li=yn.exponent;let Ur=[];for(Bt=Yt.every(Bi=>!Bi);Kt<qt;Kt++)Yt.unshift(0);for(;Kt<0;Kt++)Yt.unshift(0);Kt>0?Ur=Yt.splice(Kt,Yt.length):(Ur=Yt,Yt=[0]);const xt=[];for(Yt.length>=L.lgSize&&xt.unshift(Yt.splice(-L.lgSize,Yt.length).join(""));Yt.length>L.gSize;)xt.unshift(Yt.splice(-L.gSize,Yt.length).join(""));Yt.length&&xt.unshift(Yt.join("")),bt=xt.join(nn(S,B)),Ur.length&&(bt+=nn(S,ee)+Ur.join("")),li&&(bt+=nn(S,be.Exponential)+"+"+li)}else bt=nn(S,be.Infinity);return bt=M<0&&!Bt?L.negPre+bt+L.negSuf:L.posPre+bt+L.posSuf,bt}function St(M,L,S,B,ee){const qe=vn(mr(L,Oe.Currency),nn(L,be.MinusSign));return qe.minFrac=_r(B),qe.maxFrac=qe.minFrac,Ji(M,qe,L,be.CurrencyGroup,be.CurrencyDecimal,ee).replace("\xa4",S).replace("\xa4","").trim()}function tt(M,L,S){return Ji(M,vn(mr(L,Oe.Percent),nn(L,be.MinusSign)),L,be.Group,be.Decimal,S,!0).replace(new RegExp("%","g"),nn(L,be.PercentSign))}function jt(M,L,S){return Ji(M,vn(mr(L,Oe.Decimal),nn(L,be.MinusSign)),L,be.Group,be.Decimal,S)}function vn(M,L="-"){const S={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},B=M.split(";"),ee=B[0],Ne=B[1],qe=-1!==ee.indexOf(".")?ee.split("."):[ee.substring(0,ee.lastIndexOf("0")+1),ee.substring(ee.lastIndexOf("0")+1)],bt=qe[0],Bt=qe[1]||"";S.posPre=bt.substr(0,bt.indexOf("#"));for(let qt=0;qt<Bt.length;qt++){const Qt=Bt.charAt(qt);"0"===Qt?S.minFrac=S.maxFrac=qt+1:"#"===Qt?S.maxFrac=qt+1:S.posSuf+=Qt}const yn=bt.split(",");if(S.gSize=yn[1]?yn[1].length:0,S.lgSize=yn[2]||yn[1]?(yn[2]||yn[1]).length:0,Ne){const qt=ee.length-S.posPre.length-S.posSuf.length,Qt=Ne.indexOf("#");S.negPre=Ne.substr(0,Qt).replace(/'/g,""),S.negSuf=Ne.substr(Qt+qt).replace(/'/g,"")}else S.negPre=L+S.posPre,S.negSuf=S.posSuf;return S}function Ui(M){const L=parseInt(M);if(isNaN(L))throw new Error("Invalid integer literal when parsing "+M);return L}let _n=(()=>{class M{}return M.\u0275fac=function(S){return new(S||M)},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:function(S){let B=null;return S?B=new S:(ee=C.\u0275\u0275inject(C.LOCALE_ID),B=new Mn(ee)),B;var ee},providedIn:"root"}),M})();function ke(M,L,S,B){let ee=`=${M}`;if(L.indexOf(ee)>-1||(ee=S.getPluralCategory(M,B),L.indexOf(ee)>-1))return ee;if(L.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${M}"`)}let Mn=(()=>{class M extends _n{constructor(S){super(),this.locale=S}getPluralCategory(S,B){switch(Zn(B||this.locale)(S)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275inject(C.LOCALE_ID))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),M})();function Ht(M,L,S){return(0,C.\u0275registerLocaleData)(M,L,S)}function Xr(M,L){L=encodeURIComponent(L);for(const S of M.split(";")){const B=S.indexOf("="),[ee,Ne]=-1==B?[S,""]:[S.slice(0,B),S.slice(B+1)];if(ee.trim()===L)return decodeURIComponent(Ne)}return null}let Xt=(()=>{class M{constructor(S,B,ee,Ne){this._iterableDiffers=S,this._keyValueDiffers=B,this._ngEl=ee,this._renderer=Ne,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,C.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(B=>this._toggleClass(B.key,B.currentValue)),S.forEachChangedItem(B=>this._toggleClass(B.key,B.currentValue)),S.forEachRemovedItem(B=>{B.previousValue&&this._toggleClass(B.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(B=>{if("string"!=typeof B.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.\u0275stringify)(B.item)}`);this._toggleClass(B.item,!0)}),S.forEachRemovedItem(B=>this._toggleClass(B.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(B=>this._toggleClass(B,!0)):Object.keys(S).forEach(B=>this._toggleClass(B,!!S[B])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(B=>this._toggleClass(B,!1)):Object.keys(S).forEach(B=>this._toggleClass(B,!1)))}_toggleClass(S,B){(S=S.trim())&&S.split(/\s+/g).forEach(ee=>{B?this._renderer.addClass(this._ngEl.nativeElement,ee):this._renderer.removeClass(this._ngEl.nativeElement,ee)})}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.IterableDiffers),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.Renderer2))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),M})(),Xi=(()=>{class M{constructor(S){this._viewContainerRef=S,this._componentRef=null,this._moduleRef=null}ngOnChanges(S){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const B=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(S.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const qe=B.get(C.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(qe.injector)}else this._moduleRef=null;const Ne=(this._moduleRef?this._moduleRef.componentFactoryResolver:B.get(C.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(Ne,this._viewContainerRef.length,B,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[C.\u0275\u0275NgOnChangesFeature]}),M})();class Lr{constructor(L,S,B,ee){this.$implicit=L,this.ngForOf=S,this.index=B,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class M{constructor(S,B,ee){this._viewContainer=S,this._template=B,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const B=this._viewContainer;S.forEachOperation((ee,Ne,qe)=>{if(null==ee.previousIndex)B.createEmbeddedView(this._template,new Lr(ee.item,this._ngForOf,-1,-1),null===qe?void 0:qe);else if(null==qe)B.remove(null===Ne?void 0:Ne);else if(null!==Ne){const bt=B.get(Ne);B.move(bt,qe),ai(bt,ee)}});for(let ee=0,Ne=B.length;ee<Ne;ee++){const bt=B.get(ee).context;bt.index=ee,bt.count=Ne,bt.ngForOf=this._ngForOf}S.forEachIdentityChange(ee=>{ai(B.get(ee.currentIndex),ee)})}static ngTemplateContextGuard(S,B){return!0}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.IterableDiffers))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M})();function ai(M,L){M.context.$implicit=L.item}let Er=(()=>{class M{constructor(S,B){this._viewContainer=S,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){es("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){es("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,B){return!0}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),M})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function es(M,L){if(L&&!L.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,C.\u0275stringify)(L)}'.`)}class ts{constructor(L,S){this._viewContainerRef=L,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(L){L&&!this._created?this.create():!L&&this._created&&this.destroy()}}let Gr=(()=>{class M{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(S)}_matchCase(S){const B=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||B,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),B}_updateDefaultCases(S){if(this._defaultViews&&S!==this._defaultUsed){this._defaultUsed=S;for(let B=0;B<this._defaultViews.length;B++)this._defaultViews[B].enforceState(S)}}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),M})(),ar=(()=>{class M{constructor(S,B,ee){this.ngSwitch=ee,ee._addCase(),this._view=new ts(S,B)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(Gr,9))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),M})(),Co=(()=>{class M{constructor(S,B,ee){ee._addDefault(new ts(S,B))}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(Gr,9))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngSwitchDefault",""]]}),M})(),Un=(()=>{class M{constructor(S){this._localization=S,this._caseViews={}}set ngPlural(S){this._switchValue=S,this._updateView()}addCase(S,B){this._caseViews[S]=B}_updateView(){this._clearViews();const S=Object.keys(this._caseViews),B=ke(this._switchValue,S,this._localization);this._activateView(this._caseViews[B])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(S){S&&(this._activeView=S,this._activeView.create())}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(_n))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),M})(),br=(()=>{class M{constructor(S,B,ee,Ne){this.value=S;const qe=!isNaN(Number(S));Ne.addCase(qe?`=${S}`:S,new ts(ee,B))}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275injectAttribute("ngPluralCase"),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(Un,1))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngPluralCase",""]]}),M})(),ur=(()=>{class M{constructor(S,B,ee){this._ngEl=S,this._differs=B,this._renderer=ee,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,B){const[ee,Ne]=S.split(".");null!=(B=null!=B&&Ne?`${B}${Ne}`:B)?this._renderer.setStyle(this._ngEl.nativeElement,ee,B):this._renderer.removeStyle(this._ngEl.nativeElement,ee)}_applyChanges(S){S.forEachRemovedItem(B=>this._setStyle(B.key,null)),S.forEachAddedItem(B=>this._setStyle(B.key,B.currentValue)),S.forEachChangedItem(B=>this._setStyle(B.key,B.currentValue))}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.Renderer2))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),M})(),yi=(()=>{class M{constructor(S){this._viewContainerRef=S,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(S){if(S.ngTemplateOutlet){const B=this._viewContainerRef;this._viewRef&&B.remove(B.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?B.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&S.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},M.\u0275dir=C.\u0275\u0275defineDirective({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[C.\u0275\u0275NgOnChangesFeature]}),M})();function rr(M,L){return new C.\u0275RuntimeError(2100,"")}class ta{createSubscription(L,S){return L.subscribe({next:S,error:B=>{throw B}})}dispose(L){L.unsubscribe()}onDestroy(L){L.unsubscribe()}}class La{createSubscription(L,S){return L.then(S,B=>{throw B})}dispose(L){}onDestroy(L){}}const zr=new La,Vr=new ta;let Ao=(()=>{class M{constructor(S){this._ref=S,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,B=>this._updateLatestValue(S,B))}_selectStrategy(S){if((0,C.\u0275isPromise)(S))return zr;if((0,C.\u0275isSubscribable)(S))return Vr;throw rr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,B){S===this._obj&&(this._latestValue=B,this._ref.markForCheck())}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.ChangeDetectorRef,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"async",type:M,pure:!1}),M})(),So=(()=>{class M{transform(S){if(null==S)return null;if("string"!=typeof S)throw rr();return S.toLowerCase()}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"lowercase",type:M,pure:!0}),M})();const Cs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Si=(()=>{class M{transform(S){if(null==S)return null;if("string"!=typeof S)throw rr();return S.replace(Cs,B=>B[0].toUpperCase()+B.substr(1).toLowerCase())}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"titlecase",type:M,pure:!0}),M})(),Ds=(()=>{class M{transform(S){if(null==S)return null;if("string"!=typeof S)throw rr();return S.toUpperCase()}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"uppercase",type:M,pure:!0}),M})();const vi=new C.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let na=(()=>{class M{constructor(S,B){this.locale=S,this.defaultTimezone=B}transform(S,B="mediumDate",ee,Ne){var qe;if(null==S||""===S||S!=S)return null;try{return Hr(S,B,Ne||this.locale,null!==(qe=null!=ee?ee:this.defaultTimezone)&&void 0!==qe?qe:void 0)}catch(bt){throw rr()}}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(vi,24))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"date",type:M,pure:!0}),M})();const Va=/#/g;let ns=(()=>{class M{constructor(S){this._localization=S}transform(S,B,ee){if(null==S)return"";if("object"!=typeof B||null===B)throw rr();return B[ke(S,Object.keys(B),this._localization,ee)].replace(Va,S.toString())}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(_n,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nPlural",type:M,pure:!0}),M})(),Ts=(()=>{class M{transform(S,B){if(null==S)return"";if("object"!=typeof B||"string"!=typeof S)throw rr();return B.hasOwnProperty(S)?B[S]:B.hasOwnProperty("other")?B.other:""}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nSelect",type:M,pure:!0}),M})(),xo=(()=>{class M{transform(S){return JSON.stringify(S,null,2)}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"json",type:M,pure:!1}),M})(),Mo=(()=>{class M{constructor(S){this.differs=S,this.keyValues=[],this.compareFn=Qs}transform(S,B=Qs){if(!S||!(S instanceof Map)&&"object"!=typeof S)return null;this.differ||(this.differ=this.differs.find(S).create());const ee=this.differ.diff(S),Ne=B!==this.compareFn;return ee&&(this.keyValues=[],ee.forEachItem(qe=>{this.keyValues.push(function ui(M,L){return{key:M,value:L}}(qe.key,qe.currentValue))})),(ee||Ne)&&(this.keyValues.sort(B),this.compareFn=B),this.keyValues}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.KeyValueDiffers,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"keyvalue",type:M,pure:!1}),M})();function Qs(M,L){const S=M.key,B=L.key;if(S===B)return 0;if(void 0===S)return 1;if(void 0===B)return-1;if(null===S)return 1;if(null===B)return-1;if("string"==typeof S&&"string"==typeof B)return S<B?-1:1;if("number"==typeof S&&"number"==typeof B)return S-B;if("boolean"==typeof S&&"boolean"==typeof B)return S<B?-1:1;const ee=String(S),Ne=String(B);return ee==Ne?0:ee<Ne?-1:1}let _i=(()=>{class M{constructor(S){this._locale=S}transform(S,B,ee){if(!rs(S))return null;ee=ee||this._locale;try{return jt(is(S),ee,B)}catch(Ne){throw rr()}}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"number",type:M,pure:!0}),M})(),xr=(()=>{class M{constructor(S){this._locale=S}transform(S,B,ee){if(!rs(S))return null;ee=ee||this._locale;try{return tt(is(S),ee,B)}catch(Ne){throw rr()}}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"percent",type:M,pure:!0}),M})(),Wr=(()=>{class M{constructor(S,B="USD"){this._locale=S,this._defaultCurrencyCode=B}transform(S,B=this._defaultCurrencyCode,ee="symbol",Ne,qe){if(!rs(S))return null;qe=qe||this._locale,"boolean"==typeof ee&&(ee=ee?"symbol":"code");let bt=B||this._defaultCurrencyCode;"code"!==ee&&(bt="symbol"===ee||"symbol-narrow"===ee?vr(bt,"symbol"===ee?"wide":"narrow",qe):ee);try{return St(is(S),qe,bt,B,Ne)}catch(Bt){throw rr()}}}return M.\u0275fac=function(S){return new(S||M)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(C.DEFAULT_CURRENCY_CODE,16))},M.\u0275pipe=C.\u0275\u0275definePipe({name:"currency",type:M,pure:!0}),M})();function rs(M){return!(null==M||""===M||M!=M)}function is(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}let Ua=(()=>{class M{transform(S,B,ee){if(null==S)return null;if(!this.supports(S))throw rr();return S.slice(B,ee)}supports(S){return"string"==typeof S||Array.isArray(S)}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275pipe=C.\u0275\u0275definePipe({name:"slice",type:M,pure:!1}),M})(),wi=(()=>{class M{}return M.\u0275fac=function(S){return new(S||M)},M.\u0275mod=C.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=C.\u0275\u0275defineInjector({}),M})();const Ro="browser",Ei="server",Mr="browserWorkerApp",ra="browserWorkerUi";function tr(M){return M===Ro}function qr(M){return M===Ei}function ia(M){return M===Mr}function As(M){return M===ra}const ni=new C.Version("13.2.7");let Ys=(()=>{class M{}return M.\u0275prov=(0,C.\u0275\u0275defineInjectable)({token:M,providedIn:"root",factory:()=>new Js((0,C.\u0275\u0275inject)(_e),window)}),M})();class Js{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function ei(M,L){const S=M.getElementById(L)||M.getElementsByName(L)[0];if(S)return S;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const B=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ee=B.currentNode;for(;ee;){const Ne=ee.shadowRoot;if(Ne){const qe=Ne.getElementById(L)||Ne.querySelector(`[name="${L}"]`);if(qe)return qe}ee=B.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=L)}}scrollToElement(L){const S=L.getBoundingClientRect(),B=S.left+this.window.pageXOffset,ee=S.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(B-Ne[0],ee-Ne[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=No(this.window.history)||No(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch(L){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(L){return!1}}}function No(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class ss{setOffset(L){}getScrollPosition(){return[0,0]}scrollToPosition(L){}scrollToAnchor(L){}setHistoryScrollRestoration(L){}}class bn{}},5e3:(pt,ae,j)=>{"use strict";j.r(ae),j.d(ae,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>zc,APP_BOOTSTRAP_LISTENER:()=>Qv,APP_ID:()=>Sf,APP_INITIALIZER:()=>PE,ApplicationInitStatus:()=>Af,ApplicationModule:()=>YD,ApplicationRef:()=>Zg,Attribute:()=>tl,COMPILER_OPTIONS:()=>BE,CUSTOM_ELEMENTS_SCHEMA:()=>z_,ChangeDetectionStrategy:()=>Pn,ChangeDetectorRef:()=>l_,Compiler:()=>MC,CompilerFactory:()=>RC,Component:()=>SE,ComponentFactory:()=>Eg,ComponentFactoryResolver:()=>kc,ComponentRef:()=>Ul,ContentChild:()=>uo,ContentChildren:()=>eh,DEFAULT_CURRENCY_CODE:()=>SC,DebugElement:()=>Gd,DebugEventListener:()=>YE,DebugNode:()=>Li,DefaultIterableDiffer:()=>tb,Directive:()=>qv,ElementRef:()=>df,EmbeddedViewRef:()=>QE,ErrorHandler:()=>hh,EventEmitter:()=>Ks,Host:()=>di,HostBinding:()=>NE,HostListener:()=>Tf,INJECTOR:()=>Cp,Inject:()=>oe,InjectFlags:()=>mt,Injectable:()=>Ad,InjectionToken:()=>Ir,Injector:()=>Ko,Input:()=>ME,IterableDiffers:()=>qd,KeyValueDiffers:()=>em,LOCALE_ID:()=>$g,MissingTranslationStrategy:()=>Pa,ModuleWithComponentFactories:()=>UE,NO_ERRORS_SCHEMA:()=>W_,NgModule:()=>DC,NgModuleFactory:()=>Q0,NgModuleRef:()=>Bd,NgProbeToken:()=>GD,NgZone:()=>Oa,Optional:()=>Se,Output:()=>RE,PACKAGE_ROOT_URL:()=>kE,PLATFORM_ID:()=>Zv,PLATFORM_INITIALIZER:()=>OE,Pipe:()=>xE,PlatformRef:()=>Kg,Query:()=>Ls,QueryList:()=>Lc,ReflectiveInjector:()=>Tc,ReflectiveKey:()=>au,Renderer2:()=>QI,RendererFactory2:()=>Iv,RendererStyleFlags2:()=>Da,ResolvedReflectiveFactory:()=>Yw,Sanitizer:()=>Cg,SecurityContext:()=>Wn,Self:()=>gt,SimpleChange:()=>Wr,SkipSelf:()=>dr,TRANSLATIONS:()=>xC,TRANSLATIONS_FORMAT:()=>VE,TemplateRef:()=>jd,Testability:()=>Yv,TestabilityRegistry:()=>Jv,Type:()=>lo,VERSION:()=>Dv,Version:()=>Cv,ViewChild:()=>nh,ViewChildren:()=>th,ViewContainerRef:()=>_f,ViewEncapsulation:()=>ht,ViewRef:()=>Rf,asNativeElements:()=>Hl,assertPlatform:()=>r_,createNgModuleRef:()=>UD,createPlatform:()=>t_,createPlatformFactory:()=>n_,defineInjectable:()=>Ft,destroyPlatform:()=>$E,enableProdMode:()=>o_,forwardRef:()=>Y,getDebugNode:()=>Nf,getModuleFactory:()=>ZE,getNgModuleById:()=>a_,getPlatform:()=>qg,inject:()=>W,isDevMode:()=>KE,platformCore:()=>ib,resolveForwardRef:()=>ue,setTestabilityGetter:()=>LC,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>e_,\u0275APP_ID_RANDOM_PROVIDER:()=>AC,\u0275ChangeDetectorStatus:()=>an,\u0275ComponentFactory:()=>Eg,\u0275Console:()=>FE,\u0275DEFAULT_LOCALE_ID:()=>Ra,\u0275INJECTOR_SCOPE:()=>Zm,\u0275LifecycleHooksFeature:()=>Oh,\u0275LocaleDataIndex:()=>Gt,\u0275NG_COMP_DEF:()=>Jr,\u0275NG_DIR_DEF:()=>tn,\u0275NG_ELEMENT_ID:()=>st,\u0275NG_INJ_DEF:()=>Zn,\u0275NG_MOD_DEF:()=>ct,\u0275NG_PIPE_DEF:()=>Qn,\u0275NG_PROV_DEF:()=>Kn,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Dg,\u0275NO_CHANGE:()=>Rt,\u0275NgModuleFactory:()=>ff,\u0275NoopNgZone:()=>HE,\u0275ReflectionCapabilities:()=>tc,\u0275Render3ComponentFactory:()=>Av,\u0275Render3ComponentRef:()=>XI,\u0275Render3NgModuleRef:()=>Y0,\u0275RuntimeError:()=>Me,\u0275ViewRef:()=>Bl,\u0275_sanitizeHtml:()=>sc,\u0275_sanitizeUrl:()=>js,\u0275allowSanitizationBypassAndThrow:()=>Ce,\u0275bypassSanitizationTrustHtml:()=>go,\u0275bypassSanitizationTrustResourceUrl:()=>lm,\u0275bypassSanitizationTrustScript:()=>ic,\u0275bypassSanitizationTrustStyle:()=>Wf,\u0275bypassSanitizationTrustUrl:()=>Go,\u0275clearResolutionOfComponentResourcesQueue:()=>qc,\u0275compileComponent:()=>Bg,\u0275compileDirective:()=>CE,\u0275compileNgModule:()=>wE,\u0275compileNgModuleDefs:()=>jv,\u0275compileNgModuleFactory:()=>Xv,\u0275compilePipe:()=>AE,\u0275createInjector:()=>Dp,\u0275defaultIterableDiffers:()=>$C,\u0275defaultKeyValueDiffers:()=>ZD,\u0275detectChanges:()=>Ip,\u0275devModeEqual:()=>kp,\u0275findLocaleData:()=>xc,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>vE,\u0275getDebugNode:()=>Nf,\u0275getDebugNodeR2:()=>qD,\u0275getDirectives:()=>Xm,\u0275getHostElement:()=>ty,\u0275getInjectableDef:()=>nn,\u0275getLContext:()=>ii,\u0275getLocaleCurrencyCode:()=>I0,\u0275getLocalePluralCase:()=>fg,\u0275getSanitizationBypassType:()=>Mu,\u0275global:()=>un,\u0275injectChangeDetectorRef:()=>c_,\u0275isBoundToModule:()=>$u,\u0275isDefaultChangeDetectionStrategy:()=>wr,\u0275isListLikeIterable:()=>Al,\u0275isObservable:()=>Kp,\u0275isPromise:()=>qh,\u0275isSubscribable:()=>t0,\u0275ivyEnabled:()=>g_,\u0275makeDecorator:()=>dn,\u0275markDirty:()=>pi,\u0275noSideEffects:()=>_r,\u0275patchComponentDefWithScope:()=>Df,\u0275publishDefaultGlobalUtils:()=>zw,\u0275publishGlobalUtil:()=>Zo,\u0275registerLocaleData:()=>hg,\u0275registerNgModuleType:()=>nC,\u0275renderComponent:()=>eI,\u0275resetCompiledComponents:()=>fC,\u0275resetJitOptions:()=>Fg,\u0275resolveComponentResources:()=>eu,\u0275setClassMetadata:()=>eC,\u0275setCurrentInjector:()=>Ya,\u0275setDocument:()=>No,\u0275setLocaleId:()=>rf,\u0275store:()=>gy,\u0275stringify:()=>pe,\u0275transitiveScopesFor:()=>Vg,\u0275unregisterLocaleData:()=>DI,\u0275unwrapSafeValue:()=>ms,\u0275whenRendered:()=>kh,\u0275\u0275CopyDefinitionFeature:()=>Ed,\u0275\u0275FactoryTarget:()=>Nr,\u0275\u0275InheritDefinitionFeature:()=>Op,\u0275\u0275NgOnChangesFeature:()=>rs,\u0275\u0275ProvidersFeature:()=>wg,\u0275\u0275advance:()=>op,\u0275\u0275attribute:()=>cy,\u0275\u0275attributeInterpolate1:()=>dy,\u0275\u0275attributeInterpolate2:()=>Vp,\u0275\u0275attributeInterpolate3:()=>Up,\u0275\u0275attributeInterpolate4:()=>hy,\u0275\u0275attributeInterpolate5:()=>Lh,\u0275\u0275attributeInterpolate6:()=>fy,\u0275\u0275attributeInterpolate7:()=>Vh,\u0275\u0275attributeInterpolate8:()=>py,\u0275\u0275attributeInterpolateV:()=>Uh,\u0275\u0275classMap:()=>ef,\u0275\u0275classMapInterpolate1:()=>h0,\u0275\u0275classMapInterpolate2:()=>f0,\u0275\u0275classMapInterpolate3:()=>ug,\u0275\u0275classMapInterpolate4:()=>p0,\u0275\u0275classMapInterpolate5:()=>g0,\u0275\u0275classMapInterpolate6:()=>gr,\u0275\u0275classMapInterpolate7:()=>EI,\u0275\u0275classMapInterpolate8:()=>bI,\u0275\u0275classMapInterpolateV:()=>Qr,\u0275\u0275classProp:()=>eg,\u0275\u0275contentQuery:()=>Bv,\u0275\u0275defineComponent:()=>Pt,\u0275\u0275defineDirective:()=>we,\u0275\u0275defineInjectable:()=>Lt,\u0275\u0275defineInjector:()=>on,\u0275\u0275defineNgModule:()=>q,\u0275\u0275definePipe:()=>Qe,\u0275\u0275directiveInject:()=>Hh,\u0275\u0275disableBindings:()=>Wu,\u0275\u0275element:()=>Gh,\u0275\u0275elementContainer:()=>Wh,\u0275\u0275elementContainerEnd:()=>qp,\u0275\u0275elementContainerStart:()=>Md,\u0275\u0275elementEnd:()=>xd,\u0275\u0275elementStart:()=>Sd,\u0275\u0275enableBindings:()=>xs,\u0275\u0275getCurrentView:()=>uu,\u0275\u0275getInheritedFactory:()=>ci,\u0275\u0275hostProperty:()=>av,\u0275\u0275i18n:()=>wv,\u0275\u0275i18nApply:()=>bo,\u0275\u0275i18nAttributes:()=>Ev,\u0275\u0275i18nEnd:()=>_v,\u0275\u0275i18nExp:()=>Hu,\u0275\u0275i18nPostprocess:()=>Qi,\u0275\u0275i18nStart:()=>Vd,\u0275\u0275inject:()=>D,\u0275\u0275injectAttribute:()=>za,\u0275\u0275invalidFactory:()=>Wp,\u0275\u0275invalidFactoryDep:()=>P,\u0275\u0275listener:()=>Ry,\u0275\u0275loadQuery:()=>Uc,\u0275\u0275namespaceHTML:()=>ds,\u0275\u0275namespaceMathML:()=>ha,\u0275\u0275namespaceSVG:()=>Wl,\u0275\u0275nextContext:()=>Qp,\u0275\u0275ngDeclareClassMetadata:()=>sb,\u0275\u0275ngDeclareComponent:()=>m_,\u0275\u0275ngDeclareDirective:()=>GC,\u0275\u0275ngDeclareFactory:()=>y_,\u0275\u0275ngDeclareInjectable:()=>v_,\u0275\u0275ngDeclareInjector:()=>kf,\u0275\u0275ngDeclareNgModule:()=>tm,\u0275\u0275ngDeclarePipe:()=>Kd,\u0275\u0275pipe:()=>xv,\u0275\u0275pipeBind1:()=>yf,\u0275\u0275pipeBind2:()=>xg,\u0275\u0275pipeBind3:()=>Mg,\u0275\u0275pipeBind4:()=>oE,\u0275\u0275pipeBindV:()=>aE,\u0275\u0275projection:()=>ky,\u0275\u0275projectionDef:()=>Yp,\u0275\u0275property:()=>My,\u0275\u0275propertyInterpolate:()=>Kh,\u0275\u0275propertyInterpolate1:()=>Zh,\u0275\u0275propertyInterpolate2:()=>Fy,\u0275\u0275propertyInterpolate3:()=>Ly,\u0275\u0275propertyInterpolate4:()=>Qh,\u0275\u0275propertyInterpolate5:()=>Vy,\u0275\u0275propertyInterpolate6:()=>Yh,\u0275\u0275propertyInterpolate7:()=>Jh,\u0275\u0275propertyInterpolate8:()=>Xh,\u0275\u0275propertyInterpolateV:()=>Uy,\u0275\u0275pureFunction0:()=>J0,\u0275\u0275pureFunction1:()=>X0,\u0275\u0275pureFunction2:()=>gi,\u0275\u0275pureFunction3:()=>Io,\u0275\u0275pureFunction4:()=>pf,\u0275\u0275pureFunction5:()=>Sg,\u0275\u0275pureFunction6:()=>eE,\u0275\u0275pureFunction7:()=>tE,\u0275\u0275pureFunction8:()=>nE,\u0275\u0275pureFunctionV:()=>Sv,\u0275\u0275queryRefresh:()=>Uv,\u0275\u0275reference:()=>jp,\u0275\u0275resolveBody:()=>ep,\u0275\u0275resolveDocument:()=>pm,\u0275\u0275resolveWindow:()=>lc,\u0275\u0275restoreView:()=>Po,\u0275\u0275sanitizeHtml:()=>Hs,\u0275\u0275sanitizeResourceUrl:()=>Qc,\u0275\u0275sanitizeScript:()=>ac,\u0275\u0275sanitizeStyle:()=>ll,\u0275\u0275sanitizeUrl:()=>$s,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Yc,\u0275\u0275setComponentScope:()=>gn,\u0275\u0275setNgModuleScope:()=>U,\u0275\u0275styleMap:()=>Eo,\u0275\u0275styleMapInterpolate1:()=>nv,\u0275\u0275styleMapInterpolate2:()=>m0,\u0275\u0275styleMapInterpolate3:()=>y0,\u0275\u0275styleMapInterpolate4:()=>rv,\u0275\u0275styleMapInterpolate5:()=>v0,\u0275\u0275styleMapInterpolate6:()=>_0,\u0275\u0275styleMapInterpolate7:()=>w0,\u0275\u0275styleMapInterpolate8:()=>E0,\u0275\u0275styleMapInterpolateV:()=>II,\u0275\u0275styleProp:()=>Rd,\u0275\u0275stylePropInterpolate1:()=>iv,\u0275\u0275stylePropInterpolate2:()=>sv,\u0275\u0275stylePropInterpolate3:()=>lg,\u0275\u0275stylePropInterpolate4:()=>Yo,\u0275\u0275stylePropInterpolate5:()=>Ma,\u0275\u0275stylePropInterpolate6:()=>b0,\u0275\u0275stylePropInterpolate7:()=>Bu,\u0275\u0275stylePropInterpolate8:()=>Pd,\u0275\u0275stylePropInterpolateV:()=>ov,\u0275\u0275syntheticHostListener:()=>Ny,\u0275\u0275syntheticHostProperty:()=>cg,\u0275\u0275template:()=>Bp,\u0275\u0275templateRefExtractor:()=>mE,\u0275\u0275text:()=>Zy,\u0275\u0275textInterpolate:()=>Pl,\u0275\u0275textInterpolate1:()=>Nd,\u0275\u0275textInterpolate2:()=>Qy,\u0275\u0275textInterpolate3:()=>Yy,\u0275\u0275textInterpolate4:()=>Jy,\u0275\u0275textInterpolate5:()=>og,\u0275\u0275textInterpolate6:()=>Xy,\u0275\u0275textInterpolate7:()=>ag,\u0275\u0275textInterpolate8:()=>ev,\u0275\u0275textInterpolateV:()=>tv,\u0275\u0275trustConstantHtml:()=>Zf,\u0275\u0275trustConstantResourceUrl:()=>cl,\u0275\u0275viewQuery:()=>dE});var C=j(7579),h=j(727),V=j(8306),he=j(6451),ce=j(3099);function De(i){for(let s in i)if(i[s]===De)return s;throw Error("Could not find renamed property on target object.")}function _e(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function xe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Q=De({__forward_ref__:De});function Y(i){return i.__forward_ref__=Y,i.toString=function(){return pe(this())},i}function ue(i){return Ye(i)?i():i}function Ye(i){return"function"==typeof i&&i.hasOwnProperty(Q)&&i.__forward_ref__===Y}class Me extends Error{constructor(s,a){super(function Fe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function Te(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}function We(i,s){const a=s?` in ${s}`:"";throw new Me(-201,`No provider for ${Te(i)} found${a}`)}function lt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const Ft=Lt;function on(i){return{providers:i.providers||[],imports:i.imports||[]}}function nn(i){return mr(i,Kn)||mr(i,jn)}function mr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Wt(i){return i&&(i.hasOwnProperty(Zn)||i.hasOwnProperty(Ln))?i[Zn]:null}const Kn=De({\u0275prov:De}),Zn=De({\u0275inj:De}),jn=De({ngInjectableDef:De}),Ln=De({ngInjectorDef:De});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let yr;function Zt(i){const s=yr;return yr=i,s}function vr(i,s,a){const l=nn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&mt.Optional?null:void 0!==s?s:void We(pe(i),"Injector")}function _r(i){return{toString:i}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),an=(()=>((an=an||{})[an.CheckOnce=0]="CheckOnce",an[an.Checked=1]="Checked",an[an.CheckAlways=2]="CheckAlways",an[an.Detached=3]="Detached",an[an.Errored=4]="Errored",an[an.Destroyed=5]="Destroyed",an))();function wr(i){return null==i||i===Pn.Default}var ht=(()=>{return(i=ht||(ht={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ht;var i})();const Tt="undefined"!=typeof globalThis&&globalThis,yt="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,un=Tt||"undefined"!=typeof global&&global||yt||Hr,Vn={},At=[],Jr=De({\u0275cmp:De}),tn=De({\u0275dir:De}),Qn=De({\u0275pipe:De}),ct=De({\u0275mod:De}),$e=De({\u0275fac:De}),st=De({__NG_ELEMENT_ID__:De});let kt=0;function Pt(i){return _r(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||At,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ht.Emulated,id:"c",styles:i.styles||At,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,y=i.pipes;return l.id+=kt++,l.inputs=z(i.inputs,a),l.outputs=z(i.outputs),f&&f.forEach(_=>_(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(J):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Z):null,l})}function gn(i,s,a){const l=i.\u0275cmp;l.directiveDefs=()=>s.map(J),l.pipeDefs=()=>a.map(Z)}function J(i){return Xe(i)||Et(i)}function Z(i){return et(i)}const ne={};function q(i){return _r(()=>{const s={type:i.type,bootstrap:i.bootstrap||At,declarations:i.declarations||At,imports:i.imports||At,exports:i.exports||At,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ne[i.id]=i.type),s})}function U(i,s){return _r(()=>{const a=rt(i,!0);a.declarations=s.declarations||At,a.imports=s.imports||At,a.exports=s.exports||At})}function z(i,s){if(null==i)return Vn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const we=Pt;function Qe(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Xe(i){return i[Jr]||null}function Et(i){return i[tn]||null}function et(i){return i[Qn]||null}function rt(i,s){const a=i[ct]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function Gr(i){return Array.isArray(i)&&"object"==typeof i[1]}function ar(i){return Array.isArray(i)&&!0===i[1]}function Co(i){return 0!=(8&i.flags)}function Do(i){return 2==(2&i.flags)}function Un(i){return 1==(1&i.flags)}function br(i){return null!==i.template}function ur(i){return 0!=(512&i[2])}function xr(i,s){return i.hasOwnProperty($e)?i[$e]:null}class Wr{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function rs(){return is}function is(i){return i.type.prototype.ngOnChanges&&(i.setInput=mu),Ua}function Ua(){const i=Ro(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Vn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function mu(i,s,a,l){const c=Ro(i)||function Ei(i,s){return i[wi]=s}(i,{previous:Vn,current:null}),f=c.current||(c.current={}),y=c.previous,_=this.declaredInputs[a],T=y[_];f[_]=new Wr(T&&T.currentValue,s,y===Vn),i[l]=s}rs.ngInherit=!0;const wi="__ngSimpleChanges__";function Ro(i){return i[wi]||null}let Mr=null;const ra=i=>{Mr=i},tr=function(i,s,a){null!=Mr&&Mr(i,s,a)},As="math";let Js;function No(i){Js=i}function ei(){return void 0!==Js?Js:"undefined"!=typeof document?document:void 0}function bn(i){return!!i.listen}const M={createRenderer:(i,s)=>ei()};function S(i){for(;Array.isArray(i);)i=i[0];return i}function Ne(i,s){return S(s[i])}function qe(i,s){return S(s[i.index])}function Bt(i,s){return i.data[s]}function yn(i,s){return i[s]}function qt(i,s){const a=s[i];return Gr(a)?a:a[0]}function Qt(i){return 4==(4&i[2])}function $n(i){return 128==(128&i[2])}function Kt(i,s){return null==s?null:i[s]}function li(i){i[18]=0}function Ur(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const xt={lFrame:Ps(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oa(){return xt.bindingsEnabled}function xs(){xt.bindingsEnabled=!0}function Wu(){xt.bindingsEnabled=!1}function Ke(){return xt.lFrame.lView}function rn(){return xt.lFrame.tView}function Po(i){return xt.lFrame.contextLView=i,i[8]}function qn(){let i=os();for(;null!==i&&64===i.type;)i=i.parent;return i}function os(){return xt.lFrame.currentTNode}function Ms(){const i=xt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Kr(i,s){const a=xt.lFrame;a.currentTNode=i,a.isParent=s}function yu(){return xt.lFrame.isParent}function Xs(){xt.lFrame.isParent=!1}function Oo(){return xt.isInCheckNoChangesMode}function as(i){xt.isInCheckNoChangesMode=i}function Br(){const i=xt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function xi(){return xt.lFrame.bindingIndex}function us(i){return xt.lFrame.bindingIndex=i}function Hi(){return xt.lFrame.bindingIndex++}function ls(i){const s=xt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function _u(i){xt.lFrame.inI18n=i}function cs(i,s){const a=xt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ri(s)}function Ri(i){xt.lFrame.currentDirectiveIndex=i}function ja(i){const s=xt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function lr(){return xt.lFrame.currentQueryIndex}function ua(i){xt.lFrame.currentQueryIndex=i}function eo(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Rs(i,s,a){if(a&mt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&mt.Host||(c=eo(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const l=xt.lFrame=la();return l.currentTNode=s,l.lView=i,!0}function Ns(i){const s=la(),a=i[1];xt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function la(){const i=xt.lFrame,s=null===i?null:i.child;return null===s?Ps(i):s}function Ps(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ca(){const i=xt.lFrame;return xt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ko=ca;function to(){const i=ca();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function cr(){return xt.lFrame.selectedIndex}function Ni(i){xt.lFrame.selectedIndex=i}function nr(){const i=xt.lFrame;return Bt(i.tView,i.selectedIndex)}function Wl(){xt.lFrame.currentNamespace="svg"}function ha(){xt.lFrame.currentNamespace=As}function ds(){!function qu(){xt.lFrame.currentNamespace=null}()}function no(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:k}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),_&&((i.contentHooks||(i.contentHooks=[])).push(a,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,_)),T&&(i.viewHooks||(i.viewHooks=[])).push(-a,T),R&&((i.viewHooks||(i.viewHooks=[])).push(a,R),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,R)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function $i(i,s,a){ir(i,s,3,a)}function Gi(i,s,a,l){(3&i[2])===a&&ir(i,s,a,l)}function Fo(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ir(i,s,a,l){const f=null!=l?l:-1,y=s.length-1;let _=0;for(let T=void 0!==l?65535&i[18]:0;T<y;T++)if("number"==typeof s[T+1]){if(_=s[T],null!=l&&_>=l)break}else s[T]<0&&(i[18]+=65536),(_<f||-1==f)&&(Lo(i,a,s,T),i[18]=(4294901760&i[18])+T+2),T++}function Lo(i,s,a,l){const c=a[l]<0,f=a[l+1],_=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,tr(4,_,f);try{f.call(_)}finally{tr(5,_,f)}}}else{tr(4,_,f);try{f.call(_)}finally{tr(5,_,f)}}}class Rr{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Yn(i,s,a){const l=bn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const y=a[c++],_=a[c++],T=a[c++];l?i.setAttribute(s,_,T,y):s.setAttributeNS(y,_,T)}else{const y=f,_=a[++c];I(y)?l&&i.setProperty(s,y,_):l?i.setAttribute(s,y,_):s.setAttribute(y,_),c++}}return c}function b(i){return 3===i||4===i||6===i}function I(i){return 64===i.charCodeAt(0)}function N(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||K(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function K(i,s,a,l,c){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function Pe(i){return-1!==i}function vt(i){return 32767&i}function ti(i,s){let a=function Jt(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let sr=!0;function zi(i){const s=sr;return sr=i,s}let Kl=0;function oo(i,s){const a=fa(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,fs(l.data,i),fs(s,null),fs(l.blueprint,null));const c=ao(i,s),f=i.injectorIndex;if(Pe(c)){const y=vt(c),_=ti(c,s),T=_[1].data;for(let R=0;R<8;R++)s[f+R]=_[y+R]|T[y+R]}return s[f+8]=c,f}function fs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function fa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ao(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const f=c[1],y=f.type;if(l=2===y?f.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function bu(i,s,a){!function Qu(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(st)&&(l=a[st]),null==l&&(l=a[st]=Kl++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Yu(i,s,a){if(a&mt.Optional)return i;We(s,"NodeInjector")}function pa(i,s,a,l){if(a&mt.Optional&&void 0===l&&(l=null),0==(a&(mt.Self|mt.Host))){const c=i[9],f=Zt(void 0);try{return c?c.get(s,l,a&mt.Optional):vr(s,l,a&mt.Optional)}finally{Zt(f)}}return Yu(l,s,a)}function Ju(i,s,a,l=mt.Default,c){if(null!==i){const f=function el(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(st)?i[st]:void 0;return"number"==typeof s?s>=0?255&s:Cu:s}(a);if("function"==typeof f){if(!Rs(s,i,l))return l&mt.Host?Yu(c,a,l):pa(s,a,l,c);try{const y=f(l);if(null!=y||l&mt.Optional)return y;We(a)}finally{ko()}}else if("number"==typeof f){let y=null,_=fa(i,s),T=-1,R=l&mt.Host?s[16][6]:null;for((-1===_||l&mt.SkipSelf)&&(T=-1===_?ao(i,s):s[_+8],-1!==T&&ma(l,!1)?(y=s[1],_=vt(T),s=ti(T,s)):_=-1);-1!==_;){const k=s[1];if(Gc(f,_,k.data)){const G=Zl(_,s,a,y,l,R);if(G!==Uo)return G}T=s[_+8],-1!==T&&ma(l,s[1].data[_+8]===R)&&Gc(f,_,s)?(y=k,_=vt(T),s=ti(T,s)):_=-1}}}return pa(s,a,l,c)}const Uo={};function Cu(){return new Fs(qn(),Ke())}function Zl(i,s,a,l,c,f){const y=s[1],_=y.data[i+8],k=ga(_,y,a,null==l?Do(_)&&sr:l!=y&&0!=(3&_.type),c&mt.Host&&f===_);return null!==k?Xu(s,y,k,_):Uo}function ga(i,s,a,l,c){const f=i.providerIndexes,y=s.data,_=1048575&f,T=i.directiveStart,k=f>>20,X=c?_+k:i.directiveEnd;for(let de=l?_:_+k;de<X;de++){const He=y[de];if(de<T&&a===He||de>=T&&He.type===a)return de}if(c){const de=y[T];if(de&&br(de)&&de.type===a)return T}return null}function Xu(i,s,a,l){let c=i[a];const f=s.data;if(function Os(i){return i instanceof Rr}(c)){const y=c;y.resolving&&function Ve(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Me(-200,`Circular dependency in DI detected for ${i}${a}`)}(Te(f[a]));const _=zi(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Zt(y.injectImpl):null;Rs(i,l,mt.Default);try{c=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Ku(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const y=is(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==T&&Zt(T),zi(_),y.resolving=!1,ko()}}return c}function Gc(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ma(i,s){return!(i&mt.Self||i&mt.Host&&s)}class Fs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Ju(this._tNode,this._lView,s,l,a)}}function ci(i){return _r(()=>{const s=i.prototype.constructor,a=s[$e]||Ga(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[$e]||Ga(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Ga(i){return Ye(i)?()=>{const s=Ga(ue(i));return s&&s()}:xr(i)}function za(i){return function Iu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(b(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(qn(),i)}const bi="__annotations__",ps="__parameters__",ya="__prop__metadata__";function dn(i,s,a,l,c){return _r(()=>{const f=Wa(s);function y(..._){if(this instanceof y)return f.call(this,..._),this;const T=new y(..._);return function(k){return c&&c(k,..._),(k.hasOwnProperty(bi)?k[bi]:Object.defineProperty(k,bi,{value:[]})[bi]).push(T),l&&l(k),k}}return a&&(y.prototype=Object.create(a.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}function Wa(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}function Du(i,s,a){return _r(()=>{const l=Wa(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const y=new c(...f);return _.annotation=y,_;function _(T,R,k){const G=T.hasOwnProperty(ps)?T[ps]:Object.defineProperty(T,ps,{value:[]})[ps];for(;G.length<=k;)G.push(null);return(G[k]=G[k]||[]).push(y),T}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function Bo(i,s,a,l){return _r(()=>{const c=Wa(s);function f(...y){if(this instanceof f)return c.apply(this,y),this;const _=new f(...y);return function T(R,k){const G=R.constructor,X=G.hasOwnProperty(ya)?G[ya]:Object.defineProperty(G,ya,{value:{}})[ya];X[k]=X.hasOwnProperty(k)&&X[k]||[],X[k].unshift(_),l&&l(R,k,...y)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}const tl=Du("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>za(i)}));class Ir{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zc=new Ir("AnalyzeForEntryComponents");class Ls{}const eh=Bo("ContentChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},s),Ls),uo=Bo("ContentChild",(i,s={})=>Object.assign({selector:i,first:!0,isViewQuery:!1,descendants:!0},s),Ls),th=Bo("ViewChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},s),Ls),nh=Bo("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),Ls);var Nr=(()=>((Nr=Nr||{})[Nr.Directive=0]="Directive",Nr[Nr.Component=1]="Component",Nr[Nr.Injectable=2]="Injectable",Nr[Nr.Pipe=3]="Pipe",Nr[Nr.NgModule=4]="NgModule",Nr))();function jr(i){const s=un.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const lo=Function;function co(i){return"function"==typeof i}function Ii(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Ii(l,s)):s!==i&&s.push(l)}return s}function Ci(i,s){i.forEach(a=>Array.isArray(a)?Ci(a,s):s(a))}function jo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Tu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function va(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function or(i,s,a){let l=fo(i,s);return l>=0?i[1|l]=a:(l=~l,function il(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function _a(i,s){const a=fo(i,s);if(a>=0)return i[1|a]}function fo(i,s){return function wa(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const Ka=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Di=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ih=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ec=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class tc{constructor(s){this._reflect=s||un.Reflect}isReflectionEnabled(){return!0}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let l;l=va(void 0===s?a.length:s.length);for(let c=0;c<l.length;c++)l[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(l[c]=l[c].concat(a[c]));return l}_ownParameters(s,a){if(function Ho(i){return Ka.test(i)||ec.test(i)||Di.test(i)&&!ih.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const _="function"==typeof c?c():c,T=_.map(k=>k&&k.type),R=_.map(k=>k&&Wi(k.decorators));return this._zipTypesAndAnnotations(T,R)}const f=s.hasOwnProperty(ps)&&s[ps],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return y||f?this._zipTypesAndAnnotations(y,f):va(s.length)}parameters(s){if(!co(s))return[];const a=Ea(s);let l=this._ownParameters(s,a);return!l&&a!==Object&&(l=this.parameters(a)),l||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let l=s.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return s.decorators&&s.decorators!==a.decorators?Wi(s.decorators):s.hasOwnProperty(bi)?s[bi]:null}annotations(s){if(!co(s))return[];const a=Ea(s),l=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(l)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let l=s.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const l=s.propDecorators,c={};return Object.keys(l).forEach(f=>{c[f]=Wi(l[f])}),c}return s.hasOwnProperty(ya)?s[ya]:null}propMetadata(s){if(!co(s))return{};const a=Ea(s),l={};if(a!==Object){const f=this.propMetadata(a);Object.keys(f).forEach(y=>{l[y]=f[y]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(f=>{const y=[];l.hasOwnProperty(f)&&y.push(...l[f]),y.push(...c[f]),l[f]=y}),l}ownPropMetadata(s){return co(s)&&this._ownPropMetadata(s,Ea(s))||{}}hasLifecycleHook(s,a){return s instanceof lo&&a in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${pe(s)}`}resourceUri(s){return`./${pe(s)}`}resolveIdentifier(s,a,l,c){return c}resolveEnum(s,a){return s[a]}}function Wi(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Ea(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Vs={},qi="__NG_DI_FLAG__",Za="ngTempTokenPath",sh=/\n/gm,Cr="__source",Qa=De({provide:String,useValue:De});let Ki;function Ya(i){const s=Ki;return Ki=i,s}function A(i,s=mt.Default){if(void 0===Ki)throw new Me(203,"");return null===Ki?vr(i,void 0,s):Ki.get(i,s&mt.Optional?null:void 0,s)}function D(i,s=mt.Default){return(function xn(){return yr}()||A)(ue(i),s)}function P(i){throw new Error("invalid")}const W=D;function se(i){const s=[];for(let a=0;a<i.length;a++){const l=ue(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Me(900,"");let c,f=mt.Default;for(let y=0;y<l.length;y++){const _=l[y],T=Ie(_);"number"==typeof T?-1===T?c=_.token:f|=T:c=_}s.push(D(c,f))}else s.push(D(l))}return s}function te(i,s){return i[qi]=s,i.prototype[qi]=s,i}function Ie(i){return i[qi]}const oe=te(Du("Inject",i=>({token:i})),-1),Se=te(Du("Optional"),8),gt=te(Du("Self"),2),dr=te(Du("SkipSelf"),4),di=te(Du("Host"),1);let Ja=null;function $o(){return Ja=Ja||new tc}function po(i){return nc($o().parameters(i))}function nc(i){return i.map(s=>function Xa(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const l=i[a];if(void 0===l)continue;const c=Object.getPrototypeOf(l);if(l instanceof Se||"Optional"===c.ngMetadataName)s.optional=!0;else if(l instanceof dr||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(l instanceof gt||"Self"===c.ngMetadataName)s.self=!0;else if(l instanceof di||"Host"===c.ngMetadataName)s.host=!0;else if(l instanceof oe)s.token=l.token;else if(l instanceof tl){if(void 0===l.attributeName)throw new Error("Attribute name must be defined.");s.attribute=l.attributeName}else s.token=l}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function eu(i){const s=[],a=new Map;function l(c){let f=a.get(c);if(!f){const y=i(c);a.set(c,f=y.then(rc))}return f}return gs.forEach((c,f)=>{const y=[];c.templateUrl&&y.push(l(c.templateUrl).then(G=>{c.template=G}));const _=c.styleUrls,T=c.styles||(c.styles=[]),R=c.styles.length;_&&_.forEach((G,X)=>{T.push(""),y.push(l(G).then(de=>{T[R+X]=de,_.splice(_.indexOf(G),1),0==_.length&&(c.styleUrls=void 0)}))});const k=Promise.all(y).then(()=>function Rn(i){Bs.delete(i)}(f));s.push(k)}),qc(),Promise.all(s).then(()=>{})}let gs=new Map;const Bs=new Set;function xu(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function qc(){const i=gs;return gs=new Map,i}function rc(i){return"string"==typeof i?i:i.text()}let Kc,ol;function hr(){if(void 0===Kc&&(Kc=null,un.trustedTypes))try{Kc=un.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Kc}function ut(i){var s;return(null===(s=hr())||void 0===s?void 0:s.createHTML(i))||i}function al(){if(void 0===ol&&(ol=null,un.trustedTypes))try{ol=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return ol}function $f(i){var s;return(null===(s=al())||void 0===s?void 0:s.createHTML(i))||i}function ul(i){var s;return(null===(s=al())||void 0===s?void 0:s.createScript(i))||i}function ah(i){var s;return(null===(s=al())||void 0===s?void 0:s.createScriptURL(i))||i}class tu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zi extends tu{getTypeName(){return"HTML"}}class uh extends tu{getTypeName(){return"Style"}}class Gf extends tu{getTypeName(){return"Script"}}class zf extends tu{getTypeName(){return"URL"}}class nu extends tu{getTypeName(){return"ResourceURL"}}function ms(i){return i instanceof tu?i.changingThisBreaksApplicationSecurity:i}function Ce(i,s){const a=Mu(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Mu(i){return i instanceof tu&&i.getTypeName()||null}function go(i){return new Zi(i)}function Wf(i){return new uh(i)}function ic(i){return new Gf(i)}function Go(i){return new zf(i)}function lm(i){return new nu(i)}function ba(i){const s=new ch(i);return function cm(){try{return!!(new window.DOMParser).parseFromString(ut(""),"text/html")}catch(i){return!1}}()?new lh(s):s}class lh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ut(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class ch{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ut(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=ut(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const y=a.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const dm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function js(i){return(i=String(i)).match(dm)||i.match(qf)?i:"unsafe:"+i}function dh(i){return(i=String(i)).split(",").map(s=>js(s.trim())).join(", ")}function Gn(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function v(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const p=Gn("area,br,col,hr,img,wbr"),g=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E=Gn("rp,rt"),Le=v(p,v(g,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),v(E,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),v(E,g)),wt=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ct=Gn("srcset"),vs=v(wt,Ct,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ia=Gn("script,style,template");class ru{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Le.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ia.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const f=l.item(c),y=f.name,_=y.toLowerCase();if(!vs.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let T=f.value;wt[_]&&(T=js(T)),Ct[_]&&(T=dh(T)),this.buf.push(" ",y,'="',Ru(T),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Le.hasOwnProperty(a)&&!p.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ru(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Kf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zo=/([^\#-~ |!])/g;function Ru(i){return i.replace(/&/g,"&amp;").replace(Kf,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(zo,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ca;function sc(i,s){let a=null;try{Ca=Ca||ba(i);let l=s?String(s):"";a=Ca.getInertBodyElement(l);let c=5,f=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=f,f=a.innerHTML,a=Ca.getInertBodyElement(l)}while(l!==f);return ut((new ru).sanitizeChildren(mo(a)||a))}finally{if(a){const l=mo(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function mo(i){return"content"in i&&function oc(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function Hs(i){const s=dl();return s?$f(s.sanitize(Wn.HTML,i)||""):Ce(i,"HTML")?$f(ms(i)):sc(ei(),ye(i))}function ll(i){const s=dl();return s?s.sanitize(Wn.STYLE,i)||"":Ce(i,"Style")?ms(i):ye(i)}function $s(i){const s=dl();return s?s.sanitize(Wn.URL,i)||"":Ce(i,"URL")?ms(i):js(ye(i))}function Qc(i){const s=dl();if(s)return ah(s.sanitize(Wn.RESOURCE_URL,i)||"");if(Ce(i,"ResourceURL"))return ah(ms(i));throw new Me(904,"")}function ac(i){const s=dl();if(s)return ul(s.sanitize(Wn.SCRIPT,i)||"");if(Ce(i,"Script"))return ul(ms(i));throw new Me(905,"")}function Zf(i){return ut(i[0])}function cl(i){return function oh(i){var s;return(null===(s=hr())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function Yc(i,s,a){return function hm(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Qc:$s}(s,a)(i)}function dl(){const i=Ke();return i&&i[12]}function ii(i){let s=Jc(i);if(s){if(Array.isArray(s)){const a=s;let l,c,f;if(function j_(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(l=hl(a,i),-1==l)throw new Error("The provided component was not found in the application");c=i}else if(function fr(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(l=function Tb(i,s){let a=i[1].firstChild;for(;a;){const c=a.directiveEnd;for(let f=a.directiveStart;f<c;f++)if(i[f]===s)return a.index;a=$_(a)}return-1}(a,i),-1==l)throw new Error("The provided directive was not found in the application");f=Xc(l,a,!1)}else if(l=H_(a,i),-1==l)return null;const y=S(a[l]),_=Jc(y),T=_&&!Array.isArray(_)?_:Qf(a,l,y);if(c&&void 0===T.component&&(T.component=c,Pi(T.component,T)),f&&void 0===T.directives){T.directives=f;for(let R=0;R<f.length;R++)Pi(f[R],T)}Pi(T.native,T),s=T}}else{const a=i;let l=a;for(;l=l.parentNode;){const c=Jc(l);if(c){let f;if(f=Array.isArray(c)?c:c.lView,!f)return null;const y=H_(f,a);if(y>=0){const _=S(f[y]),T=Qf(f,y,_);Pi(_,T),s=T;break}}}}return s||null}function Qf(i,s,a){return{lView:i,nodeIndex:s,native:a,component:void 0,directives:void 0,localRefs:void 0}}function U_(i){let a,s=Jc(i);if(Array.isArray(s)){const l=hl(s,i);a=qt(l,s);const c=Qf(s,l,a[0]);c.component=i,Pi(i,c),Pi(c.native,c)}else a=qt(s.nodeIndex,s.lView);return a}const B_="__ngContext__";function Pi(i,s){i[B_]=s}function Jc(i){return i[B_]||null}function hi(i){const s=Jc(i);return s?Array.isArray(s)?s:s.lView:null}function H_(i,s){const a=i[1];for(let l=20;l<a.bindingStartIndex;l++)if(S(i[l])===s)return l;return-1}function $_(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function hl(i,s){const a=i[1].components;if(a)for(let l=0;l<a.length;l++){const c=a[l];if(qt(c,i)[8]===s)return c}else if(qt(20,i)[8]===s)return 20;return-1}function Xc(i,s,a){const l=s[1].data[i];let c=l.directiveStart;return 0==c?At:(!a&&2&l.flags&&c++,s.slice(c,l.directiveEnd))}const Xf="ngOriginalError";function fm(i){return i[Xf]}function Sb(i,...s){i.error(...s)}class hh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function Ab(i){return i&&i.ngErrorLogger||Sb}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&fm(s);for(;a&&fm(a);)a=fm(a);return a||null}}const z_={name:"custom-elements"},W_={name:"no-errors-schema"},xb=/^>|^->|<!--|-->|--!>|<!-$/g,Mb=/(<|>)/;const Z_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(un))();function lc(i){return i.ownerDocument.defaultView}function pm(i){return i.ownerDocument}function ep(i){return i.ownerDocument.body}function Wo(i){return i instanceof Function?i():i}var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();let gh;function mh(i,s){return gh(i,s)}function yh(i){const s=i[3];return ar(s)?s[3]:s}function ym(i){return function mm(i){let s=Gr(i)?i:hi(i);for(;s&&!(512&s[2]);)s=yh(s);return s}(i)[8]}function np(i){return Y_(i[13])}function ed(i){return Y_(i[4])}function Y_(i){for(;null!==i&&!ar(i);)i=i[4];return i}function cc(i,s,a,l,c){if(null!=l){let f,y=!1;ar(l)?f=l:Gr(l)&&(y=!0,l=l[0]);const _=S(l);0===i&&null!==a?null==c?dc(s,a,_):yl(s,a,_,c||null,!0):1===i&&null!==a?yl(s,a,_,c||null,!0):2===i?_s(s,_,y):3===i&&s.destroyNode(_),null!=f&&function lw(i,s,a,l,c){const f=a[7];f!==S(a)&&cc(s,i,l,f,c);for(let _=10;_<a.length;_++){const T=a[_];ku(T[1],T,i,s,l,f)}}(s,i,f,a,c)}}function gl(i,s){return bn(i)?i.createText(s):i.createTextNode(s)}function ml(i,s,a){bn(i)?i.setValue(s,a):s.textContent=a}function J_(i,s){return i.createComment(function uc(i){return i.replace(xb,s=>s.replace(Mb,"\u200b$1\u200b"))}(s))}function Pu(i,s,a){if(bn(i))return i.createElement(s,a);{const l=null!==a?function Ys(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===As?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function nw(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Ur(c,-1)),a.splice(l,1)}function pr(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&nw(c,l),s>0&&(i[a-1][4]=l[4]);const f=Tu(i,10+s);!function X_(i,s){ku(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function _h(i,s){if(!(256&s[2])){const a=s[11];bn(a)&&a.destroyNode&&ku(i,s,a,3,null,null),function tw(i){let s=i[13];if(!s)return nd(i[1],i);for(;s;){let a=null;if(Gr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Gr(s)&&nd(s[1],s),s=s[3];null===s&&(s=i),Gr(s)&&nd(s[1],s),a=s&&s[4]}s=a}}(s)}}function nd(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Pb(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Rr)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=c[f[y]],T=f[y+1];tr(4,_,T);try{T.call(_)}finally{tr(5,_,T)}}else{tr(4,c,f);try{f.call(c)}finally{tr(5,c,f)}}}}}(i,s),function rw(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],_="function"==typeof y?y(s):S(s[y]),T=l[c=a[f+2]],R=a[f+3];"boolean"==typeof R?_.removeEventListener(a[f],T,R):R>=0?l[c=R]():l[c=-R].unsubscribe(),f+=2}else{const y=l[c=a[f+1]];a[f].call(y)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&bn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ar(s[3])){a!==s[3]&&nw(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function rd(i,s,a){return iw(i,s.parent,a)}function iw(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===ht.None||c===ht.Emulated)return null}return qe(l,a)}function yl(i,s,a,l,c){bn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function dc(i,s,a){bn(i)?i.appendChild(s,a):s.appendChild(a)}function iu(i,s,a,l,c){null!==l?yl(i,s,a,l,c):dc(i,s,a)}function wh(i,s){return bn(i)?i.parentNode(s):s.parentNode}function hc(i,s,a){return aw(i,s,a)}function rp(i,s,a){return 40&i.type?qe(i,a):null}let Zr,aw=rp;function On(i,s){aw=i,Zr=s}function Eh(i,s,a,l){const c=rd(i,l,s),f=s[11],_=hc(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let T=0;T<a.length;T++)iu(f,c,a[T],_,!1);else iu(f,c,a,_,!1);void 0!==Zr&&Zr(f,l,s,a,c)}function bh(i,s){if(null!==s){const a=s.type;if(3&a)return qe(s,i);if(4&a)return vm(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return bh(i,l);{const c=i[s.index];return ar(c)?vm(-1,c):S(c)}}if(32&a)return mh(s,i)()||S(i[s.index]);{const l=Ou(i,s);return null!==l?Array.isArray(l)?l[0]:bh(yh(i[16]),l):bh(i,s.next)}}return null}function Ou(i,s){return null!==s?i[16][6].projection[s.projection]:null}function vm(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return bh(l,c)}return s[7]}function _s(i,s,a){const l=wh(i,s);l&&function sw(i,s,a,l){bn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function ip(i,s,a,l,c,f,y){for(;null!=a;){const _=l[a.index],T=a.type;if(y&&0===s&&(_&&Pi(S(_),l),a.flags|=4),64!=(64&a.flags))if(8&T)ip(i,s,a.child,l,c,f,!1),cc(s,i,c,_,f);else if(32&T){const R=mh(a,l);let k;for(;k=R();)cc(s,i,c,k,f);cc(s,i,c,_,f)}else 16&T?Ta(i,s,l,a,c,f):cc(s,i,c,_,f);a=y?a.projectionNext:a.next}}function ku(i,s,a,l,c,f){ip(a,l,i.firstChild,s,c,f,!1)}function Ta(i,s,a,l,c,f){const y=a[16],T=y[6].projection[l.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)cc(s,i,c,T[R],f);else ip(i,s,T,y[3],c,f,!0)}function cw(i,s,a){bn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function _m(i,s,a){bn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function ln(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const Ch="ng-template";function Dh(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==ln(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function id(i){return 4===i.type&&i.value!==Ch}function sp(i,s,a){return s===(4!==i.type||a?i.value:Ch)}function dw(i,s,a){let l=4;const c=i.attrs||[],f=function gw(i){for(let s=0;s<i.length;s++)if(b(i[s]))return s;return i.length}(c);let y=!1;for(let _=0;_<s.length;_++){const T=s[_];if("number"!=typeof T){if(!y)if(4&l){if(l=2|1&l,""!==T&&!sp(i,T,a)||""===T&&1===s.length){if(qo(l))return!1;y=!0}}else{const R=8&l?T:s[++_];if(8&l&&null!==i.attrs){if(!Dh(i.attrs,R,a)){if(qo(l))return!1;y=!0}continue}const G=hw(8&l?"class":T,c,id(i),a);if(-1===G){if(qo(l))return!1;y=!0;continue}if(""!==R){let X;X=G>f?"":c[G+1].toLowerCase();const de=8&l?X:null;if(de&&-1!==ln(de,R,0)||2&l&&R!==X){if(qo(l))return!1;y=!0}}}}else{if(!y&&!qo(l)&&!qo(T))return!1;if(y&&qo(T))continue;y=!1,l=T|1&l}}return qo(l)||y}function qo(i){return 0==(1&i)}function hw(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++c];for(;"string"==typeof _;)_=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Ob(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function fw(i,s,a=!1){for(let l=0;l<s.length;l++)if(dw(i,s[l],a))return!0;return!1}function kb(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function mw(i,s){return i?":not("+s.trim()+")":s}function Th(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const _=i[++a];c+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!qo(y)&&(s+=mw(f,c),c=""),l=y,f=f||!qo(l);a++}return""!==c&&(s+=mw(f,c)),s}const Rt={};function op(i){wm(rn(),Ke(),cr()+i,Oo())}function wm(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&$i(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Gi(s,f,0,a)}Ni(a)}function yo(i,s){return i<<17|s<<2}function vo(i){return i>>17&32767}function ap(i){return 2|i}function su(i){return(131068&i)>>2}function up(i,s){return-131069&i|s<<2}function bm(i){return 1|i}const Mm=(()=>Promise.resolve(null))();function fi(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],f=a[l+1];if(-1!==f){const y=i.data[f];ua(c),y.contentQueries(2,s[f],f)}}}function fc(i,s,a,l,c,f,y,_,T,R){const k=s.blueprint.slice();return k[0]=c,k[2]=140|l,li(k),k[3]=k[15]=i,k[8]=a,k[10]=y||i&&i[10],k[11]=_||i&&i[11],k[12]=T||i&&i[12]||null,k[9]=R||i&&i[9]||null,k[6]=f,k[16]=2==s.type?i[16]:k,k}function _o(i,s,a,l,c){let f=i.data[s];if(null===f)f=pp(i,s,a,l,c),function Mi(){return xt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const y=Ms();f.injectorIndex=null===y?-1:y.injectorIndex}return Kr(f,!0),f}function pp(i,s,a,l,c){const f=os(),y=yu(),T=i.data[s]=function yp(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=T),null!==f&&(y?null==f.child&&null!==T.parent&&(f.child=T):null===f.next&&(f.next=T)),T}function ld(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function cd(i,s,a){Ns(s);try{const l=i.viewQuery;null!==l&&zm(1,l,a);const c=i.template;null!==c&&wl(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&fi(i,s),i.staticViewQueries&&zm(2,i.viewQuery,a);const f=i.components;null!==f&&function Pm(i,s){for(let a=0;a<s.length;a++)Cl(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,to()}}function Fu(i,s,a,l){const c=s[2];if(256==(256&c))return;Ns(s);const f=Oo();try{li(s),us(i.bindingStartIndex),null!==a&&wl(i,s,a,2,l);const y=3==(3&c);if(!f)if(y){const R=i.preOrderCheckHooks;null!==R&&$i(s,R,null)}else{const R=i.preOrderHooks;null!==R&&Gi(s,R,0,null),Fo(s,0)}if(function zb(i){for(let s=np(i);null!==s;s=ed(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],f=c[3];0==(1024&c[2])&&Ur(f,1),c[2]|=1024}}}(s),function yc(i){for(let s=np(i);null!==s;s=ed(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];$n(l)&&Fu(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&fi(i,s),!f)if(y){const R=i.contentCheckHooks;null!==R&&$i(s,R)}else{const R=i.contentHooks;null!==R&&Gi(s,R,1),Fo(s,1)}!function Rm(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Ni(~c);else{const f=c,y=a[++l],_=a[++l];cs(y,f),_(2,s[f])}}}finally{Ni(-1)}}(i,s);const _=i.components;null!==_&&function Nm(i,s){for(let a=0;a<s.length;a++)gd(i,s[a])}(s,_);const T=i.viewQuery;if(null!==T&&zm(2,T,l),!f)if(y){const R=i.viewCheckHooks;null!==R&&$i(s,R)}else{const R=i.viewHooks;null!==R&&Gi(s,R,2),Fo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ur(s[3],-1))}finally{to()}}function pc(i,s,a,l){const c=s[10],f=!Oo(),y=Qt(s);try{f&&!y&&c.begin&&c.begin(),y&&cd(i,s,l),Fu(i,s,a,l)}finally{f&&!y&&c.end&&c.end()}}function wl(i,s,a,l,c){const f=cr(),y=2&l;try{Ni(-1),y&&s.length>20&&wm(i,s,20,Oo()),tr(y?2:0,c),a(l,c)}finally{Ni(f),tr(y?3:1,c)}}function El(i,s,a){if(Co(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function gc(i,s,a){!oa()||(function _p(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||oo(a,s),Pi(l,s);const y=a.initialInputs;for(let _=c;_<f;_++){const T=i.data[_],R=br(T);R&&Mw(s,a,T);const k=Xu(s,i,_,a);Pi(k,s),null!==y&&Rw(0,_-c,k,T,0,y),R&&(qt(a.index,s)[8]=k)}}(i,s,a,qe(a,s)),128==(128&a.flags)&&function Gb(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,_=function Ba(){return xt.lFrame.currentDirectiveIndex}();try{Ni(y);for(let T=l;T<c;T++){const R=i.data[T],k=s[T];Ri(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Um(R,k)}}finally{Ni(-1),Ri(_)}}(i,s,a))}function gp(i,s,a=qe){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],_=-1===y?a(s,i):i[y];i[c++]=_}}}function mp(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=dd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function dd(i,s,a,l,c,f,y,_,T,R){const k=20+l,G=k+c,X=function Tw(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Rt);return a}(k,G),de="function"==typeof R?R():R;return X[1]={type:i,blueprint:X,template:a,queries:null,viewQuery:_,declTNode:s,data:X.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:de,incompleteFirstPass:!1}}function km(i,s,a){if(bn(i))return i.selectRootElement(s,a===ht.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}function Fm(i,s,a,l){const c=yd(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Wm(i).push(l,c.length-1))}function hd(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Ws(i,s,a,l,c,f,y,_){const T=qe(s,a);let k,R=s.inputs;!_&&null!=R&&(k=R[l])?(Km(i,a,k,l,c),Do(s)&&function Hb(i,s){const a=qt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function jb(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,bn(f)?f.setProperty(T,l,c):I(l)||(T.setProperty?T.setProperty(l,c):T[l]=c))}function Lm(i,s,a,l){let c=!1;if(oa()){const f=function xh(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];fw(a,y.selectors,!1)&&(c||(c=[]),bu(oo(a,s),i,y.type),br(y)?(Mh(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==f){c=!0,Bm(a,i.data.length,f.length);for(let k=0;k<f.length;k++){const G=f[k];G.providersResolver&&G.providersResolver(G)}let _=!1,T=!1,R=ld(i,s,f.length,null);for(let k=0;k<f.length;k++){const G=f[k];a.mergedAttrs=N(a.mergedAttrs,G.hostAttrs),ws(i,a,s,R,G),xw(R,G,y),null!==G.contentQueries&&(a.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(a.flags|=128);const X=G.type.prototype;!_&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),_=!0),!T&&(X.ngOnChanges||X.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),T=!0),R++}!function mc(i,s){const l=s.directiveEnd,c=i.data,f=s.attrs,y=[];let _=null,T=null;for(let R=s.directiveStart;R<l;R++){const k=c[R],G=k.inputs,X=null===f||id(s)?null:Il(G,f);y.push(X),_=hd(G,R,_),T=hd(k.outputs,R,T)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=_,s.outputs=T}(i,a)}y&&function Rh(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new Me(-301,!1);l.push(s[c],f)}}}(a,l,y)}return a.mergedAttrs=N(a.mergedAttrs,a.attrs),c}function Sw(i,s,a,l,c,f){const y=f.hostBindings;if(y){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const T=~s.index;(function Vm(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=T&&_.push(T),_.push(l,c,y)}}function Um(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Mh(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function xw(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;br(s)&&(a[""]=i)}}function Bm(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ws(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=xr(c.type)),y=new Rr(f,br(c),null);i.blueprint[l]=y,a[l]=y,Sw(i,s,0,l,ld(i,a,c.hostVars,Rt),c)}function Mw(i,s,a){const l=qe(s,i),c=mp(a),f=i[10],y=Ep(i,fc(i,c,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=y}function wo(i,s,a,l,c,f){const y=qe(i,s);pd(s[11],y,f,i.value,a,l,c)}function pd(i,s,a,l,c,f,y){if(null==f)bn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const _=null==y?ye(f):y(f,l||"",c);bn(i)?i.setAttribute(s,c,_,a):a?s.setAttributeNS(a,c,_):s.setAttribute(c,_)}}function Rw(i,s,a,l,c,f){const y=f[s];if(null!==y){const _=l.setInput;for(let T=0;T<y.length;){const R=y[T++],k=y[T++],G=y[T++];null!==_?l.setInput(a,G,R,k):a[k]=G}}}function Il(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function jm(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function gd(i,s){const a=qt(s,i);if($n(a)){const l=a[1];80&a[2]?Fu(l,a,l.template,a[8]):a[5]>0&&wp(a)}}function wp(i){for(let l=np(i);null!==l;l=ed(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const y=f[1];Fu(y,f,y.template,f[8])}else f[5]>0&&wp(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=qt(a[l],i);$n(c)&&c[5]>0&&wp(c)}}function Cl(i,s){const a=qt(s,i),l=a[1];(function Nw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),cd(l,a,a[8])}function Ep(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Hm(i){for(;i;){i[2]|=64;const s=yh(i);if(ur(i)&&!s)return i;i=s}return null}function $m(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=hi(a),c=l[1];pc(c,l,c.template,a)}}function md(i,s,a){const l=s[10];l.begin&&l.begin();try{Fu(i,s,i.template,a)}catch(c){throw Ow(s,c),c}finally{l.end&&l.end()}}function Gm(i){$m(i[8])}function zm(i,s,a){ua(0),s(i,a)}const vc=Mm;function yd(i){return i[7]||(i[7]=[])}function Wm(i){return i.cleanup||(i.cleanup=[])}function qm(i,s,a){return(null===i||br(i))&&(a=function B(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Ow(i,s){const a=i[9],l=a?a.get(hh,null):null;l&&l.handleError(s)}function Km(i,s,a,l,c){for(let f=0;f<a.length;){const y=a[f++],_=a[f++],T=s[y],R=i.data[y];null!==R.setInput?R.setInput(T,c,l,_):T[_]=c}}function Lu(i,s,a){const l=Ne(s,i);ml(i[11],l,a)}function bp(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?c=xe(c,_):2==f&&(l=xe(l,_+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function Ip(i){const s=U_(i);md(s[1],s,i)}function pi(i){!function Wb(i,s){if(0===i.flags&&i.clean==Mm){let l;i.flags|=s,i.clean=new Promise(c=>l=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,$m(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=Mm,l(null)})}}(Hm(U_(i))[8],1)}const Cp=new Ir("INJECTOR",-1);class kw{get(s,a=Vs){if(a===Vs){const l=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw l.name="NullInjectorError",l}return a}}const Zm=new Ir("Set Injector scope."),vd={},Zb={};let _d;function Fw(){return void 0===_d&&(_d=new kw),_d}function Dp(i,s=null,a=null,l){const c=Tp(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Tp(i,s=null,a=null,l){return new Qm(i,a,s||Fw(),l)}class Qm{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ci(a,_=>this.processProvider(_,s,a)),Ci([s],_=>this.processInjectorType(_,[],f)),this.records.set(Cp,wc(void 0,this));const y=this.records.get(Zm);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:pe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Vs,l=mt.Default){this.assertNotDestroyed();const c=Ya(this),f=Zt(void 0);try{if(!(l&mt.SkipSelf)){let _=this.records.get(s);if(void 0===_){const T=function jw(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ir}(s)&&nn(s);_=T&&this.injectableDefInScope(T)?wc(_c(s),vd):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(l&mt.Self?Fw():this.parent).get(s,a=l&mt.Optional&&a===Vs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Za]=y[Za]||[]).unshift(pe(s)),c)throw y;return function dt(i,s,a,l){const c=i[Za];throw s[Cr]&&c.unshift(s[Cr]),i.message=function Ue(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=pe(s);if(Array.isArray(s))c=s.map(pe).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):pe(_)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(sh,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[Za]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Zt(f),Ya(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(pe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(s,a,l){if(!(s=ue(s)))return!1;let c=Wt(s);const f=null==c&&s.ngModule||void 0,y=void 0===f?s:f,_=-1!==l.indexOf(y);if(void 0!==f&&(c=Wt(f)),null==c)return!1;if(null!=c.imports&&!_){let k;l.push(y);try{Ci(c.imports,G=>{this.processInjectorType(G,a,l)&&(void 0===k&&(k=[]),k.push(G))})}finally{}if(void 0!==k)for(let G=0;G<k.length;G++){const{ngModule:X,providers:de}=k[G];Ci(de,He=>this.processProvider(He,X,de||At))}}this.injectorDefTypes.add(y);const T=xr(y)||(()=>new y);this.records.set(y,wc(T,vd));const R=c.providers;if(null!=R&&!_){const k=s;Ci(R,G=>this.processProvider(G,k,R))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let c=Dl(s=ue(s))?s:ue(s&&s.provide);const f=function Ym(i,s,a){return Lw(i)?wc(void 0,i.useValue):wc(Sp(i),vd)}(s);if(Dl(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=wc(void 0,vd,!0),y.factory=()=>se(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===vd&&(a.value=Zb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Yb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ue(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function _c(i){const s=nn(i),a=null!==s?s.factory:xr(i);if(null!==a)return a;if(i instanceof Ir)throw new Me(204,!1);if(i instanceof Function)return function Ap(i){const s=i.length;if(s>0)throw va(s,"?"),new Me(204,!1);const a=function kr(i){const s=i&&(i[Kn]||i[jn]);if(s){const a=function Hn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Me(204,!1)}function Sp(i,s,a){let l;if(Dl(i)){const c=ue(i);return xr(c)||_c(c)}if(Lw(i))l=()=>ue(i.useValue);else if(function Uw(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...se(i.deps||[]));else if(function Vw(i){return!(!i||!i.useExisting)}(i))l=()=>D(ue(i.useExisting));else{const c=ue(i&&(i.useClass||i.provide));if(!function Bw(i){return!!i.deps}(i))return xr(c)||_c(c);l=()=>new c(...se(i.deps))}return l}function wc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Lw(i){return null!==i&&"object"==typeof i&&Qa in i}function Dl(i){return"function"==typeof i}let Ko=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return Dp({name:""},l,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return Dp({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=Vs,i.NULL=new kw,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>D(Cp)}),i.__NG_ELEMENT_ID__=-1,i})();function Tl(i){wd(i);const s=ii(i);return null===s?null:(void 0===s.component&&(s.component=function Yf(i,s){const a=s[1].data[i];return 2&a.flags?s[a.directiveStart]:null}(s.nodeIndex,s.lView)),s.component)}function Ec(i){wd(i);const s=ii(i);return null===s?null:s.lView[8]}function xp(i){const s=ii(i);if(null===s)return null;let l,a=s.lView;for(;2===a[1].type&&(l=yh(a));)a=l;return 512&a[2]?null:a[8]}function Ph(i){return[...ym(i).components]}function Jm(i){const s=ii(i);return null===s?Ko.NULL:new Fs(s.lView[1].data[s.nodeIndex],s.lView)}function Xm(i){if(i instanceof Text)return[];const s=ii(i);if(null===s)return[];const a=s.lView,l=a[1],c=s.nodeIndex;return(null==l?void 0:l.data[c])?(void 0===s.directives&&(s.directives=Xc(c,a,!1)),null===s.directives?[]:[...s.directives]):[]}function Jb(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=Xe(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Pn.OnPush:Pn.Default};const l=Et(s);return l?{inputs:l.inputs,outputs:l.outputs}:null}function ty(i){return ii(i).native}function ny(i){wd(i);const s=ii(i);if(null===s)return[];const a=s.lView,c=a[7],f=a[1].cleanup,y=[];if(f&&c)for(let _=0;_<f.length;){const T=f[_++],R=f[_++];if("string"==typeof T){const k=T,G=S(a[R]),X=c[f[_++]],de=f[_++],He="boolean"==typeof de||de>=0?"dom":"output",nt="boolean"==typeof de&&de;i==G&&y.push({element:i,name:k,callback:X,useCapture:nt,type:He})}}return y.sort(Gw),y}function Gw(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function ry(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function wd(i){if("undefined"!=typeof Element&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}function sy(i){pi(i),Ph(i).forEach(s=>Ip(s))}let Np=!1;function zw(){Np||(Np=!0,Zo("\u0275setProfiler",ra),Zo("getDirectiveMetadata",Jb),Zo("getComponent",Tl),Zo("getContext",Ec),Zo("getListeners",ny),Zo("getOwningComponent",xp),Zo("getHostElement",ty),Zo("getInjector",Jm),Zo("getRootComponents",Ph),Zo("getDirectives",Xm),Zo("applyChanges",sy))}function Zo(i,s){if("undefined"==typeof COMPILED||!COMPILED){const a=un;if(a){let l=a.ng;l||(l=a.ng={}),l[i]=s}}}function eI(i,s={}){const a=s.rendererFactory||M,l=s.sanitizer||null,c=Xe(i);c.type!=i&&(c.type=i);const f=c.selectors[0][0],_=km(a.createRenderer(null,null),s.host||f,c.encapsulation),T=c.onPush?576:528,R=oy(s.scheduler,s.playerHandler),k=a.createRenderer(_,c),G=dd(0,null,null,1,0,null,null,null,null,null),X=fc(null,G,R,T,null,null,a,k,null,s.injector||null);let de;Ns(X);try{a.begin&&a.begin(),de=qw(Ww(_,c,X,a,k,l),c,X,R,s.hostFeatures||null),cd(G,X,null),Fu(G,X,null,null)}finally{to(),a.end&&a.end()}return de}function Ww(i,s,a,l,c,f){const y=a[1];a[20]=i;const T=_o(y,20,2,"#host",null),R=T.mergedAttrs=s.hostAttrs;null!==R&&(bp(T,R,!0),null!==i&&(Yn(c,i,R),null!==T.classes&&_m(c,i,T.classes),null!==T.styles&&cw(c,i,T.styles)));const k=l.createRenderer(i,s),G=fc(a,mp(s),null,s.onPush?64:16,a[20],T,l,k,f||null,null);return y.firstCreatePass&&(bu(oo(T,a),y,s.type),Mh(y,T),Bm(T,a.length,1)),Ep(a,G),a[20]=G}function qw(i,s,a,l,c){const f=a[1],y=function Aw(i,s,a){const l=qn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ws(i,l,s,ld(i,s,1,null),a));const c=Xu(s,i,l.directiveStart,l);Pi(c,s);const f=qe(l,s);return f&&Pi(f,s),c}(f,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(T=>T(y,s)),s.contentQueries){const T=qn();s.contentQueries(1,y,T.directiveStart)}const _=qn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ni(_.index),Sw(a[1],_,0,_.directiveStart,_.directiveEnd,s),Um(s,y)),y}function oy(i,s){return{components:[],scheduler:i||Z_,clean:vc,playerHandler:s||null,flags:0}}function Oh(i,s){no(hi(i)[1],qn())}function kh(i){return ym(i).clean}function Pp(i){return Object.getPrototypeOf(i.prototype).constructor}function Op(i){let s=Pp(i.type),a=!0;const l=[i];for(;s;){let c;if(br(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=ay(i.inputs),y.declaredInputs=ay(i.declaredInputs),y.outputs=ay(i.outputs);const _=c.hostBindings;_&&uy(i,_);const T=c.viewQuery,R=c.contentQueries;if(T&&nI(i,T),R&&rI(i,R),_e(i.inputs,c.inputs),_e(i.declaredInputs,c.declaredInputs),_e(i.outputs,c.outputs),br(c)&&c.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===Op&&(a=!1)}}s=Object.getPrototypeOf(s)}!function tI(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=N(c.hostAttrs,a=N(a,c.hostAttrs))}}(l)}function ay(i){return i===Vn?{}:i===At?[]:i}function nI(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function rI(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function uy(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}const iI=["providersResolver"],sI=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ed(i){let a,s=Pp(i.type);a=br(i)?s.\u0275cmp:s.\u0275dir;const l=i;for(const c of iI)l[c]=a[c];if(br(a))for(const c of sI)l[c]=a[c]}let bd=null;function Aa(){if(!bd){const i=un.Symbol;if(i&&i.iterator)bd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(bd=l)}}}return bd}function kp(i,s){const a=Al(i),l=Al(s);return a&&l?function Fh(i,s,a){const l=i[Aa()](),c=s[Aa()]();for(;;){const f=l.next(),y=c.next();if(f.done&&y.done)return!0;if(f.done||y.done||!a(f.value,y.value))return!1}}(i,s,kp):!(a||!i||"object"!=typeof i&&"function"!=typeof i||l||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function Al(i){return!!Fp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Aa()in i)}function Fp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Qo(i,s,a){return i[s]=a}function bc(i,s){return i[s]}function Pr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Sl(i,s,a,l){const c=Pr(i,s,a);return Pr(i,s+1,l)||c}function Lp(i,s,a,l,c){const f=Sl(i,s,a,l);return Pr(i,s+2,c)||f}function qs(i,s,a,l,c,f){const y=Sl(i,s,a,l);return Sl(i,s+2,c,f)||y}function cy(i,s,a,l){const c=Ke();return Pr(c,Hi(),s)&&(rn(),wo(nr(),c,i,s,a,l)),cy}function xl(i,s){let a=!1,l=xi();for(let f=1;f<s.length;f+=2)a=Pr(i,l++,s[f])||a;if(us(l),!a)return Rt;let c=s[0];for(let f=1;f<s.length;f+=2)c+=ye(s[f])+s[f+1];return c}function Id(i,s,a,l){return Pr(i,Hi(),a)?s+ye(a)+l:Rt}function Ml(i,s,a,l,c,f){const _=Sl(i,xi(),a,c);return ls(2),_?s+ye(a)+l+ye(c)+f:Rt}function Vu(i,s,a,l,c,f,y,_){const R=Lp(i,xi(),a,c,y);return ls(3),R?s+ye(a)+l+ye(c)+f+ye(y)+_:Rt}function Rl(i,s,a,l,c,f,y,_,T,R){const G=qs(i,xi(),a,c,y,T);return ls(4),G?s+ye(a)+l+ye(c)+f+ye(y)+_+ye(T)+R:Rt}function Ic(i,s,a,l,c,f,y,_,T,R,k,G){const X=xi();let de=qs(i,X,a,c,y,T);return de=Pr(i,X+4,k)||de,ls(5),de?s+ye(a)+l+ye(c)+f+ye(y)+_+ye(T)+R+ye(k)+G:Rt}function Sa(i,s,a,l,c,f,y,_,T,R,k,G,X,de){const He=xi();let nt=qs(i,He,a,c,y,T);return nt=Sl(i,He+4,k,X)||nt,ls(6),nt?s+ye(a)+l+ye(c)+f+ye(y)+_+ye(T)+R+ye(k)+G+ye(X)+de:Rt}function Nl(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt){const ft=xi();let Dt=qs(i,ft,a,c,y,T);return Dt=Lp(i,ft+4,k,X,He)||Dt,ls(7),Dt?s+ye(a)+l+ye(c)+f+ye(y)+_+ye(T)+R+ye(k)+G+ye(X)+de+ye(He)+nt:Rt}function Cd(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt){const Ze=xi();let Nt=qs(i,Ze,a,c,y,T);return Nt=qs(i,Ze+4,k,X,He,ft)||Nt,ls(8),Nt?s+ye(a)+l+ye(c)+f+ye(y)+_+ye(T)+R+ye(k)+G+ye(X)+de+ye(He)+nt+ye(ft)+Dt:Rt}function dy(i,s,a,l,c,f){const y=Ke(),_=Id(y,s,a,l);return _!==Rt&&wo(nr(),y,i,_,c,f),dy}function Vp(i,s,a,l,c,f,y,_){const T=Ke(),R=Ml(T,s,a,l,c,f);return R!==Rt&&wo(nr(),T,i,R,y,_),Vp}function Up(i,s,a,l,c,f,y,_,T,R){const k=Ke(),G=Vu(k,s,a,l,c,f,y,_);return G!==Rt&&wo(nr(),k,i,G,T,R),Up}function hy(i,s,a,l,c,f,y,_,T,R,k,G){const X=Ke(),de=Rl(X,s,a,l,c,f,y,_,T,R);return de!==Rt&&wo(nr(),X,i,de,k,G),hy}function Lh(i,s,a,l,c,f,y,_,T,R,k,G,X,de){const He=Ke(),nt=Ic(He,s,a,l,c,f,y,_,T,R,k,G);return nt!==Rt&&wo(nr(),He,i,nt,X,de),Lh}function fy(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt){const ft=Ke(),Dt=Sa(ft,s,a,l,c,f,y,_,T,R,k,G,X,de);return Dt!==Rt&&wo(nr(),ft,i,Dt,He,nt),fy}function Vh(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt){const Ze=Ke(),Nt=Nl(Ze,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt);return Nt!==Rt&&wo(nr(),Ze,i,Nt,ft,Dt),Vh}function py(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt,Ze,Nt){const In=Ke(),Jn=Cd(In,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt);return Jn!==Rt&&wo(nr(),In,i,Jn,Ze,Nt),py}function Uh(i,s,a,l){const c=Ke(),f=xl(c,s);return f!==Rt&&wo(nr(),c,i,f,a,l),Uh}function Bp(i,s,a,l,c,f,y,_){const T=Ke(),R=rn(),k=i+20,G=R.firstCreatePass?function oI(i,s,a,l,c,f,y,_,T){const R=s.consts,k=_o(s,i,4,y||null,Kt(R,_));Lm(s,a,k,Kt(R,T)),no(s,k);const G=k.tViews=dd(2,k,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,R);return null!==s.queries&&(s.queries.template(s,k),G.queries=s.queries.embeddedTView(k)),k}(k,R,T,s,a,l,c,f,y):R.data[k];Kr(G,!1);const X=T[11].createComment("");Eh(R,T,X,G),Pi(X,T),Ep(T,T[k]=jm(X,T,X,G)),Un(G)&&gc(R,T,G),null!=y&&gp(T,G,_)}function gy(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}function jp(i){return yn(function aa(){return xt.lFrame.contextLView}(),20+i)}const Hp={\u0275\u0275defineInjectable:Lt,\u0275\u0275defineInjector:on,\u0275\u0275inject:D,\u0275\u0275invalidFactoryDep:P,resolveForwardRef:ue};const Dd=De({provide:String,useValue:De});function Uu(i){return void 0!==i.useClass}function Cc(i){return void 0!==i.useFactory}const Ad=dn("Injectable",void 0,void 0,void 0,(i,s)=>function my(i,s){let a=null,l=null;i.hasOwnProperty(Kn)||Object.defineProperty(i,Kn,{get:()=>(null===a&&(a=jr().compileInjectable(Hp,`ng:///${i.name}/\u0275prov.js`,function Kw(i,s){const a=s||{providedIn:null},l={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(Uu(a)||Cc(a))&&void 0!==a.deps&&(l.deps=nc(a.deps)),Uu(a)?l.useClass=a.useClass:function yy(i){return Dd in i}(a)?l.useValue=a.useValue:Cc(a)?l.useFactory=a.useFactory:function Td(i){return void 0!==i.useExisting}(a)&&(l.useExisting=a.useExisting),l}(i,s))),a)}),i.hasOwnProperty($e)||Object.defineProperty(i,$e,{get:()=>{if(null===l){const c=jr();l=c.compileFactory(Hp,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:po(i),target:c.FactoryTarget.Injectable})}return l},configurable:!0})}(i,s));function vy(i){return i.length>1?" ("+function aI(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(l=>pe(l.token)).join(" -> ")+")":""}function Bh(i,s,a,l){const c=[s],f=a(c),y=l?function Oi(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,l=Error(a);return l[Xf]=s,l}(f,l):Error(f);return y.addKey=_y,y.keys=c,y.injectors=[i],y.constructResolvingMessage=a,y[Xf]=l,y}function _y(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function $p(i,s){const a=[];for(let l=0,c=s.length;l<c;l++){const f=s[l];a.push(f&&0!=f.length?f.map(pe).join(" "):"?")}return Error("Cannot resolve all parameters for '"+pe(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+pe(i)+"' is decorated with Injectable.")}function cI(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class au{constructor(s,a){if(this.token=s,this.id=a,!s)throw new Error("Token must be defined!");this.displayName=pe(this.token)}static get(s){return Iy.get(ue(s))}static get numberOfKeys(){return Iy.numberOfKeys}}class dI{constructor(){this._allKeys=new Map}get(s){if(s instanceof au)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new au(s,au.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const Iy=new dI;class Zw{constructor(s){this.reflectionCapabilities=s}updateCapabilities(s){this.reflectionCapabilities=s}factory(s){return this.reflectionCapabilities.factory(s)}parameters(s){return this.reflectionCapabilities.parameters(s)}annotations(s){return this.reflectionCapabilities.annotations(s)}propMetadata(s){return this.reflectionCapabilities.propMetadata(s)}hasLifecycleHook(s,a){return this.reflectionCapabilities.hasLifecycleHook(s,a)}getter(s){return this.reflectionCapabilities.getter(s)}setter(s){return this.reflectionCapabilities.setter(s)}method(s){return this.reflectionCapabilities.method(s)}importUri(s){return this.reflectionCapabilities.importUri(s)}resourceUri(s){return this.reflectionCapabilities.resourceUri(s)}resolveIdentifier(s,a,l,c){return this.reflectionCapabilities.resolveIdentifier(s,a,l,c)}resolveEnum(s,a){return this.reflectionCapabilities.resolveEnum(s,a)}}const Cy=new Zw(new tc);class jh{constructor(s,a,l){this.key=s,this.optional=a,this.visibility=l}static fromKey(s){return new jh(s,!1,null)}}const hI=[];class Qw{constructor(s,a,l){this.key=s,this.resolvedFactories=a,this.multiProvider=l,this.resolvedFactory=this.resolvedFactories[0]}}class Yw{constructor(s,a){this.factory=s,this.dependencies=a}}function fI(i){let s,a;if(i.useClass){const l=ue(i.useClass);s=Cy.factory(l),a=Xw(l)}else i.useExisting?(s=l=>l,a=[jh.fromKey(au.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function Sy(i,s){if(s){const a=s.map(l=>[l]);return s.map(l=>Gp(i,l,a))}return Xw(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=hI);return new Yw(s,a)}function Dy(i){return new Qw(au.get(i.provide),[fI(i)],i.multi||!1)}function Ty(i){const l=function Ay(i,s){for(let a=0;a<i.length;a++){const l=i[a],c=s.get(l.key.id);if(c){if(l.multiProvider!==c.multiProvider)throw cI(c,l);if(l.multiProvider)for(let f=0;f<l.resolvedFactories.length;f++)c.resolvedFactories.push(l.resolvedFactories[f]);else s.set(l.key.id,l)}else{let f;f=l.multiProvider?new Qw(l.key,l.resolvedFactories.slice(),l.multiProvider):l,s.set(l.key.id,f)}}return s}(Jw(i,[]).map(Dy),new Map);return Array.from(l.values())}function Jw(i,s){return i.forEach(a=>{if(a instanceof lo)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function lI(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);Jw(a,s)}}),s}function Xw(i){const s=Cy.parameters(i);if(!s)return[];if(s.some(a=>null==a))throw $p(i,s);return s.map(a=>Gp(i,a,s))}function Gp(i,s,a){let l=null,c=!1;if(!Array.isArray(s))return zp(s instanceof oe?s.token:s,c,null);let f=null;for(let y=0;y<s.length;++y){const _=s[y];_ instanceof lo?l=_:_ instanceof oe?l=_.token:_ instanceof Se?c=!0:_ instanceof gt||_ instanceof dr?f=_:_ instanceof Ir&&(l=_)}if(l=ue(l),null!=l)return zp(l,c,f);throw $p(i,a)}function zp(i,s,a){return new jh(au.get(i),s,a)}const Dc={};class Tc{static resolve(s){return Ty(s)}static resolveAndCreate(s,a){const l=Tc.resolve(s);return Tc.fromResolvedProviders(l,a)}static fromResolvedProviders(s,a){return new pI(s,a)}}let pI=(()=>{class i{constructor(a,l){this._constructionCounter=0,this._providers=a,this.parent=l||null;const c=a.length;this.keyIds=[],this.objs=[];for(let f=0;f<c;f++)this.keyIds[f]=a[f].key.id,this.objs[f]=Dc}get(a,l=Vs){return this._getByKey(au.get(a),null,l)}resolveAndCreateChild(a){const l=Tc.resolve(a);return this.createChildFromResolved(l)}createChildFromResolved(a){const l=new i(a);return l.parent=this,l}resolveAndInstantiate(a){return this.instantiateResolved(Tc.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function by(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function Ey(i,s){return Bh(i,s,function(a){return`Cannot instantiate cyclic dependency!${vy(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const l=[];for(let c=0;c<a.resolvedFactories.length;++c)l[c]=this._instantiate(a,a.resolvedFactories[c]);return l}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,l){const c=l.factory;let f,y;try{f=l.dependencies.map(_=>this._getByReflectiveDependency(_))}catch(_){throw _.addKey&&_.addKey(this,a.key),_}try{y=c(...f)}catch(_){throw function uI(i,s,a,l){return Bh(i,l,function(c){const f=pe(c[0].token);return`${s.message}: Error during instantiation of ${f}!${vy(c)}.`},s)}(this,_,0,a.key)}return y}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Vs)}_getByKey(a,l,c){return a===i.INJECTOR_KEY?this:l instanceof gt?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,l)}_getObjByKeyId(a){for(let l=0;l<this.keyIds.length;l++)if(this.keyIds[l]===a)return this.objs[l]===Dc&&(this.objs[l]=this._new(this._providers[l])),this.objs[l];return Dc}_throwOrNull(a,l){if(l!==Vs)return l;throw function wy(i,s){return Bh(i,s,function(a){return`No provider for ${pe(a[0].token)}!${vy(a)}`})}(this,a)}_getByKeySelf(a,l){const c=this._getObjByKeyId(a.id);return c!==Dc?c:this._throwOrNull(a,l)}_getByKeyDefault(a,l,c){let f;for(f=c instanceof dr?this.parent:this;f instanceof i;){const y=f,_=y._getObjByKeyId(a.id);if(_!==Dc)return _;f=y.parent}return null!==f?f.get(a.token,l):this._throwOrNull(a,l)}get displayName(){return`ReflectiveInjector(providers: [${function xy(i,s){const a=[];for(let l=0;l<i._providers.length;++l)a[l]=s(i.getProviderAtIndex(l));return a}(this,l=>' "'+l.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=au.get(Ko),i})();function Hh(i,s=mt.Default){const a=Ke();return null===a?D(i,s):Ju(qn(),a,ue(i),s)}function Wp(){throw new Error("invalid")}function My(i,s,a){const l=Ke();return Pr(l,Hi(),s)&&Ws(rn(),nr(),l,i,s,l[11],a,!1),My}function $h(i,s,a,l,c){const y=c?"class":"style";Km(i,a,s.inputs[y],y,l)}function Sd(i,s,a,l){const c=Ke(),f=rn(),y=20+i,_=c[11],T=c[y]=Pu(_,s,function Ha(){return xt.lFrame.currentNamespace}()),R=f.firstCreatePass?function gI(i,s,a,l,c,f,y){const _=s.consts,R=_o(s,i,2,c,Kt(_,f));return Lm(s,a,R,Kt(_,y)),null!==R.attrs&&bp(R,R.attrs,!1),null!==R.mergedAttrs&&bp(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(y,f,c,0,s,a,l):f.data[y];Kr(R,!0);const k=R.mergedAttrs;null!==k&&Yn(_,T,k);const G=R.classes;null!==G&&_m(_,T,G);const X=R.styles;return null!==X&&cw(_,T,X),64!=(64&R.flags)&&Eh(f,c,T,R),0===function Ss(){return xt.lFrame.elementDepthCount}()&&Pi(T,c),function sa(){xt.lFrame.elementDepthCount++}(),Un(R)&&(gc(f,c,R),El(f,R,c)),null!==l&&gp(c,R),Sd}function xd(){let i=qn();yu()?Xs():(i=i.parent,Kr(i,!1));const s=i;!function ji(){xt.lFrame.elementDepthCount--}();const a=rn();return a.firstCreatePass&&(no(a,i),Co(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ql(i){return 0!=(16&i.flags)}(s)&&$h(a,s,Ke(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function io(i){return 0!=(32&i.flags)}(s)&&$h(a,s,Ke(),s.stylesWithoutHost,!1),xd}function Gh(i,s,a,l){return Sd(i,s,a,l),xd(),Gh}function Md(i,s,a){const l=Ke(),c=rn(),f=i+20,y=c.firstCreatePass?function e0(i,s,a,l,c){const f=s.consts,y=Kt(f,l),_=_o(s,i,8,"ng-container",y);return null!==y&&bp(_,y,!0),Lm(s,a,_,Kt(f,c)),null!==s.queries&&s.queries.elementStart(s,_),_}(f,c,l,s,a):c.data[f];Kr(y,!0);const _=l[f]=l[11].createComment("");return Eh(c,l,_,y),Pi(_,l),Un(y)&&(gc(c,l,y),El(c,y,l)),null!=a&&gp(l,y),Md}function qp(){let i=qn();const s=rn();return yu()?Xs():(i=i.parent,Kr(i,!1)),s.firstCreatePass&&(no(s,i),Co(i)&&s.queries.elementEnd(i)),qp}function Wh(i,s,a){return Md(i,s,a),qp(),Wh}function uu(){return Ke()}function qh(i){return!!i&&"function"==typeof i.then}function t0(i){return!!i&&"function"==typeof i.subscribe}const Kp=t0;function Ry(i,s,a,l){const c=Ke(),f=rn(),y=qn();return n0(f,c,c[11],y,i,s,!!a,l),Ry}function Ny(i,s){const a=qn(),l=Ke(),c=rn();return n0(c,l,qm(ja(c.data),a,l),a,i,s,!1),Ny}function n0(i,s,a,l,c,f,y,_){const T=Un(l),k=i.firstCreatePass&&Wm(i),G=s[8],X=yd(s);let de=!0;if(3&l.type||_){const ft=qe(l,s),Dt=_?_(ft):ft,Ze=X.length,Nt=_?In=>_(S(In[l.index])):l.index;if(bn(a)){let In=null;if(!_&&T&&(In=function Py(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===a&&c[f+1]===l){const _=s[7],T=c[f+2];return _.length>T?_[T]:null}"string"==typeof y&&(f+=2)}return null}(i,s,c,l.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=f,In.__ngLastListenerFn__=f,de=!1;else{f=Oy(l,s,G,f,!1);const Jn=a.listen(Dt,c,f);X.push(f,Jn),k&&k.push(c,Nt,Ze,Ze+1)}}else f=Oy(l,s,G,f,!0),Dt.addEventListener(c,f,y),X.push(f),k&&k.push(c,Nt,Ze,y)}else f=Oy(l,s,G,f,!1);const He=l.outputs;let nt;if(de&&null!==He&&(nt=He[c])){const ft=nt.length;if(ft)for(let Dt=0;Dt<ft;Dt+=2){const ea=s[nt[Dt]][nt[Dt+1]].subscribe(f),Zd=X.length;X.push(f,ea),k&&k.push(c,l.index,Zd,-(Zd+1))}}}function Zp(i,s,a,l){try{return tr(6,s,a),!1!==a(l)}catch(c){return Ow(i,c),!1}finally{tr(7,s,a)}}function Oy(i,s,a,l,c){return function f(y){if(y===Function)return l;const _=2&i.flags?qt(i.index,s):s;0==(32&s[2])&&Hm(_);let T=Zp(s,a,l,y),R=f.__ngNextListenerFn__;for(;R;)T=Zp(s,a,R,y)&&T,R=R.__ngNextListenerFn__;return c&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function Qp(i=1){return function da(i){return(xt.lFrame.contextLView=function wu(i,s){for(;i>0;)s=s[15],i--;return s}(i,xt.lFrame.contextLView))[8]}(i)}function mI(i,s){let a=null;const l=function pw(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===l?fw(i,f,!0):kb(l,f))return c}else a=c}return a}function Yp(i){const s=Ke()[16][6];if(!s.projection){const l=s.projection=va(i?i.length:1,null),c=l.slice();let f=s.child;for(;null!==f;){const y=i?mI(f,i):0;null!==y&&(c[y]?c[y].projectionNext=f:l[y]=f,c[y]=f),f=f.next}}}function ky(i,s=0,a){const l=Ke(),c=rn(),f=_o(c,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Xs(),64!=(64&f.flags)&&function uw(i,s,a){Ta(s[11],0,s,a,rd(i,a,s),hc(a.parent||s[6],a,s))}(c,l,f)}function Kh(i,s,a){return Zh(i,"",s,"",a),Kh}function Zh(i,s,a,l,c){const f=Ke(),y=Id(f,s,a,l);return y!==Rt&&Ws(rn(),nr(),f,i,y,f[11],c,!1),Zh}function Fy(i,s,a,l,c,f,y){const _=Ke(),T=Ml(_,s,a,l,c,f);return T!==Rt&&Ws(rn(),nr(),_,i,T,_[11],y,!1),Fy}function Ly(i,s,a,l,c,f,y,_,T){const R=Ke(),k=Vu(R,s,a,l,c,f,y,_);return k!==Rt&&Ws(rn(),nr(),R,i,k,R[11],T,!1),Ly}function Qh(i,s,a,l,c,f,y,_,T,R,k){const G=Ke(),X=Rl(G,s,a,l,c,f,y,_,T,R);return X!==Rt&&Ws(rn(),nr(),G,i,X,G[11],k,!1),Qh}function Vy(i,s,a,l,c,f,y,_,T,R,k,G,X){const de=Ke(),He=Ic(de,s,a,l,c,f,y,_,T,R,k,G);return He!==Rt&&Ws(rn(),nr(),de,i,He,de[11],X,!1),Vy}function Yh(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He){const nt=Ke(),ft=Sa(nt,s,a,l,c,f,y,_,T,R,k,G,X,de);return ft!==Rt&&Ws(rn(),nr(),nt,i,ft,nt[11],He,!1),Yh}function Jh(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft){const Dt=Ke(),Ze=Nl(Dt,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt);return Ze!==Rt&&Ws(rn(),nr(),Dt,i,Ze,Dt[11],ft,!1),Jh}function Xh(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt,Ze){const Nt=Ke(),In=Cd(Nt,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt);return In!==Rt&&Ws(rn(),nr(),Nt,i,In,Nt[11],Ze,!1),Xh}function Uy(i,s,a){const l=Ke(),c=xl(l,s);return c!==Rt&&Ws(rn(),nr(),l,i,c,l[11],a,!1),Uy}function Jp(i,s,a,l,c){const f=i[a+1],y=null===s;let _=l?vo(f):su(f),T=!1;for(;0!==_&&(!1===T||y);){const k=i[_+1];By(i[_],s)&&(T=!0,i[_+1]=l?bm(k):ap(k)),_=l?vo(k):su(k)}T&&(i[a+1]=l?ap(f):bm(f))}function By(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&fo(i,s)>=0}const si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jy(i){return i.substring(si.key,si.keyEnd)}function s0(i){return i.substring(si.value,si.valueEnd)}function Sn(i,s){const a=si.textEnd;return a===s?-1:(s=si.keyEnd=function a0(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,si.key=s,a),lu(i,s,a))}function Hy(i,s){const a=si.textEnd;let l=si.key=lu(i,s,a);return a===l?-1:(l=si.keyEnd=function Tr(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=ki(i,l,a),l=si.value=lu(i,l,a),l=si.valueEnd=function cu(i,s,a){let l=-1,c=-1,f=-1,y=s,_=y;for(;y<a;){const T=i.charCodeAt(y++);if(59===T)return _;34===T||39===T?_=y=Gy(i,T,y,a):s===y-4&&85===f&&82===c&&76===l&&40===T?_=y=Gy(i,41,y,a):T>32&&(_=y),f=c,c=l,l=-33&T}return _}(i,l,a),ki(i,l,a))}function $y(i){si.key=0,si.keyEnd=0,si.value=0,si.valueEnd=0,si.textEnd=i.length}function lu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function ki(i,s,a,l){return(s=lu(i,s,a))<a&&s++,s}function Gy(i,s,a,l){let c=-1,f=a;for(;f<l;){const y=i.charCodeAt(f++);if(y==s&&92!==c)return f;c=92==y&&92===c?0:y}throw new Error}function Rd(i,s,a){return hu(i,s,a,!1),Rd}function eg(i,s){return hu(i,s,null,!0),eg}function Eo(i){xa(ng,u0,i,!1)}function u0(i,s){for(let a=function o0(i){return $y(i),Hy(i,lu(i,0,si.textEnd))}(s);a>=0;a=Hy(s,a))ng(i,jy(s),s0(s))}function ef(i){xa(or,du,i,!0)}function du(i,s){for(let a=function Xp(i){return $y(i),Sn(i,lu(i,0,si.textEnd))}(s);a>=0;a=Sn(s,a))or(i,jy(s),!0)}function hu(i,s,a,l){const c=Ke(),f=rn(),y=ls(2);f.firstUpdatePass&&c0(f,i,y,l),s!==Rt&&Pr(c,y,s)&&ig(f,f.data[cr()],c,c[11],i,c[y+1]=function Ky(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(ms(i)))),i}(s,a),l,y)}function xa(i,s,a,l){const c=rn(),f=ls(2);c.firstUpdatePass&&c0(c,null,f,l);const y=Ke();if(a!==Rt&&Pr(y,f,a)){const _=c.data[cr()];if(sg(_,l)&&!l0(c,f)){let T=l?_.classesWithoutHost:_.stylesWithoutHost;null!==T&&(a=xe(T,a||"")),$h(c,_,y,a,l)}else!function rg(i,s,a,l,c,f,y,_){c===Rt&&(c=At);let T=0,R=0,k=0<c.length?c[0]:null,G=0<f.length?f[0]:null;for(;null!==k||null!==G;){const X=T<c.length?c[T+1]:void 0,de=R<f.length?f[R+1]:void 0;let nt,He=null;k===G?(T+=2,R+=2,X!==de&&(He=G,nt=de)):null===G||null!==k&&k<G?(T+=2,He=k):(R+=2,He=G,nt=de),null!==He&&ig(i,s,a,l,He,nt,y,_),k=T<c.length?c[T]:null,G=R<f.length?f[R]:null}}(c,_,y,y[11],y[f+1],y[f+1]=function Wy(i,s,a){if(null==a||""===a)return At;const l=[],c=ms(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(l,f,c[f]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,f)}}function l0(i,s){return s>=i.expandoStartIndex}function c0(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[cr()],y=l0(i,a);sg(f,l)&&null===s&&!y&&(s=!1),s=function _I(i,s,a,l){const c=ja(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Ac(a=tg(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=tg(c,i,s,a,l),null===f){let T=function wI(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==su(l))return i[vo(l)]}(i,s,l);void 0!==T&&Array.isArray(T)&&(T=tg(null,i,s,T[1],l),T=Ac(T,s.attrs,l),function d0(i,s,a,l){i[vo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,T))}else f=function zy(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=Ac(l,i[f].hostAttrs,a);return Ac(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function r0(i,s,a,l,c,f){let y=f?s.classBindings:s.styleBindings,_=vo(y),T=su(y);i[l]=a;let k,R=!1;if(Array.isArray(a)){const G=a;k=G[1],(null===k||fo(G,k)>0)&&(R=!0)}else k=a;if(c)if(0!==T){const X=vo(i[_+1]);i[l+1]=yo(X,_),0!==X&&(i[X+1]=up(i[X+1],l)),i[_+1]=function Ah(i,s){return 131071&i|s<<17}(i[_+1],l)}else i[l+1]=yo(_,0),0!==_&&(i[_+1]=up(i[_+1],l)),_=l;else i[l+1]=yo(T,0),0===_?_=l:i[T+1]=up(i[T+1],l),T=l;R&&(i[l+1]=ap(i[l+1])),Jp(i,k,l,!0),Jp(i,k,l,!1),function vI(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&fo(f,s)>=0&&(a[l+1]=bm(a[l+1]))}(s,k,i,l,f),y=yo(_,T),f?s.classBindings=y:s.styleBindings=y}(c,f,s,a,y,l)}}function tg(i,s,a,l,c){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],l=Ac(l,f.hostAttrs,c),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),l}function Ac(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),or(i,y,!!a||s[++f]))}return void 0===i?null:i}function ng(i,s,a){or(i,s,ms(a))}function ig(i,s,a,l,c,f,y,_){if(!(3&s.type))return;const T=i.data,R=T[_+1];Sc(function vw(i){return 1==(1&i)}(R)?qy(T,s,a,c,su(R),y):void 0)||(Sc(f)||function Em(i){return 2==(2&i)}(R)&&(f=qy(T,null,a,c,_,y)),function Ih(i,s,a,l,c){const f=bn(i);if(s)c?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Da.DashCase;if(null==c)f?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),y|=Da.Important),f?i.setStyle(a,l,c,y):a.style.setProperty(l,c,_?"important":"")}}}(l,y,Ne(cr(),a),c,f))}function qy(i,s,a,l,c,f){const y=null===s;let _;for(;c>0;){const T=i[c],R=Array.isArray(T),k=R?T[1]:T,G=null===k;let X=a[c+1];X===Rt&&(X=G?At:void 0);let de=G?_a(X,l):k===l?X:void 0;if(R&&!Sc(de)&&(de=_a(T,l)),Sc(de)&&(_=de,y))return _;const He=i[c+1];c=y?vo(He):su(He)}if(null!==s){let T=f?s.residualClasses:s.residualStyles;null!=T&&(_=_a(T,l))}return _}function Sc(i){return void 0!==i}function sg(i,s){return 0!=(i.flags&(s?16:32))}function Zy(i,s=""){const a=Ke(),l=rn(),c=i+20,f=l.firstCreatePass?_o(l,c,1,s,null):l.data[c],y=a[c]=gl(a[11],s);Eh(l,a,y,f),Kr(f,!1)}function Pl(i){return Nd("",i,""),Pl}function Nd(i,s,a){const l=Ke(),c=Id(l,i,s,a);return c!==Rt&&Lu(l,cr(),c),Nd}function Qy(i,s,a,l,c){const f=Ke(),y=Ml(f,i,s,a,l,c);return y!==Rt&&Lu(f,cr(),y),Qy}function Yy(i,s,a,l,c,f,y){const _=Ke(),T=Vu(_,i,s,a,l,c,f,y);return T!==Rt&&Lu(_,cr(),T),Yy}function Jy(i,s,a,l,c,f,y,_,T){const R=Ke(),k=Rl(R,i,s,a,l,c,f,y,_,T);return k!==Rt&&Lu(R,cr(),k),Jy}function og(i,s,a,l,c,f,y,_,T,R,k){const G=Ke(),X=Ic(G,i,s,a,l,c,f,y,_,T,R,k);return X!==Rt&&Lu(G,cr(),X),og}function Xy(i,s,a,l,c,f,y,_,T,R,k,G,X){const de=Ke(),He=Sa(de,i,s,a,l,c,f,y,_,T,R,k,G,X);return He!==Rt&&Lu(de,cr(),He),Xy}function ag(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He){const nt=Ke(),ft=Nl(nt,i,s,a,l,c,f,y,_,T,R,k,G,X,de,He);return ft!==Rt&&Lu(nt,cr(),ft),ag}function ev(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft){const Dt=Ke(),Ze=Cd(Dt,i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft);return Ze!==Rt&&Lu(Dt,cr(),Ze),ev}function tv(i){const s=Ke(),a=xl(s,i);return a!==Rt&&Lu(s,cr(),a),tv}function h0(i,s,a){xa(or,du,Id(Ke(),i,s,a),!0)}function f0(i,s,a,l,c){xa(or,du,Ml(Ke(),i,s,a,l,c),!0)}function ug(i,s,a,l,c,f,y){xa(or,du,Vu(Ke(),i,s,a,l,c,f,y),!0)}function p0(i,s,a,l,c,f,y,_,T){xa(or,du,Rl(Ke(),i,s,a,l,c,f,y,_,T),!0)}function g0(i,s,a,l,c,f,y,_,T,R,k){xa(or,du,Ic(Ke(),i,s,a,l,c,f,y,_,T,R,k),!0)}function gr(i,s,a,l,c,f,y,_,T,R,k,G,X){xa(or,du,Sa(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X),!0)}function EI(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He){xa(or,du,Nl(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X,de,He),!0)}function bI(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft){xa(or,du,Cd(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft),!0)}function Qr(i){xa(or,du,xl(Ke(),i),!0)}function nv(i,s,a){Eo(Id(Ke(),i,s,a))}function m0(i,s,a,l,c){Eo(Ml(Ke(),i,s,a,l,c))}function y0(i,s,a,l,c,f,y){Eo(Vu(Ke(),i,s,a,l,c,f,y))}function rv(i,s,a,l,c,f,y,_,T){Eo(Rl(Ke(),i,s,a,l,c,f,y,_,T))}function v0(i,s,a,l,c,f,y,_,T,R,k){Eo(Ic(Ke(),i,s,a,l,c,f,y,_,T,R,k))}function _0(i,s,a,l,c,f,y,_,T,R,k,G,X){Eo(Sa(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X))}function w0(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He){Eo(Nl(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X,de,He))}function E0(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft){Eo(Cd(Ke(),i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft))}function II(i){Eo(xl(Ke(),i))}function iv(i,s,a,l,c){return hu(i,Id(Ke(),s,a,l),c,!1),iv}function sv(i,s,a,l,c,f,y){return hu(i,Ml(Ke(),s,a,l,c,f),y,!1),sv}function lg(i,s,a,l,c,f,y,_,T){return hu(i,Vu(Ke(),s,a,l,c,f,y,_),T,!1),lg}function Yo(i,s,a,l,c,f,y,_,T,R,k){return hu(i,Rl(Ke(),s,a,l,c,f,y,_,T,R),k,!1),Yo}function Ma(i,s,a,l,c,f,y,_,T,R,k,G,X){return hu(i,Ic(Ke(),s,a,l,c,f,y,_,T,R,k,G),X,!1),Ma}function b0(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He){return hu(i,Sa(Ke(),s,a,l,c,f,y,_,T,R,k,G,X,de),He,!1),b0}function Bu(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft){return hu(i,Nl(Ke(),s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt),ft,!1),Bu}function Pd(i,s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt,Ze){return hu(i,Cd(Ke(),s,a,l,c,f,y,_,T,R,k,G,X,de,He,nt,ft,Dt),Ze,!1),Pd}function ov(i,s,a){return hu(i,xl(Ke(),s),a,!1),ov}function av(i,s,a){const l=Ke();return Pr(l,Hi(),s)&&Ws(rn(),nr(),l,i,s,l[11],a,!0),av}function cg(i,s,a){const l=Ke();if(Pr(l,Hi(),s)){const f=rn(),y=nr();Ws(f,y,l,i,s,qm(ja(f.data),y,l),a,!0)}return cg}const Ol=void 0;var CI=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dg(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Jo={};function hg(i,s,a){"string"!=typeof s&&(a=s,s=i[Gt.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Jo[s]=i,a&&(Jo[s][Gt.ExtraData]=a)}function xc(i){const s=function uv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=C0(s);if(a)return a;const l=s.split("-")[0];if(a=C0(l),a)return a;if("en"===l)return CI;throw new Error(`Missing locale data for the locale "${i}".`)}function I0(i){return xc(i)[Gt.CurrencyCode]||null}function fg(i){return xc(i)[Gt.PluralCase]}function C0(i){return i in Jo||(Jo[i]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[i]),Jo[i]}function DI(){Jo={}}var Gt=(()=>((Gt=Gt||{})[Gt.LocaleId=0]="LocaleId",Gt[Gt.DayPeriodsFormat=1]="DayPeriodsFormat",Gt[Gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gt[Gt.DaysFormat=3]="DaysFormat",Gt[Gt.DaysStandalone=4]="DaysStandalone",Gt[Gt.MonthsFormat=5]="MonthsFormat",Gt[Gt.MonthsStandalone=6]="MonthsStandalone",Gt[Gt.Eras=7]="Eras",Gt[Gt.FirstDayOfWeek=8]="FirstDayOfWeek",Gt[Gt.WeekendRange=9]="WeekendRange",Gt[Gt.DateFormat=10]="DateFormat",Gt[Gt.TimeFormat=11]="TimeFormat",Gt[Gt.DateTimeFormat=12]="DateTimeFormat",Gt[Gt.NumberSymbols=13]="NumberSymbols",Gt[Gt.NumberFormats=14]="NumberFormats",Gt[Gt.CurrencyCode=15]="CurrencyCode",Gt[Gt.CurrencySymbol=16]="CurrencySymbol",Gt[Gt.CurrencyName=17]="CurrencyName",Gt[Gt.Currencies=18]="Currencies",Gt[Gt.Directionality=19]="Directionality",Gt[Gt.PluralCase=20]="PluralCase",Gt[Gt.ExtraData=21]="ExtraData",Gt))();const lv=["zero","one","two","few","many"],Ra="en-US",tf={marker:"element"},Od={marker:"ICU"};var Or=(()=>((Or=Or||{})[Or.SHIFT=2]="SHIFT",Or[Or.APPEND_EAGERLY=1]="APPEND_EAGERLY",Or[Or.COMMENT=2]="COMMENT",Or))();let nf=Ra;function rf(i){(function zt(i,s){null==i&&lt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(nf=i.toLowerCase().replace(/_/g,"-"))}function kd(i,s,a){const l=s.insertBeforeIndex,c=Array.isArray(l)?l[0]:l;return null===c?rp(i,0,a):S(a[c])}function S0(i,s,a,l,c){const f=s.insertBeforeIndex;if(Array.isArray(f)){let y=l,_=null;if(3&s.type||(_=y,y=c),null!==y&&0==(2&s.flags))for(let T=1;T<f.length;T++)yl(i,y,a[f[T]],_,!1)}}function sf(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];cv(l)||of(l,s)&&null===kl(l)&&TI(l,s.index)}}function cv(i){return!(64&i.type)}function of(i,s){return cv(s)||i.index>s.index}function kl(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function TI(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(On(kd,S0),i.insertBeforeIndex=s)}function af(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function x0(i,s,a){const l=pp(i,a,64,null,null);return sf(s,l),l}function pg(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function M0(i){return i>>>17}function dv(i){return(131070&i)>>>1}let Fd=0,uf=0;function hv(i,s,a,l){const c=a[11];let y,f=null;for(let _=0;_<s.length;_++){const T=s[_];if("string"==typeof T){const R=s[++_];null===a[R]&&(a[R]=gl(c,T))}else if("number"==typeof T)switch(1&T){case 0:const R=M0(T);let k,G;if(null===f&&(f=R,y=wh(c,l)),R===f?(k=l,G=y):(k=null,G=S(a[R])),null!==G){const nt=dv(T);yl(c,G,a[nt],k,!1);const Dt=af(i,nt);if(null!==Dt&&"object"==typeof Dt){const Ze=pg(Dt,a);null!==Ze&&hv(i,Dt.create[Ze],a,a[Dt.anchorIdx])}}break;case 1:const de=s[++_],He=s[++_];pd(c,Ne(T>>>1,a),null,null,de,He,null)}else switch(T){case Od:const R=s[++_],k=s[++_];null===a[k]&&Pi(a[k]=J_(c,R),a);break;case tf:const G=s[++_],X=s[++_];null===a[X]&&Pi(a[X]=Pu(c,G,null),a)}}}function fv(i,s,a,l,c){for(let f=0;f<a.length;f++){const y=a[f],_=a[++f];if(y&c){let T="";for(let R=f+1;R<=f+_;R++){const k=a[R];if("string"==typeof k)T+=k;else if("number"==typeof k)if(k<0)T+=ye(s[l-k]);else{const G=k>>>2;switch(3&k){case 1:const X=a[++R],de=a[++R],He=i.data[G];"string"==typeof He?pd(s[11],s[G],null,He,X,T,de):Ws(i,He,s,X,T,s[11],de,!1);break;case 0:const nt=s[G];null!==nt&&ml(s[11],nt,T);break;case 2:mg(i,af(i,G),s,T);break;case 3:gg(i,af(i,G),l,s)}}}}else{const T=a[f+1];if(T>0&&3==(3&T)){const k=af(i,T>>>2);s[k.currentCaseLViewIndex]<0&&gg(i,k,l,s)}}f+=_}}function gg(i,s,a,l){let c=l[s.currentCaseLViewIndex];if(null!==c){let f=Fd;c<0&&(c=l[s.currentCaseLViewIndex]=~c,f=-1),fv(i,l,s.update[c],a,f)}}function mg(i,s,a,l){const c=function Mc(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function D0(i,s){const a=fg(s)(parseInt(i,10)),l=lv[a];return void 0!==l?l:"other"}(s,function A0(){return nf}());a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(pg(s,a)!==c&&(O0(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const y=a[s.anchorIdx];y&&hv(i,s.create[c],a,y)}}function O0(i,s,a){let l=pg(s,a);if(null!==l){const c=s.remove[l];for(let f=0;f<c.length;f++){const y=c[f];if(y>0){const _=Ne(y,a);null!==_&&_s(a[11],_)}else O0(i,af(i,~y),a)}}}function ju(){const i=[];let a,l,s=-1;function f(_,T){s=0;const R=pg(_,T);l=null!==R?_.remove[R]:At}function y(){if(s<l.length){const _=l[s++];return _>0?a[_]:(i.push(s,l),f(a[1].data[~_],a),y())}return 0===i.length?null:(l=i.pop(),s=i.pop(),y())}return function c(_,T){for(a=T;i.length;)i.pop();return f(_.value,T),y}}const Na=/\ufffd(\d+):?\d*\ufffd/gi,NI=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,PI=/\ufffd(\d+)\ufffd/,F0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,OI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,L0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,V0=/\uE500/g;function pv(i,s,a,l,c,f,y){const _=ld(i,l,1,null);let T=_<<Or.SHIFT,R=Ms();s===R&&(R=null),null===R&&(T|=Or.APPEND_EAGERLY),y&&(T|=Or.COMMENT,function Q_(i){void 0===gh&&(gh=i())}(ju)),c.push(T,null===f?"":f);const k=pp(i,_,y?32:1,null===f?"":f,null);sf(a,k);const G=k.index;return Kr(k,!1),null!==R&&s!==R&&function SI(i,s){let a=i.insertBeforeIndex;null===a?(On(kd,S0),a=i.insertBeforeIndex=[null,s]):(function Oe(i,s,a){i!=s&&lt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(R,G),k}function LI(i,s,a,l,c,f,y){const _=y.match(Na),T=pv(i,s,a,f,l,_?null:y,!1);_&&Fl(c,y,T.index,null,0,null)}function Fl(i,s,a,l,c,f){const y=i.length,_=y+1;i.push(null,null);const T=y+2,R=s.split(Na);let k=0;for(let G=0;G<R.length;G++){const X=R[G];if(1&G){const de=c+parseInt(X,10);i.push(-1-de),k|=VI(de)}else""!==X&&i.push(X)}return i.push(a<<2|(l?1:0)),l&&i.push(l,f),i[y]=k,i[_]=i.length-T,k}function kD(i){let s=0;for(let a=0;a<i.length;a++){const l=i[a];"number"==typeof l&&l<0&&s++}return s}function VI(i){return 1<<Math.min(i,31)}function gv(i){let s,f,a="",l=0,c=!1;for(;null!==(s=OI.exec(i));)c?s[0]===`\ufffd/*${f}\ufffd`&&(l=s.index,c=!1):(a+=i.substring(l,s.index+s[0].length),f=s[1],c=!0);return a+=i.substr(l),a}function U0(i,s,a,l,c,f){let y=0;const _={type:c.type,currentCaseLViewIndex:ld(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function FD(i,s,a){i.push(VI(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,f),function AI(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,f,_);const T=c.values;for(let R=0;R<T.length;R++){const k=T[R],G=[];for(let X=0;X<k.length;X++){const de=k[X];if("string"!=typeof de){const He=G.push(de)-1;k[X]=`\x3c!--\ufffd${He}\ufffd--\x3e`}}y=jI(i,_,s,a,l,c.cases[R],k.join(""),G)|y}y&&function LD(i,s,a){i.push(s,1,a<<2|3)}(a,y,f)}function BI(i){const s=[],a=[];let l=1,c=0;const f=mv(i=i.replace(F0,function(y,_,T){return l="select"===T?0:1,c=parseInt(_.substr(1),10),""}));for(let y=0;y<f.length;){let _=f[y++].trim();1===l&&(_=_.replace(/\s*(?:=)?(\w+)\s*/,"$1")),_.length&&s.push(_);const T=mv(f[y++]);s.length>a.length&&a.push(T)}return{type:l,mainBinding:c,cases:s,values:a}}function mv(i){if(!i)return[];let s=0;const a=[],l=[],c=/[{}]/g;let f;for(c.lastIndex=0;f=c.exec(i);){const _=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const T=i.substring(s,_);F0.test(T)?l.push(BI(T)):l.push(T),s=_+1}}else{if(0==a.length){const T=i.substring(s,_);l.push(T),s=_+1}a.push("{")}}const y=i.substring(s);return l.push(y),l}function jI(i,s,a,l,c,f,y,_){const T=[],R=[],k=[];s.cases.push(f),s.create.push(T),s.remove.push(R),s.update.push(k);const X=ba(ei()).getInertBodyElement(y),de=mo(X)||X;return de?B0(i,s,a,l,T,R,k,de,c,_,0):0}function B0(i,s,a,l,c,f,y,_,T,R,k){let G=0,X=_.firstChild;for(;X;){const de=ld(i,a,1,null);switch(X.nodeType){case Node.ELEMENT_NODE:const He=X,nt=He.tagName.toLowerCase();if(Le.hasOwnProperty(nt)){vg(c,tf,nt,T,de),i.data[de]=nt;const Nt=He.attributes;for(let In=0;In<Nt.length;In++){const Jn=Nt.item(In),ea=Jn.name.toLowerCase();Jn.value.match(Na)?vs.hasOwnProperty(ea)&&Fl(y,Jn.value,de,Jn.name,0,wt[ea]?js:Ct[ea]?dh:null):$I(c,de,Jn)}G=B0(i,s,a,l,c,f,y,X,de,R,k+1)|G,j0(f,de,k)}break;case Node.TEXT_NODE:const ft=X.textContent||"",Dt=ft.match(Na);vg(c,null,Dt?"":ft,T,de),j0(f,de,k),Dt&&(G=Fl(y,ft,de,null,0,null)|G);break;case Node.COMMENT_NODE:const Ze=PI.exec(X.textContent||"");if(Ze){const In=R[parseInt(Ze[1],10)];vg(c,Od,"",T,de),U0(i,a,l,T,In,de),HI(f,de,k)}}X=X.nextSibling}return G}function j0(i,s,a){0===a&&i.push(s)}function HI(i,s,a){0===a&&(i.push(~s),i.push(s))}function vg(i,s,a,l,c){null!==s&&i.push(s),i.push(a,c,function xI(i,s,a){return i|s<<17|a<<1}(0,l,c))}function $I(i,s,a){i.push(s<<1|1,a.name,a.value)}const yv=/\[(\ufffd.+?\ufffd?)\]/,$0=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,G0=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,cf=/{([A-Z0-9_]+)}/g,vv=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,GI=/\/\*/,zI=/\d+\:(\d+)/;function Vd(i,s,a=-1){const l=rn(),c=Ke(),f=20+i,y=Kt(l.consts,s),_=Ms();l.firstCreatePass&&function FI(i,s,a,l,c,f){const y=Ms(),_=[],T=[],R=[[]];c=function Ll(i,s){if(function UI(i){return-1===i}(s))return gv(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return gv(i.substring(a,l))}}(c,f);const k=function kI(i){return i.replace(V0," ")}(c).split(L0);for(let G=0;G<k.length;G++){let X=k[G];if(0==(1&G)){const de=mv(X);for(let He=0;He<de.length;He++){let nt=de[He];if(0==(1&He)){const ft=nt;""!==ft&&LI(i,y,R[0],_,T,a,ft)}else{const ft=nt;if("object"!=typeof ft)throw new Error(`Unable to parse ICU expression in "${c}" message.`);U0(i,a,T,s,ft,pv(i,y,R[0],a,_,"",!0).index)}}}else{const de=47===X.charCodeAt(0),nt=(X.charCodeAt(de?1:0),20+Number.parseInt(X.substring(de?2:1)));if(de)R.shift(),Kr(Ms(),!1);else{const ft=x0(i,R[0],nt);R.unshift([]),Kr(ft,!0)}}}i.data[l]={create:_,update:T}}(l,null===_?0:_.index,c,f,y,a);const T=l.data[f],k=iw(l,_===c[6]?null:_,c);(function P0(i,s,a,l){const c=i[11];for(let f=0;f<s.length;f++){const y=s[f++],_=s[f],T=(y&Or.COMMENT)===Or.COMMENT,R=(y&Or.APPEND_EAGERLY)===Or.APPEND_EAGERLY,k=y>>>Or.SHIFT;let G=i[k];null===G&&(G=i[k]=T?c.createComment(_):gl(c,_)),R&&null!==a&&yl(c,a,G,l,!1)}})(c,T.create,k,_&&8&_.type?c[_.index]:null),_u(!0)}function _v(){_u(!1)}function wv(i,s,a){Vd(i,s,a),_v()}function Ev(i,s){const a=rn();!function Ld(i,s,a){const c=qn().index,f=[];if(i.firstCreatePass&&null===i.data[s]){for(let y=0;y<a.length;y+=2){const _=a[y],T=a[y+1];if(""!==T){if(NI.test(T))throw new Error(`ICU expressions are not supported in attributes. Message: "${T}".`);Fl(f,T,c,_,kD(f),null)}}i.data[s]=f}}(a,i+20,Kt(a.consts,s))}function Hu(i){return function MI(i){i&&(Fd|=1<<Math.min(uf,31)),uf++}(Pr(Ke(),Hi(),i)),Hu}function bo(i){!function N0(i,s,a){if(uf>0){const l=i.data[a];fv(i,s,Array.isArray(l)?l:l.update,xi()-uf-1,Fd)}Fd=0,uf=0}(rn(),Ke(),i+20)}function Qi(i,s={}){return function z0(i,s={}){let a=i;if(yv.test(i)){const l={},c=[0];a=a.replace($0,(f,y,_)=>{const T=y||_,R=l[T]||[];if(R.length||(T.split("|").forEach(nt=>{const ft=nt.match(zI),Dt=ft?parseInt(ft[1],10):0,Ze=GI.test(nt);R.push([Dt,Ze,nt])}),l[T]=R),!R.length)throw new Error(`i18n postprocess: unmatched placeholder - ${T}`);const k=c[c.length-1];let G=0;for(let nt=0;nt<R.length;nt++)if(R[nt][0]===k){G=nt;break}const[X,de,He]=R[G];return de?c.pop():k!==X&&c.push(X),R.splice(G,1),He})}return Object.keys(s).length&&(a=a.replace(G0,(l,c,f,y,_,T)=>s.hasOwnProperty(f)?`${c}${s[f]}${T}`:l),a=a.replace(cf,(l,c)=>s.hasOwnProperty(c)?s[c]:l),a=a.replace(vv,(l,c)=>{if(s.hasOwnProperty(c)){const f=s[c];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${c}`);return f.shift()}return l})),a}(i,s)}function _g(i,s,a,l,c){if(i=ue(i),Array.isArray(i))for(let f=0;f<i.length;f++)_g(i[f],s,a,l,c);else{const f=rn(),y=Ke();let _=Dl(i)?i:ue(i.provide),T=Sp(i);const R=qn(),k=1048575&R.providerIndexes,G=R.directiveStart,X=R.providerIndexes>>20;if(Dl(i)||!i.multi){const de=new Rr(T,c,Hh),He=Fi(_,s,c?k:k+X,G);-1===He?(bu(oo(R,y),f,_),Nc(f,i,s.length),s.push(_),R.directiveStart++,R.directiveEnd++,c&&(R.providerIndexes+=1048576),a.push(de),y.push(de)):(a[He]=de,y[He]=de)}else{const de=Fi(_,s,k+X,G),He=Fi(_,s,k,k+X),nt=de>=0&&a[de],ft=He>=0&&a[He];if(c&&!ft||!c&&!nt){bu(oo(R,y),f,_);const Dt=function Pc(i,s,a,l,c){const f=new Rr(i,a,Hh);return f.multi=[],f.index=s,f.componentProviders=0,Ud(f,c,l&&!a),f}(c?bv:WI,a.length,c,l,T);!c&&ft&&(a[He].providerFactory=Dt),Nc(f,i,s.length,0),s.push(_),R.directiveStart++,R.directiveEnd++,c&&(R.providerIndexes+=1048576),a.push(Dt),y.push(Dt)}else Nc(f,i,de>-1?de:He,Ud(a[c?He:de],T,!c&&l));!c&&l&&ft&&a[He].componentProviders++}}}function Nc(i,s,a,l){const c=Dl(s),f=function Qb(i){return!!i.useClass}(s);if(c||f){const T=(f?ue(s.useClass):s).prototype.ngOnDestroy;if(T){const R=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const k=R.indexOf(a);-1===k?R.push(a,[l,T]):R[k+1].push(l,T)}else R.push(a,T)}}}function Ud(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Fi(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function WI(i,s,a,l){return Vl(this.multi,[])}function bv(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=Xu(a,a[1],this.providerFactory.index,l);f=_.slice(0,y),Vl(c,f);for(let T=y;T<_.length;T++)f.push(_[T])}else f=[],Vl(c,f);return f}function Vl(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function wg(i,s=[]){return a=>{a.providersResolver=(l,c)=>function W0(i,s,a){const l=rn();if(l.firstCreatePass){const c=br(i);_g(a,l.data,l.blueprint,c,!0),_g(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Ul{}class Eg{}class KI{resolveComponentFactory(s){throw function qI(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let kc=(()=>{class i{}return i.NULL=new KI,i})();function bg(){return oi(qn(),Ke())}function oi(i,s){return new df(qe(i,s))}let df=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=bg,i})();function ZI(i){return i instanceof df?i.nativeElement:i}class Iv{}let QI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Fc(){const i=Ke(),a=qt(qn().index,i);return function Ig(i){return i[11]}(Gr(a)?a:i)}(),i})(),Cg=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class Cv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Dv=new Cv("13.2.7"),Dg={};function fu(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(S(f)),ar(f))for(let _=10;_<f.length;_++){const T=f[_],R=T[1].firstChild;null!==R&&fu(T[1],T,R,l)}const y=a.type;if(8&y)fu(i,s,a.child,l);else if(32&y){const _=mh(a,s);let T;for(;T=_();)l.push(T)}else if(16&y){const _=Ou(s,a);if(Array.isArray(_))l.push(..._);else{const T=yh(s[16]);fu(T[1],T,_,l,!0)}}a=c?a.projectionNext:a.next}return l}class Bl{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return fu(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ar(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(pr(s,l),Tu(a,l))}this._attachedToViewContainer=!1}_h(this._lView[1],this._lView)}onDestroy(s){Fm(this._lView[1],this._lView,null,s)}markForCheck(){Hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){md(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qb(i,s,a){as(!0);try{md(i,s,a)}finally{as(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ew(i,s){ku(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=s}}class K0 extends Bl{constructor(s){super(s),this._view=s}detectChanges(){Gm(this._view)}checkNoChanges(){!function Pw(i){as(!0);try{Gm(i)}finally{as(!1)}}(this._view)}get context(){return null}}class Tg extends kc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Xe(s);return new Av(a,this.ngModule)}}function Tv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Av extends Eg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function yw(i){return i.map(Th).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Tv(this.componentDef.inputs)}get outputs(){return Tv(this.componentDef.outputs)}create(s,a,l,c){const f=(c=c||this.ngModule)?function YI(i,s){return{get:(a,l,c)=>{const f=i.get(a,Dg,c);return f!==Dg||l===Dg?f:s.get(a,l,c)}}}(s,c.injector):s,y=f.get(Iv,M),_=f.get(Cg,null),T=y.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=l?km(T,l,this.componentDef.encapsulation):Pu(y.createRenderer(null,this.componentDef),R,function Ag(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?As:null}(R)),G=this.componentDef.onPush?576:528,X=oy(),de=dd(0,null,null,1,0,null,null,null,null,null),He=fc(null,de,X,G,null,null,y,T,_,f);let nt,ft;Ns(He);try{const Dt=Ww(k,this.componentDef,He,y,T);if(k)if(l)Yn(T,k,["ng-version",Dv.full]);else{const{attrs:Ze,classes:Nt}=function Fb(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!qo(c))break;c=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ze&&Yn(T,k,Ze),Nt&&Nt.length>0&&_m(T,k,Nt.join(" "))}if(ft=Bt(de,20),void 0!==a){const Ze=ft.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const In=a[Nt];Ze.push(null!=In?Array.from(In):null)}}nt=qw(Dt,this.componentDef,He,X,[Oh]),cd(de,He,null)}finally{to()}return new XI(this.componentType,nt,oi(ft,He),He,ft)}}class XI extends Ul{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new K0(c),this.componentType=s}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function eC(i,s,a,l){return _r(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==l&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?Object.assign(Object.assign({},c.propDecorators),l):l)})}class Bd{}class Q0{}const hf=new Map;function nC(i){const s=new Set;!function a(l){const c=rt(l,!0),f=c.id;if(null!==f){(function tC(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${pe(s)} vs ${pe(s.name)}`)})(f,hf.get(f),l),hf.set(f,l)}const y=Wo(c.imports);for(const _ of y)s.has(_)||(s.add(_),a(_))}(i)}function rC(i){return hf.get(i)||ne[i]}function UD(i,s){return new Y0(i,null!=s?s:null)}class Y0 extends Bd{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tg(this);const l=rt(s);this._bootstrapComponents=Wo(l.bootstrap),this._r3Injector=Tp(s,a,[{provide:Bd,useValue:this},{provide:kc,useValue:this.componentFactoryResolver}],pe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ko.THROW_IF_NOT_FOUND,l=mt.Default){return s===Ko||s===Bd||s===Cp?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ff extends Q0{constructor(s){super(),this.moduleType=s,null!==rt(s)&&nC(s)}create(s){return new Y0(this.moduleType,s)}}function J0(i,s,a){const l=Br()+i,c=Ke();return c[l]===Rt?Qo(c,l,a?s.call(a):s()):bc(c,l)}function X0(i,s,a,l){return rE(Ke(),Br(),i,s,a,l)}function gi(i,s,a,l,c){return iE(Ke(),Br(),i,s,a,l,c)}function Io(i,s,a,l,c,f){return sE(Ke(),Br(),i,s,a,l,c,f)}function pf(i,s,a,l,c,f,y){return Yi(Ke(),Br(),i,s,a,l,c,f,y)}function Sg(i,s,a,l,c,f,y,_){const T=Br()+i,R=Ke(),k=qs(R,T,a,l,c,f);return Pr(R,T+4,y)||k?Qo(R,T+5,_?s.call(_,a,l,c,f,y):s(a,l,c,f,y)):bc(R,T+5)}function eE(i,s,a,l,c,f,y,_,T){const R=Br()+i,k=Ke(),G=qs(k,R,a,l,c,f);return Sl(k,R+4,y,_)||G?Qo(k,R+6,T?s.call(T,a,l,c,f,y,_):s(a,l,c,f,y,_)):bc(k,R+6)}function tE(i,s,a,l,c,f,y,_,T,R){const k=Br()+i,G=Ke();let X=qs(G,k,a,l,c,f);return Lp(G,k+4,y,_,T)||X?Qo(G,k+7,R?s.call(R,a,l,c,f,y,_,T):s(a,l,c,f,y,_,T)):bc(G,k+7)}function nE(i,s,a,l,c,f,y,_,T,R,k){const G=Br()+i,X=Ke(),de=qs(X,G,a,l,c,f);return qs(X,G+4,y,_,T,R)||de?Qo(X,G+8,k?s.call(k,a,l,c,f,y,_,T,R):s(a,l,c,f,y,_,T,R)):bc(X,G+8)}function Sv(i,s,a,l){return mf(Ke(),Br(),i,s,a,l)}function gf(i,s){const a=i[s];return a===Rt?void 0:a}function rE(i,s,a,l,c,f){const y=s+a;return Pr(i,y,c)?Qo(i,y+1,f?l.call(f,c):l(c)):gf(i,y+1)}function iE(i,s,a,l,c,f,y){const _=s+a;return Sl(i,_,c,f)?Qo(i,_+2,y?l.call(y,c,f):l(c,f)):gf(i,_+2)}function sE(i,s,a,l,c,f,y,_){const T=s+a;return Lp(i,T,c,f,y)?Qo(i,T+3,_?l.call(_,c,f,y):l(c,f,y)):gf(i,T+3)}function Yi(i,s,a,l,c,f,y,_,T){const R=s+a;return qs(i,R,c,f,y,_)?Qo(i,R+4,T?l.call(T,c,f,y,_):l(c,f,y,_)):gf(i,R+4)}function mf(i,s,a,l,c,f){let y=s+a,_=!1;for(let T=0;T<c.length;T++)Pr(i,y++,c[T])&&(_=!0);return _?Qo(i,y,l.apply(f,c)):gf(i,y)}function xv(i,s){const a=rn();let l;const c=i+20;a.firstCreatePass?(l=function Mv(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const f=l.factory||(l.factory=xr(l.type)),y=Zt(Hh);try{const _=zi(!1),T=f();return zi(_),gy(a,Ke(),c,T),T}finally{Zt(y)}}function yf(i,s,a){const l=i+20,c=Ke(),f=yn(c,l);return vf(c,l)?rE(c,Br(),s,f.transform,a,f):f.transform(a)}function xg(i,s,a,l){const c=i+20,f=Ke(),y=yn(f,c);return vf(f,c)?iE(f,Br(),s,y.transform,a,l,y):y.transform(a,l)}function Mg(i,s,a,l,c){const f=i+20,y=Ke(),_=yn(y,f);return vf(y,f)?sE(y,Br(),s,_.transform,a,l,c,_):_.transform(a,l,c)}function oE(i,s,a,l,c,f){const y=i+20,_=Ke(),T=yn(_,y);return vf(_,y)?Yi(_,Br(),s,T.transform,a,l,c,f,T):T.transform(a,l,c,f)}function aE(i,s,a){const l=i+20,c=Ke(),f=yn(c,l);return vf(c,l)?mf(c,Br(),s,f.transform,a,f):f.transform.apply(f,a)}function vf(i,s){return i[1].data[s].pure}function Rv(i){return s=>{setTimeout(i,void 0,s)}}const Ks=class iC extends C.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,f,y;let _=s,T=a||(()=>null),R=l;if(s&&"object"==typeof s){const G=s;_=null===(c=G.next)||void 0===c?void 0:c.bind(G),T=null===(f=G.error)||void 0===f?void 0:f.bind(G),R=null===(y=G.complete)||void 0===y?void 0:y.bind(G)}this.__isAsync&&(T=Rv(T),_&&(_=Rv(_)),R&&(R=Rv(R)));const k=super.subscribe({next:_,error:T,complete:R});return s instanceof h.w0&&s.add(k),k}};function uE(){return this._results[Aa()]()}class Lc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Aa(),l=Lc.prototype;l[a]||(l[a]=uE)}get changes(){return this._changes||(this._changes=new Ks)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Ii(s);(this._changesDetected=!function nl(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let jd=(()=>{class i{}return i.__NG_ELEMENT_ID__=aC,i})();const sC=jd,oC=class extends sC{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=fc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),cd(a,l,s),new Bl(l)}};function aC(){return Rg(qn(),Ke())}function Rg(i,s){return 4&i.type?new oC(s,i,oi(i,s)):null}let _f=(()=>{class i{}return i.__NG_ELEMENT_ID__=Nv,i})();function Nv(){return cE(qn(),Ke())}const lE=_f,Ng=class extends lE{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return oi(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const s=ao(this._hostTNode,this._hostLView);if(Pe(s)){const a=ti(s,this._hostLView),l=vt(s);return new Fs(a[1].data[l+8],a)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Pv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,f){const y=s&&!co(s);let _;if(y)_=a;else{const G=a||{};_=G.index,l=G.injector,c=G.projectableNodes,f=G.ngModuleRef}const T=y?s:new Av(Xe(s)),R=l||this.parentInjector;if(!f&&null==T.ngModule){const X=(y?R:this.parentInjector).get(Bd,null);X&&(f=X)}const k=T.create(R,c,void 0,f);return this.insert(k.hostView,_),k}insert(s,a){const l=s._lView,c=l[1];if(function Yt(i){return ar(i[3])}(l)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const G=l[3],X=new Ng(G,G[6],G[3]);X.detach(X.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function vh(i,s,a,l){const c=10+l,f=a.length;l>0&&(a[c-1][4]=s),l<f-10?(s[4]=a[c],jo(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Nb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(c,l,y,f);const _=vm(f,y),T=l[11],R=wh(T,y[7]);return null!==R&&function td(i,s,a,l,c,f){l[0]=c,l[6]=s,ku(i,l,a,1,c,f)}(c,y[6],T,l,R,_),s.attachToViewContainerRef(),jo(Vc(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Pv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=pr(this._lContainer,a);l&&(Tu(Vc(this._lContainer),a),_h(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=pr(this._lContainer,a);return l&&null!=Tu(Vc(this._lContainer),a)?new Bl(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Pv(i){return i[8]}function Vc(i){return i[8]||(i[8]=[])}function cE(i,s){let a;const l=s[i.index];if(ar(l))a=l;else{let c;if(8&i.type)c=S(l);else{const f=s[11];c=f.createComment("");const y=qe(i,s);yl(f,wh(f,y),c,function ow(i,s){return bn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=jm(l,s,c,i),Ep(s,a)}return new Ng(a,i,s)}class wf{constructor(s){this.queryList=s,this.matches=null}clone(){return new wf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new Pg(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==gE(s,a).matches&&this.queries[a].setDirty()}}class Fv{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ef{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Ef(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Lv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,uC(a,f)),this.matchTNodeWithReadOption(s,a,ga(a,s,f,!1,!1))}else l===jd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ga(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===df||c===_f||c===jd&&4&a.type)this.addMatch(a.index,-2);else{const f=ga(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function uC(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Og(i,s,a,l){return-1===a?function lC(i,s){return 11&i.type?oi(i,s):4&i.type?Rg(i,s):null}(s,i):-2===a?function Vv(i,s,a){return a===df?oi(s,i):a===jd?Rg(s,i):a===_f?cE(s,i):void 0}(i,s,l):Xu(i,i[1],a,s)}function kg(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const f=i.data,y=a.matches,_=[];for(let T=0;T<y.length;T+=2){const R=y[T];_.push(R<0?null:Og(s,f[R],y[T+1],a.metadata.read))}c.matches=_}return c.matches}function bf(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const y=kg(i,s,c,a);for(let _=0;_<f.length;_+=2){const T=f[_];if(T>0)l.push(y[_/2]);else{const R=f[_+1],k=s[-T];for(let G=10;G<k.length;G++){const X=k[G];X[17]===X[3]&&bf(X[1],X,R,l)}if(null!==k[9]){const G=k[9];for(let X=0;X<G.length;X++){const de=G[X];bf(de[1],de,R,l)}}}}}return l}function Uv(i){const s=Ke(),a=rn(),l=lr();ua(l+1);const c=gE(a,l);if(i.dirty&&Qt(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?bf(a,s,l,[]):kg(a,s,c,l);i.reset(f,ZI),i.notifyOnChanges()}return!0}return!1}function dE(i,s,a){const l=rn();l.firstCreatePass&&(pE(l,new Fv(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),fE(l,Ke(),s)}function Bv(i,s,a,l){const c=rn();if(c.firstCreatePass){const f=qn();pE(c,new Fv(s,a,l),f.index),function cC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}fE(c,Ke(),a)}function Uc(){return function hE(i,s){return i[19].queries[s].queryList}(Ke(),lr())}function fE(i,s,a){const l=new Lc(4==(4&a));Fm(i,s,l,l.destroy),null===s[19]&&(s[19]=new Pg),s[19].queries.push(new wf(l))}function pE(i,s,a){null===i.queries&&(i.queries=new Ef),i.queries.track(new Lv(s,a))}function gE(i,s){return i.queries.getByIndex(s)}function mE(i,s){return Rg(i,s)}const Es=(()=>({\u0275\u0275attribute:cy,\u0275\u0275attributeInterpolate1:dy,\u0275\u0275attributeInterpolate2:Vp,\u0275\u0275attributeInterpolate3:Up,\u0275\u0275attributeInterpolate4:hy,\u0275\u0275attributeInterpolate5:Lh,\u0275\u0275attributeInterpolate6:fy,\u0275\u0275attributeInterpolate7:Vh,\u0275\u0275attributeInterpolate8:py,\u0275\u0275attributeInterpolateV:Uh,\u0275\u0275defineComponent:Pt,\u0275\u0275defineDirective:we,\u0275\u0275defineInjectable:Lt,\u0275\u0275defineInjector:on,\u0275\u0275defineNgModule:q,\u0275\u0275definePipe:Qe,\u0275\u0275directiveInject:Hh,\u0275\u0275getInheritedFactory:ci,\u0275\u0275inject:D,\u0275\u0275injectAttribute:za,\u0275\u0275invalidFactory:Wp,\u0275\u0275invalidFactoryDep:P,\u0275\u0275templateRefExtractor:mE,\u0275\u0275NgOnChangesFeature:rs,\u0275\u0275ProvidersFeature:wg,\u0275\u0275CopyDefinitionFeature:Ed,\u0275\u0275InheritDefinitionFeature:Op,\u0275\u0275nextContext:Qp,\u0275\u0275namespaceHTML:ds,\u0275\u0275namespaceMathML:ha,\u0275\u0275namespaceSVG:Wl,\u0275\u0275enableBindings:xs,\u0275\u0275disableBindings:Wu,\u0275\u0275elementStart:Sd,\u0275\u0275elementEnd:xd,\u0275\u0275element:Gh,\u0275\u0275elementContainerStart:Md,\u0275\u0275elementContainerEnd:qp,\u0275\u0275elementContainer:Wh,\u0275\u0275pureFunction0:J0,\u0275\u0275pureFunction1:X0,\u0275\u0275pureFunction2:gi,\u0275\u0275pureFunction3:Io,\u0275\u0275pureFunction4:pf,\u0275\u0275pureFunction5:Sg,\u0275\u0275pureFunction6:eE,\u0275\u0275pureFunction7:tE,\u0275\u0275pureFunction8:nE,\u0275\u0275pureFunctionV:Sv,\u0275\u0275getCurrentView:uu,\u0275\u0275restoreView:Po,\u0275\u0275listener:Ry,\u0275\u0275projection:ky,\u0275\u0275syntheticHostProperty:cg,\u0275\u0275syntheticHostListener:Ny,\u0275\u0275pipeBind1:yf,\u0275\u0275pipeBind2:xg,\u0275\u0275pipeBind3:Mg,\u0275\u0275pipeBind4:oE,\u0275\u0275pipeBindV:aE,\u0275\u0275projectionDef:Yp,\u0275\u0275hostProperty:av,\u0275\u0275property:My,\u0275\u0275propertyInterpolate:Kh,\u0275\u0275propertyInterpolate1:Zh,\u0275\u0275propertyInterpolate2:Fy,\u0275\u0275propertyInterpolate3:Ly,\u0275\u0275propertyInterpolate4:Qh,\u0275\u0275propertyInterpolate5:Vy,\u0275\u0275propertyInterpolate6:Yh,\u0275\u0275propertyInterpolate7:Jh,\u0275\u0275propertyInterpolate8:Xh,\u0275\u0275propertyInterpolateV:Uy,\u0275\u0275pipe:xv,\u0275\u0275queryRefresh:Uv,\u0275\u0275viewQuery:dE,\u0275\u0275loadQuery:Uc,\u0275\u0275contentQuery:Bv,\u0275\u0275reference:jp,\u0275\u0275classMap:ef,\u0275\u0275classMapInterpolate1:h0,\u0275\u0275classMapInterpolate2:f0,\u0275\u0275classMapInterpolate3:ug,\u0275\u0275classMapInterpolate4:p0,\u0275\u0275classMapInterpolate5:g0,\u0275\u0275classMapInterpolate6:gr,\u0275\u0275classMapInterpolate7:EI,\u0275\u0275classMapInterpolate8:bI,\u0275\u0275classMapInterpolateV:Qr,\u0275\u0275styleMap:Eo,\u0275\u0275styleMapInterpolate1:nv,\u0275\u0275styleMapInterpolate2:m0,\u0275\u0275styleMapInterpolate3:y0,\u0275\u0275styleMapInterpolate4:rv,\u0275\u0275styleMapInterpolate5:v0,\u0275\u0275styleMapInterpolate6:_0,\u0275\u0275styleMapInterpolate7:w0,\u0275\u0275styleMapInterpolate8:E0,\u0275\u0275styleMapInterpolateV:II,\u0275\u0275styleProp:Rd,\u0275\u0275stylePropInterpolate1:iv,\u0275\u0275stylePropInterpolate2:sv,\u0275\u0275stylePropInterpolate3:lg,\u0275\u0275stylePropInterpolate4:Yo,\u0275\u0275stylePropInterpolate5:Ma,\u0275\u0275stylePropInterpolate6:b0,\u0275\u0275stylePropInterpolate7:Bu,\u0275\u0275stylePropInterpolate8:Pd,\u0275\u0275stylePropInterpolateV:ov,\u0275\u0275classProp:eg,\u0275\u0275advance:op,\u0275\u0275template:Bp,\u0275\u0275text:Zy,\u0275\u0275textInterpolate:Pl,\u0275\u0275textInterpolate1:Nd,\u0275\u0275textInterpolate2:Qy,\u0275\u0275textInterpolate3:Yy,\u0275\u0275textInterpolate4:Jy,\u0275\u0275textInterpolate5:og,\u0275\u0275textInterpolate6:Xy,\u0275\u0275textInterpolate7:ag,\u0275\u0275textInterpolate8:ev,\u0275\u0275textInterpolateV:tv,\u0275\u0275i18n:wv,\u0275\u0275i18nAttributes:Ev,\u0275\u0275i18nExp:Hu,\u0275\u0275i18nStart:Vd,\u0275\u0275i18nEnd:_v,\u0275\u0275i18nApply:bo,\u0275\u0275i18nPostprocess:Qi,\u0275\u0275resolveWindow:lc,\u0275\u0275resolveDocument:pm,\u0275\u0275resolveBody:ep,\u0275\u0275setComponentScope:gn,\u0275\u0275setNgModuleScope:U,\u0275\u0275sanitizeHtml:Hs,\u0275\u0275sanitizeStyle:ll,\u0275\u0275sanitizeResourceUrl:Qc,\u0275\u0275sanitizeScript:ac,\u0275\u0275sanitizeUrl:$s,\u0275\u0275sanitizeUrlOrResourceUrl:Yc,\u0275\u0275trustConstantHtml:Zf,\u0275\u0275trustConstantResourceUrl:cl,forwardRef:Y,resolveForwardRef:ue}))();let Hd=null;function Fg(){Hd=null}const $d=[];let If=!1;function vE(){if(!If){If=!0;try{for(let i=$d.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=$d[i];a.declarations&&a.declarations.every(_E)&&($d.splice(i,1),jD(s,a))}}finally{If=!1}}}function _E(i){return Array.isArray(i)?i.every(_E):!!ue(i)}function wE(i,s={}){jv(i,s),function yE(i,s){$d.push({moduleType:i,ngModule:s})}(i,s)}function jv(i,s,a=!1){const l=Ii(s.declarations||At);let c=null;Object.defineProperty(i,ct,{configurable:!0,get:()=>(null===c&&(c=jr().compileNgModule(Es,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:Ii(s.bootstrap||At).map(ue),declarations:l.map(ue),imports:Ii(s.imports||At).map(ue).map(bE),exports:Ii(s.exports||At).map(ue).map(bE),schemas:s.schemas?Ii(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let f=null;Object.defineProperty(i,$e,{get:()=>{if(null===f){const _=jr();f=_.compileFactory(Es,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:po(i),target:_.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let y=null;Object.defineProperty(i,Zn,{get:()=>{if(null===y){const _={name:i.name,type:i,providers:s.providers||At,imports:[(s.imports||At).map(ue),(s.exports||At).map(ue)]};y=jr().compileInjector(Es,`ng:///${i.name}/\u0275inj.js`,_)}return y},configurable:!1})}let Cf=new WeakMap,EE=new WeakMap;function fC(){Cf=new WeakMap,EE=new WeakMap,$d.length=0}function jD(i,s){const a=Ii(s.declarations||At),l=Vg(i);a.forEach(c=>{c.hasOwnProperty(Jr)?Df(Xe(c),l):!c.hasOwnProperty(tn)&&!c.hasOwnProperty(Qn)&&(c.ngSelectorScope=i)})}function Df(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Jr)?Xe(a):Et(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>et(a)),i.schemas=s.schemas,i.tView=null}function Vg(i){if(!Gv(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=rt(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Wo(s.imports).forEach(l=>{const c=l;if(!Gv(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const f=Vg(c);f.exported.directives.forEach(y=>a.compilation.directives.add(y)),f.exported.pipes.forEach(y=>a.compilation.pipes.add(y))}),Wo(s.declarations).forEach(l=>{et(l)?a.compilation.pipes.add(l):a.compilation.directives.add(l)}),Wo(s.exports).forEach(l=>{const c=l;if(Gv(c)){const f=Vg(c);f.exported.directives.forEach(y=>{a.compilation.directives.add(y),a.exported.directives.add(y)}),f.exported.pipes.forEach(y=>{a.compilation.pipes.add(y),a.exported.pipes.add(y)})}else et(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}function bE(i){return function IE(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function Gv(i){return!!rt(i)}let Ug=0;function Bg(i,s){let a=null;(function Su(i,s){xu(s)&&(gs.set(i,s),Bs.add(i))})(i,s),gC(i,s),Object.defineProperty(i,Jr,{get:()=>{if(null===a){const l=jr();if(xu(s)){const R=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&R.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&R.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),R.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(R.join("\n"))}const c=function hC(){return Hd}();let f=s.preserveWhitespaces;void 0===f&&(f=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let y=s.encapsulation;void 0===y&&(y=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:ht.Emulated);const _=s.templateUrl||`ng:///${i.name}/template.html`,T=Object.assign(Object.assign({},yC(i,s)),{typeSourceSpan:l.createParseSourceSpan("Component",i.name,_),template:s.template||"",preserveWhitespaces:f,styles:s.styles||At,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:y,interpolation:s.interpolation,viewProviders:s.viewProviders||null});Ug++;try{T.usesInheritance&&DE(i),a=l.compileComponent(Es,_,T)}finally{Ug--}if(0===Ug&&vE(),function zv(i){return void 0!==i.ngSelectorScope}(i)){const R=Vg(i.ngSelectorScope);Df(a,R)}}return a},configurable:!1})}function CE(i,s){let a=null;gC(i,s||{}),Object.defineProperty(i,tn,{get:()=>{if(null===a){const l=jg(i,s||{});a=jr().compileDirective(Es,l.sourceMapUrl,l.metadata)}return a},configurable:!1})}function jg(i,s){const a=i&&i.name,l=`ng:///${a}/\u0275dir.js`,c=jr(),f=yC(i,s);return f.typeSourceSpan=c.createParseSourceSpan("Directive",a,l),f.usesInheritance&&DE(i),{metadata:f,sourceMapUrl:l}}function gC(i,s){let a=null;Object.defineProperty(i,$e,{get:()=>{if(null===a){const l=jg(i,s),c=jr();a=c.compileFactory(Es,`ng:///${i.name}/\u0275fac.js`,{name:l.metadata.name,type:l.metadata.type,typeArgumentCount:0,deps:po(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function mC(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function yC(i,s){const a=$o(),l=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||Vn,propMetadata:l,inputs:s.inputs||At,outputs:s.outputs||At,queries:_C(i,l,EC),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!mC(i),exportAs:wC(s.exportAs),providers:s.providers||null,viewQueries:_C(i,l,bC)}}function DE(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!Et(a)&&!Xe(a)&&TE(a)&&CE(a,null),a=Object.getPrototypeOf(a)}function vC(i){return"string"==typeof i?CC(i):ue(i)}function HD(i,s){return{propertyName:i,predicate:vC(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function _C(i,s,a){const l=[];for(const c in s)if(s.hasOwnProperty(c)){const f=s[c];f.forEach(y=>{if(a(y)){if(!y.selector)throw new Error(`Can't construct a query for the property "${c}" of "${Te(i)}" since the query selector wasn't defined.`);if(f.some(IC))throw new Error("Cannot combine @Input decorators with query decorators");l.push(HD(c,y))}})}return l}function wC(i){return void 0===i?null:CC(i)}function EC(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function bC(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function IC(i){return"Input"===i.ngMetadataName}function CC(i){return i.split(",").map(s=>s.trim())}const $D=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function TE(i){const s=$o();if($D.some(l=>s.hasLifecycleHook(i,l)))return!0;const a=s.propMetadata(i);for(const l in a){const c=a[l];for(let f=0;f<c.length;f++){const y=c[f],_=y.ngMetadataName;if(IC(y)||EC(y)||bC(y)||"Output"===_||"HostBinding"===_||"HostListener"===_)return!0}}return!1}function AE(i,s){let a=null,l=null;Object.defineProperty(i,$e,{get:()=>{if(null===l){const c=Wv(i,s),f=jr();l=f.compileFactory(Es,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:po(i),target:f.FactoryTarget.Pipe})}return l},configurable:!1}),Object.defineProperty(i,Qn,{get:()=>{if(null===a){const c=Wv(i,s);a=jr().compilePipe(Es,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function Wv(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure}}const qv=dn("Directive",(i={})=>i,void 0,void 0,(i,s)=>CE(i,s)),SE=dn("Component",(i={})=>Object.assign({changeDetection:Pn.Default},i),qv,void 0,(i,s)=>Bg(i,s)),xE=dn("Pipe",i=>Object.assign({pure:!0},i),void 0,void 0,(i,s)=>AE(i,s)),ME=Bo("Input",i=>({bindingPropertyName:i})),RE=Bo("Output",i=>({bindingPropertyName:i})),NE=Bo("HostBinding",i=>({hostPropertyName:i})),Tf=Bo("HostListener",(i,s)=>({eventName:i,args:s})),DC=dn("NgModule",i=>i,void 0,void 0,(i,s)=>wE(i,s));function Hg(...i){}const PE=new Ir("Application Initializer");let Af=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Hg,this.reject=Hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(qh(f))a.push(f);else if(Kp(f)){const y=new Promise((_,T)=>{f.subscribe({complete:_,error:T})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(D(PE,8))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Sf=new Ir("AppId",{providedIn:"root",factory:Kv});function Kv(){return`${xf()}${xf()}${xf()}`}const AC={provide:Sf,useFactory:Kv,deps:[]};function xf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OE=new Ir("Platform Initializer"),Zv=new Ir("Platform ID"),Qv=new Ir("appBootstrapListener"),kE=new Ir("Application Packages Root URL");let FE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();const $g=new Ir("LocaleId",{providedIn:"root",factory:()=>W($g,mt.Optional|mt.SkipSelf)||function LE(){return"undefined"!=typeof $localize&&$localize.locale||Ra}()}),SC=new Ir("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),xC=new Ir("Translations"),VE=new Ir("TranslationsFormat");var Pa=(()=>((Pa=Pa||{})[Pa.Error=0]="Error",Pa[Pa.Warning=1]="Warning",Pa[Pa.Ignore=2]="Ignore",Pa))();class UE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let MC=(()=>{class i{compileModuleSync(a){return new ff(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Wo(rt(a).declarations).reduce((y,_)=>{const T=Xe(_);return T&&y.push(new Av(T)),y},[]);return new UE(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const BE=new Ir("compilerOptions");class RC{}const NC=(()=>Promise.resolve(0))();function Gg(i){"undefined"==typeof Zone?NC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Oa{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ks(!1),this.onMicrotaskEmpty=new Ks(!1),this.onStable=new Ks(!1),this.onError=new Ks(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function PC(){let i=un.requestAnimationFrame,s=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function kC(i){const s=()=>{!function jE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(un,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wg(i),i.isCheckStableRunning=!0,zg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,y,_)=>{try{return jl(i),a.invokeTask(c,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),ka(i)}},onInvoke:(a,l,c,f,y,_,T)=>{try{return jl(i),a.invoke(c,f,y,_,T)}finally{i.shouldCoalesceRunChangeDetection&&s(),ka(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Wg(i),zg(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,s,OC,Hg,Hg);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const OC={};function zg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function jl(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ka(i){i._nesting--,zg(i)}class HE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ks,this.onMicrotaskEmpty=new Ks,this.onStable=new Ks,this.onError=new Ks}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Yv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oa.assertNotInAngularZone(),Gg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(D(Oa))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),Jv=(()=>{class i{constructor(){this._applications=new Map,pu.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return pu.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();class FC{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function LC(i){pu=i}let Ti,pu=new FC;function Xv(i,s,a){const l=new ff(a);return Promise.resolve(l)}function $u(i){return i.isBoundToModule}const e_=new Ir("AllowMultipleToken");class GD{constructor(s,a){this.name=s,this.token=a}}function t_(i){if(Ti&&!Ti.destroyed&&!Ti.injector.get(e_,!1))throw new Me(400,"");Ti=i.get(Kg);const s=i.get(OE,null);return s&&s.forEach(a=>a()),Ti}function n_(i,s,a=[]){const l=`Platform: ${s}`,c=new Ir(l);return(f=[])=>{let y=qg();if(!y||y.injector.get(e_,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const _=a.concat(f).concat({provide:c,useValue:!0},{provide:Zm,useValue:"platform"});t_(Ko.create({providers:_,name:l}))}return r_()}}function r_(i){const s=qg();if(!s)throw new Me(401,"");return s}function $E(){Ti&&!Ti.destroyed&&Ti.destroy()}function qg(){return Ti&&!Ti.destroyed?Ti:null}let Kg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const _=function GE(i,s){let a;return a="noop"===i?new HE:("zone.js"===i?void 0:i)||new Oa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),T=[{provide:Oa,useValue:_}];return _.run(()=>{const R=Ko.create({providers:T,parent:this.injector,name:a.moduleType.name}),k=a.create(R),G=k.injector.get(hh,null);if(!G)throw new Me(402,"");return _.runOutsideAngular(()=>{const X=_.onError.subscribe({next:de=>{G.handleError(de)}});k.onDestroy(()=>{Qg(this._modules,k),X.unsubscribe()})}),function zE(i,s,a){try{const l=a();return qh(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(G,_,()=>{const X=k.injector.get(Af);return X.runInitializers(),X.donePromise.then(()=>(rf(k.injector.get($g,Ra)||Ra),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,l=[]){const c=Mf({},l);return Xv(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Zg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(D(Ko))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})();function Mf(i,s){return Array.isArray(s)?s.reduce(Mf,i):Object.assign(Object.assign({},i),s)}let Zg=(()=>{class i{constructor(a,l,c,f,y){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new V.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new V.y(R=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Oa.assertNotInAngularZone(),Gg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{k.unsubscribe(),G.unsubscribe()}});this.isStable=(0,he.T)(_,T.pipe((0,ce.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Me(405,"");let c;c=a instanceof Eg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=$u(c)?void 0:this._injector.get(Bd),_=c.create(Ko.NULL,[],l||c.selector,f),T=_.location.nativeElement,R=_.injector.get(Yv,null),k=R&&_.injector.get(Jv);return R&&k&&k.registerApplication(T,R),_.onDestroy(()=>{this.detachView(_.hostView),Qg(this.components,_),k&&k.unregisterApplication(T)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Qg(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Qv,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(D(Oa),D(Ko),D(hh),D(kc),D(Af))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Qg(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let qE=!0,s_=!1;function KE(){return s_=!0,qE}function o_(){if(s_)throw new Error("Cannot enable prod mode after platform setup.");qE=!1}function ZE(i){const s=rC(i);if(!s)throw u_(i);return new ff(s)}function a_(i){const s=rC(i);if(!s)throw u_(i);return s}function u_(i){return new Error(`No module with ID ${i} loaded`)}let l_=(()=>{class i{}return i.__NG_ELEMENT_ID__=c_,i})();function c_(i){return function d_(i,s,a){if(Do(i)&&!a){const l=qt(i.index,s);return new Bl(l,l)}return 47&i.type?new Bl(s[16],s):null}(qn(),Ke(),16==(16&i))}class Rf extends l_{}class QE extends Rf{}class YE{constructor(s,a){this.name=s,this.callback=a}}function Hl(i){return i.map(s=>s.nativeElement)}class Li{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new Gd(s):null}get injector(){return Jm(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(Tl(s)||xp(s))}get context(){return Tl(this.nativeNode)||Ec(this.nativeNode)}get listeners(){return ny(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function ey(i){const s=ii(i);return null===s?{}:(void 0===s.localRefs&&(s.localRefs=function Jf(i,s){const a=i[1].data[s];if(a&&a.localNames){const l={};let c=a.index+1;for(let f=0;f<a.localNames.length;f+=2)l[a.localNames[f]]=i[c],c++;return l}return null}(s.lView,s.nodeIndex)),s.localRefs||{})}(this.nativeNode)}get providerTokens(){return function Hw(i){const s=ii(i);if(null===s)return[];const l=s.lView[1],c=l.data[s.nodeIndex],f=[],_=c.directiveEnd;for(let T=1048575&c.providerIndexes;T<_;T++){let R=l.data[T];ry(R)&&(R=R.type),f.push(R)}return f}(this.nativeNode)}}class Gd extends Li{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=ii(this.nativeNode);return null!==s?s.lView[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=ii(this.nativeNode);if(null===s)return{};const a=s.lView,l=a[1].data,c=l[s.nodeIndex],f={};return function zD(i,s){if(i){let a=Object.getPrototypeOf(i);const l=Node.prototype;for(;null!==a&&a!==l;){const c=Object.getOwnPropertyDescriptors(a);for(let f in c)if(!f.startsWith("__")&&!f.startsWith("on")){const y=i[f];WD(y)&&(s[f]=y)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,f),function f_(i,s,a,l){let c=s.propertyBindings;if(null!==c)for(let f=0;f<c.length;f++){const y=c[f],T=l[y].split("\ufffd"),R=T[0];if(T.length>1){let k=T[1];for(let G=1;G<T.length-1;G++)k+=ye(a[y+G-1])+T[G+1];i[R]=k}else i[R]=a[y]}}(f,c,a,l),f}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const l=ii(a);if(null===l)return{};const f=l.lView[1].data[l.nodeIndex].attrs,y=[];if(f){let T=0;for(;T<f.length;){const R=f[T];if("string"!=typeof R)break;s[R]=f[T+1],y.push(R.toLowerCase()),T+=2}}const _=a.attributes;for(let T=0;T<_.length;T++){const R=_[T],k=R.name.toLowerCase();-1===y.indexOf(k)&&(s[k]=R.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},l=this.nativeElement.className;return("string"!=typeof l?l.baseVal.split(" "):l.split(" ")).forEach(f=>s[f]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let l=0;l<s.length;l++)a.push(Nf(s[l]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,l=[];for(let c=0;c<a.length;c++)l.push(Nf(a[c]));return l}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return Bc(this,s,a,!0),a}queryAllNodes(s){const a=[];return Bc(this,s,a,!1),a}triggerEventHandler(s,a){const l=this.nativeNode,c=[];this.listeners.forEach(f=>{if(f.name===s){const y=f.callback;y.call(l,a),c.push(y)}}),"function"==typeof l.eventListeners&&l.eventListeners(s).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const y=f("__ngUnwrap__");return-1===c.indexOf(y)&&y.call(l,a)}})}}function WD(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function Bc(i,s,a,l){const c=ii(i.nativeNode);null!==c?Xo(c.lView[1].data[c.nodeIndex],c.lView,s,a,l,i.nativeNode):h_(i.nativeNode,s,a,l)}function Xo(i,s,a,l,c,f){const y=function bt(i,s){const a=null===i?-1:i.index;return-1!==a?S(s[a]):null}(i,s);if(11&i.type){if(zd(y,a,l,c,f),Do(i)){const T=qt(i.index,s);T&&T[1].firstChild&&Xo(T[1].firstChild,T,a,l,c,f)}else i.child&&Xo(i.child,s,a,l,c,f),y&&h_(y,a,l,c);const _=s[i.index];ar(_)&&Yg(_,a,l,c,f)}else if(4&i.type){const _=s[i.index];zd(_[7],a,l,c,f),Yg(_,a,l,c,f)}else if(16&i.type){const _=s[16],R=_[6].projection[i.projection];if(Array.isArray(R))for(let k of R)zd(k,a,l,c,f);else if(R){const k=_[3];Xo(k[1].data[R.index],k,a,l,c,f)}}else i.child&&Xo(i.child,s,a,l,c,f);if(f!==y){const _=4&i.flags?i.projectionNext:i.next;_&&Xo(_,s,a,l,c,f)}}function Yg(i,s,a,l,c){for(let f=10;f<i.length;f++){const y=i[f],_=y[1].firstChild;_&&Xo(_,y,s,a,l,c)}}function zd(i,s,a,l,c){if(c!==i){const f=Nf(i);if(!f)return;(l&&f instanceof Gd&&s(f)&&-1===a.indexOf(f)||!l&&s(f)&&-1===a.indexOf(f))&&a.push(f)}}function h_(i,s,a,l){const c=i.childNodes,f=c.length;for(let y=0;y<f;y++){const _=c[y],T=Nf(_);T&&((l&&T instanceof Gd&&s(T)&&-1===a.indexOf(T)||!l&&s(T)&&-1===a.indexOf(T))&&a.push(T),h_(_,s,a,l))}}const JE="__ng_debug__";function Nf(i){return i instanceof Node?(i.hasOwnProperty(JE)||(i[JE]=i.nodeType==Node.ELEMENT_NODE?new Gd(i):new Li(i)),i[JE]):null}function qD(i){return null}class XE{constructor(){}supports(s){return Al(s)}create(s){return new tb(s)}}const eb=(i,s)=>s;class tb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||eb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<Wd(l,c,f)?a:l,_=Wd(y,c,f),T=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{f||(f=[]);const R=_-c,k=T-c;if(R!=k){for(let X=0;X<R;X++){const de=X<f.length?f[X]:f[X]=0,He=de+X;k<=He&&He<R&&(f[X]=de+1)}f[y.previousIndex]=k-R}}_!==T&&s(y,_,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Al(s))throw new Me(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),l=!0),a=a._next}else c=0,function ly(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Aa()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,_=>{y=this._trackByFn(c,_),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,_,y,c)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new UC(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Pf),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pf),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class UC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Pf{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new BC,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wd(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Of{constructor(){}supports(s){return s instanceof Map||Fp(s)}create(){return new Jg}}class Jg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Fp(s)))throw new Me(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const l=new jC(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class jC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xg(){return new qd([new XE])}let qd=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Xg()),deps:[[i,new dr,new Se]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Me(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:Xg}),i})();function nb(){return new em([new Of])}let em=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||nb()),deps:[[i,new dr,new Se]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(l)return l;throw new Me(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:nb}),i})();const HC=[new Of],$C=new qd([new XE]),ZD=new em(HC),ib=n_(null,"core",[{provide:Zv,useValue:"unknown"},{provide:Kg,deps:[Ko]},{provide:Jv,deps:[]},{provide:FE,deps:[]}]);let YD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(D(Zg))},i.\u0275mod=q({type:i}),i.\u0275inj=on({}),i})();const g_=!0;function GC(i){return jr().compileDirectiveDeclaration(Es,`ng:///${i.type.name}/\u0275fac.js`,i)}function sb(i){var s,a;eC(i.type,i.decorators,null!==(s=i.ctorParameters)&&void 0!==s?s:null,null!==(a=i.propDecorators)&&void 0!==a?a:null)}function m_(i){return jr().compileComponentDeclaration(Es,`ng:///${i.type.name}/\u0275cmp.js`,i)}function y_(i){return jr(function JD(i){switch(i){case Nr.Directive:return"directive";case Nr.Component:return"component";case Nr.Injectable:return"injectable";case Nr.Pipe:return"pipe";case Nr.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(Es,`ng:///${i.type.name}/\u0275fac.js`,i)}function v_(i){return jr().compileInjectableDeclaration(Es,`ng:///${i.type.name}/\u0275prov.js`,i)}function kf(i){return jr().compileInjectorDeclaration(Es,`ng:///${i.type.name}/\u0275inj.js`,i)}function tm(i){return jr().compileNgModuleDeclaration(Es,`ng:///${i.type.name}/\u0275mod.js`,i)}function Kd(i){return jr().compilePipeDeclaration(Es,`ng:///${i.type.name}/\u0275pipe.js`,i)}},3942:(pt,ae,j)=>{"use strict";j.d(ae,{Z:()=>Me});var C=j(2090),h=j(4859),V=j(9681),he=j(1877);class ce{constructor(ye,Te){this._delegate=ye,this.firebase=Te,(0,V._addComponent)(ye,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ye,Te=V._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(ye);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ve=Je.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Te})}_removeServiceInstance(ye,Te=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Te)}_addComponent(ye){(0,V._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,V._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function xe(){const Fe=function pe(Fe){const ye={},Te={__esModule:!0,initializeApp:function ze(fe,Ae={}){const Oe=V.initializeApp(fe,Ae);if((0,C.r3)(ye,Oe.name))return ye[Oe.name];const re=new Fe(Oe,Te);return ye[Oe.name]=re,re},app:Je,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Be(fe){const Ae=fe.name,Oe=Ae.replace("-compat","");if(V._registerComponent(fe)&&"PUBLIC"===fe.type){const re=(le=Je())=>{if("function"!=typeof le[Oe])throw _e.create("invalid-app-argument",{appName:Ae});return le[Oe]()};void 0!==fe.serviceProps&&(0,C.ZB)(re,fe.serviceProps),Te[Oe]=re,Fe.prototype[Oe]=function(...le){return this._getService.bind(this,Ae).apply(this,fe.multipleInstances?le:[])}}return"PUBLIC"===fe.type?Te[Oe]:null},removeApp:function Ve(fe){delete ye[fe]},useAsService:function it(fe,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:V}};function Je(fe){if(!(0,C.r3)(ye,fe=fe||V._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:fe});return ye[fe]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function We(){return Object.keys(ye).map(fe=>ye[fe])}}),Je.App=Fe,Te}(ce);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function ye(Te){(0,C.ZB)(Fe,Te)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),Fe}(),Y=new he.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=Q;!function Ee(Fe){(0,V.registerVersion)("@firebase/app-compat","0.1.37",Fe)}()},9681:(pt,ae,j)=>{"use strict";j.r(ae),j.d(ae,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>Lt,_apps:()=>cn,_clearComponents:()=>mr,_components:()=>Fn,_getProvider:()=>on,_registerComponent:()=>Ft,_removeServiceInstance:()=>nn,deleteApp:()=>mt,getApp:()=>jn,getApps:()=>Ln,initializeApp:()=>Zn,onLog:()=>Zt,registerVersion:()=>xn,setLogLevel:()=>vr});var C=j(5861),h=j(4859),V=j(1877),he=j(2090),ce=j(8766);class De{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function _e(ct){const $e=ct.getComponent();return"VERSION"===(null==$e?void 0:$e.type)}(st)){const kt=st.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(st=>st).join(" ")}}const pe="@firebase/app",Q=new V.Yd("@firebase/app"),zt="[DEFAULT]",lt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Fn=new Map;function sn(ct,$e){try{ct.container.addComponent($e)}catch(st){Q.debug(`Component ${$e.name} failed to register with FirebaseApp ${ct.name}`,st)}}function Lt(ct,$e){ct.container.addOrOverwriteComponent($e)}function Ft(ct){const $e=ct.name;if(Fn.has($e))return Q.debug(`There were multiple attempts to register component ${$e}.`),!1;Fn.set($e,ct);for(const st of cn.values())sn(st,ct);return!0}function on(ct,$e){const st=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),ct.container.getProvider($e)}function nn(ct,$e,st=zt){on(ct,$e).clearInstance(st)}function mr(){Fn.clear()}const Hn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wt{constructor($e,st,kt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Kn="9.12.1";function Zn(ct,$e={}){let st=ct;"object"!=typeof $e&&($e={name:$e});const kt=Object.assign({name:zt,automaticDataCollectionEnabled:!1},$e),Pt=kt.name;if("string"!=typeof Pt||!Pt)throw Hn.create("bad-app-name",{appName:String(Pt)});if(st||(st=(0,he.aH)()),!st)throw Hn.create("no-options");const gn=cn.get(Pt);if(gn){if((0,he.vZ)(st,gn.options)&&(0,he.vZ)(kt,gn.config))return gn;throw Hn.create("duplicate-app",{appName:Pt})}const J=new h.H0(Pt);for(const ne of Fn.values())J.addComponent(ne);const Z=new Wt(st,kt,J);return cn.set(Pt,Z),Z}function jn(ct=zt){const $e=cn.get(ct);if(!$e&&ct===zt)return Zn();if(!$e)throw Hn.create("no-app",{appName:ct});return $e}function Ln(){return Array.from(cn.values())}function mt(ct){return yr.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(ct){const $e=ct.name;cn.has($e)&&(cn.delete($e),yield Promise.all(ct.container.getProviders().map(st=>st.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function xn(ct,$e,st){var kt;let Pt=null!==(kt=lt[ct])&&void 0!==kt?kt:ct;st&&(Pt+=`-${st}`);const gn=Pt.match(/\s|\//),J=$e.match(/\s|\//);if(gn||J){const Z=[`Unable to register library "${Pt}" with version "${$e}":`];return gn&&Z.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),gn&&J&&Z.push("and"),J&&Z.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void Q.warn(Z.join(" "))}Ft(new h.wA(`${Pt}-version`,()=>({library:Pt,version:$e}),"VERSION"))}function Zt(ct,$e){if(null!==ct&&"function"!=typeof ct)throw Hn.create("invalid-log-argument");(0,V.Am)(ct,$e)}function vr(ct){(0,V.Ub)(ct)}const Pn="firebase-heartbeat-store";let an=null;function wr(){return an||(an=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(ct,$e)=>{0===$e&&ct.createObjectStore(Pn)}}).catch(ct=>{throw Hn.create("idb-open",{originalErrorMessage:ct.message})})),an}function Tt(){return(Tt=(0,C.Z)(function*(ct){var $e;try{return(yield wr()).transaction(Pn).objectStore(Pn).get(Yr(ct))}catch(st){if(st instanceof he.ZR)Q.warn(st.message);else{const kt=Hn.create("idb-get",{originalErrorMessage:null===($e=st)||void 0===$e?void 0:$e.message});Q.warn(kt.message)}}})).apply(this,arguments)}function yt(ct,$e){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(ct,$e){var st;try{const Pt=(yield wr()).transaction(Pn,"readwrite");return yield Pt.objectStore(Pn).put($e,Yr(ct)),Pt.done}catch(kt){if(kt instanceof he.ZR)Q.warn(kt.message);else{const Pt=Hn.create("idb-set",{originalErrorMessage:null===(st=kt)||void 0===st?void 0:st.message});Q.warn(Pt.message)}}})).apply(this,arguments)}function Yr(ct){return`${ct.name}!${ct.options.appId}`}class Xn{constructor($e){this.container=$e,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Jr(st),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var $e=this;return(0,C.Z)(function*(){const kt=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=Vn();if(null===$e._heartbeatsCache&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise),$e._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!$e._heartbeatsCache.heartbeats.some(gn=>gn.date===Pt))return $e._heartbeatsCache.heartbeats.push({date:Pt,agent:kt}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(gn=>{const J=new Date(gn.date).valueOf();return Date.now()-J<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,C.Z)(function*(){if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null===$e._heartbeatsCache||0===$e._heartbeatsCache.heartbeats.length)return"";const st=Vn(),{heartbeatsToSend:kt,unsentEntries:Pt}=function At(ct,$e=1024){const st=[];let kt=ct.slice();for(const Pt of ct){const gn=st.find(J=>J.agent===Pt.agent);if(gn){if(gn.dates.push(Pt.date),tn(st)>$e){gn.dates.pop();break}}else if(st.push({agent:Pt.agent,dates:[Pt.date]}),tn(st)>$e){st.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:st,unsentEntries:kt}}($e._heartbeatsCache.heartbeats),gn=(0,he.L)(JSON.stringify({version:2,heartbeats:kt}));return $e._heartbeatsCache.lastSentHeartbeatDate=st,Pt.length>0?($e._heartbeatsCache.heartbeats=Pt,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),gn})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class Jr{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,C.Z)(function*(){return(yield $e._canUseIndexedDBPromise)&&(yield function ht(ct){return Tt.apply(this,arguments)}($e.app))||{heartbeats:[]}})()}overwrite($e){var st=this;return(0,C.Z)(function*(){var kt;if(yield st._canUseIndexedDBPromise){const gn=yield st.read();return yt(st.app,{lastSentHeartbeatDate:null!==(kt=$e.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var st=this;return(0,C.Z)(function*(){var kt;if(yield st._canUseIndexedDBPromise){const gn=yield st.read();return yt(st.app,{lastSentHeartbeatDate:null!==(kt=$e.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...$e.heartbeats]})}})()}}function tn(ct){return(0,he.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function Qn(ct){Ft(new h.wA("platform-logger",$e=>new De($e),"PRIVATE")),Ft(new h.wA("heartbeat",$e=>new Xn($e),"PRIVATE")),xn(pe,"0.8.2",ct),xn(pe,"0.8.2","esm2017"),xn("fire-js","")}("")},4859:(pt,ae,j)=>{"use strict";j.d(ae,{wA:()=>V,H0:()=>pe});var C=j(5861),h=j(2090);class V{constructor(Q,Y,ue){this.name=Q,this.instanceFactory=Y,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const he="[DEFAULT]";class ce{constructor(Q,Y){this.name=Q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Y=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Y)){const ue=new h.BH;if(this.instancesDeferred.set(Y,ue),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Y});Ye&&ue.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(Y).promise}getImmediate(Q){var Y;const ue=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Ye=null!==(Y=null==Q?void 0:Q.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Ee){if(Ye)return null;throw Ee}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function _e(xe){return"EAGER"===xe.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:he})}catch(Y){}for(const[Y,ue]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Y);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ye});ue.resolve(Ee)}catch(Ee){}}}}clearInstance(Q=he){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,C.Z)(function*(){const Y=Array.from(Q.instances.values());yield Promise.all([...Y.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...Y.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=he){return this.instances.has(Q)}getOptions(Q=he){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Y={}}=Q,ue=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ue,options:Y});for(const[Ee,Me]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Ee)&&Me.resolve(Ye);return Ye}onInit(Q,Y){var ue;const Ye=this.normalizeInstanceIdentifier(Y),Ee=null!==(ue=this.onInitCallbacks.get(Ye))&&void 0!==ue?ue:new Set;Ee.add(Q),this.onInitCallbacks.set(Ye,Ee);const Me=this.instances.get(Ye);return Me&&Q(Me,Ye),()=>{Ee.delete(Q)}}invokeOnInitCallbacks(Q,Y){const ue=this.onInitCallbacks.get(Y);if(ue)for(const Ye of ue)try{Ye(Q,Y)}catch(Ee){}}getOrInitializeService({instanceIdentifier:Q,options:Y={}}){let ue=this.instances.get(Q);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Q,xe===he?void 0:xe),options:Y}),this.instances.set(Q,ue),this.instancesOptions.set(Q,Y),this.invokeOnInitCallbacks(ue,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ue)}catch(Ye){}var xe;return ue||null}normalizeInstanceIdentifier(Q=he){return this.component?this.component.multipleInstances?Q:he:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Y=this.getProvider(Q.name);if(Y.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Y.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Y=new ce(Q,this);return this.providers.set(Q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,ae,j)=>{"use strict";j.d(ae,{in:()=>h,Yd:()=>_e,Ub:()=>pe,Am:()=>xe});const C=[];var h=(()=>{return(Q=h||(h={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",h;var Q})();const V={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},he=h.INFO,ce={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},De=(Q,Y,...ue)=>{if(Y<Q.logLevel)return;const Ye=(new Date).toISOString(),Ee=ce[Y];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ee](`[${Ye}]  ${Q.name}:`,...ue)};class _e{constructor(Y){this.name=Y,this._logLevel=he,this._logHandler=De,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in h))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?V[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...Y),this._logHandler(this,h.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...Y),this._logHandler(this,h.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,h.INFO,...Y),this._logHandler(this,h.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,h.WARN,...Y),this._logHandler(this,h.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...Y),this._logHandler(this,h.ERROR,...Y)}}function pe(Q){C.forEach(Y=>{Y.setLogLevel(Q)})}function xe(Q,Y){for(const ue of C){let Ye=null;Y&&Y.level&&(Ye=V[Y.level]),ue.userLogHandler=null===Q?null:(Ee,Me,...Fe)=>{const ye=Fe.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(Ve){return null}}).filter(Te=>Te).join(" ");Me>=(null!=Ye?Ye:Ee.logLevel)&&Q({level:h[Me].toLowerCase(),message:ye,args:Fe,type:Ee.name})}}}},8766:(pt,ae,j)=>{"use strict";j.d(ae,{Lj:()=>ze,X3:()=>Je});var C=j(5861);let V,he;const _e=new WeakMap,pe=new WeakMap,xe=new WeakMap,Q=new WeakMap,Y=new WeakMap;let Ee={get(Ae,Oe,re){if(Ae instanceof IDBTransaction){if("done"===Oe)return pe.get(Ae);if("objectStoreNames"===Oe)return Ae.objectStoreNames||xe.get(Ae);if("store"===Oe)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return Te(Ae[Oe])},set:(Ae,Oe,re)=>(Ae[Oe]=re,!0),has:(Ae,Oe)=>Ae instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Ae};function ye(Ae){return"function"==typeof Ae?function Fe(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...Oe){return Ae.apply(Ve(this),Oe),Te(_e.get(this))}:function(...Oe){return Te(Ae.apply(Ve(this),Oe))}:function(Oe,...re){const le=Ae.call(Ve(this),Oe,...re);return xe.set(le,Oe.sort?Oe.sort():[Oe]),Te(le)}}(Ae):(Ae instanceof IDBTransaction&&function Ye(Ae){if(pe.has(Ae))return;const Oe=new Promise((re,le)=>{const me=()=>{Ae.removeEventListener("complete",Re),Ae.removeEventListener("error",be),Ae.removeEventListener("abort",be)},Re=()=>{re(),me()},be=()=>{le(Ae.error||new DOMException("AbortError","AbortError")),me()};Ae.addEventListener("complete",Re),Ae.addEventListener("error",be),Ae.addEventListener("abort",be)});pe.set(Ae,Oe)}(Ae),((Ae,Oe)=>Oe.some(re=>Ae instanceof re))(Ae,function ce(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Ee):Ae)}function Te(Ae){if(Ae instanceof IDBRequest)return function ue(Ae){const Oe=new Promise((re,le)=>{const me=()=>{Ae.removeEventListener("success",Re),Ae.removeEventListener("error",be)},Re=()=>{re(Te(Ae.result)),me()},be=()=>{le(Ae.error),me()};Ae.addEventListener("success",Re),Ae.addEventListener("error",be)});return Oe.then(re=>{re instanceof IDBCursor&&_e.set(re,Ae)}).catch(()=>{}),Y.set(Oe,Ae),Oe}(Ae);if(Q.has(Ae))return Q.get(Ae);const Oe=ye(Ae);return Oe!==Ae&&(Q.set(Ae,Oe),Y.set(Oe,Ae)),Oe}const Ve=Ae=>Y.get(Ae);function Je(Ae,Oe,{blocked:re,upgrade:le,blocking:me,terminated:Re}={}){const be=indexedDB.open(Ae,Oe),Ge=Te(be);return le&&be.addEventListener("upgradeneeded",It=>{le(Te(be.result),It.oldVersion,It.newVersion,Te(be.transaction))}),re&&be.addEventListener("blocked",()=>re()),Ge.then(It=>{Re&&It.addEventListener("close",()=>Re()),me&&It.addEventListener("versionchange",()=>me())}).catch(()=>{}),Ge}function ze(Ae,{blocked:Oe}={}){const re=indexedDB.deleteDatabase(Ae);return Oe&&re.addEventListener("blocked",()=>Oe()),Te(re).then(()=>{})}const We=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],it=new Map;function fe(Ae,Oe){if(!(Ae instanceof IDBDatabase)||Oe in Ae||"string"!=typeof Oe)return;if(it.get(Oe))return it.get(Oe);const re=Oe.replace(/FromIndex$/,""),le=Oe!==re,me=Be.includes(re);if(!(re in(le?IDBIndex:IDBObjectStore).prototype)||!me&&!We.includes(re))return;const Re=function(){var be=(0,C.Z)(function*(Ge,...It){const hn=this.transaction(Ge,me?"readwrite":"readonly");let zt=hn.store;return le&&(zt=zt.index(It.shift())),(yield Promise.all([zt[re](...It),me&&hn.done]))[0]});return function(It){return be.apply(this,arguments)}}();return it.set(Oe,Re),Re}!function Me(Ae){Ee=Ae(Ee)}(Ae=>TA(DA({},Ae),{get:(Oe,re,le)=>fe(Oe,re)||Ae.get(Oe,re,le),has:(Oe,re)=>!!fe(Oe,re)||Ae.has(Oe,re)}))},5861:(pt,ae,j)=>{"use strict";function C(V,he,ce,De,_e,pe,xe){try{var Q=V[pe](xe),Y=Q.value}catch(ue){return void ce(ue)}Q.done?he(Y):Promise.resolve(Y).then(De,_e)}function h(V){return function(){var he=this,ce=arguments;return new Promise(function(De,_e){var pe=V.apply(he,ce);function xe(Y){C(pe,De,_e,xe,Q,"next",Y)}function Q(Y){C(pe,De,_e,xe,Q,"throw",Y)}xe(void 0)})}}j.d(ae,{Z:()=>h})}},pt=>{pt(pt.s=9389)}]);